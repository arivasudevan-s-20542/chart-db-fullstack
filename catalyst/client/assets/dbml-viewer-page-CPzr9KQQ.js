import{u as b,r as s,j as e}from"./index-DY4lwpwP.js";import{B as o,L as c}from"./label-BRUqhX6x.js";import{F as m,U as g,C as N}from"./code-editor-CnstDFjw.js";import{T as v}from"./textarea-WOrfQulB.js";import{A as L}from"./arrow-left-DELTxj9Y.js";import"./spinner-CVTCfUTm.js";import"./use-theme-2X7Juh3D.js";import"./theme-context-CYHh4AWr.js";import"./use-toast-CCsW8X7b.js";const z=()=>{const r=b(),[a,n]=s.useState(""),[x,i]=s.useState(""),p=s.useCallback(t=>{const l=t.target.files?.[0];if(!l)return;i(l.name);const d=new FileReader;d.onload=u=>{const j=u.target?.result;n(j)},d.readAsText(l)},[]),f=s.useCallback(t=>{n(t.target.value),i("Pasted Content")},[]),h=s.useCallback(()=>{r("/editor")},[r]);return e.jsxs("div",{className:"flex h-screen flex-col bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:h,children:e.jsx(L,{className:"size-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"size-6 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold",children:"DBML Viewer"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("label",{htmlFor:"dbml-file-upload",children:e.jsx(o,{variant:"outline",asChild:!0,children:e.jsxs("span",{className:"cursor-pointer",children:[e.jsx(g,{className:"mr-2 size-4"}),"Upload DBML File"]})})}),e.jsx("input",{id:"dbml-file-upload",type:"file",accept:".dbml,.txt",className:"hidden",onChange:p})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex w-1/2 flex-col border-r p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{className:"text-lg font-semibold",children:"DBML Input"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Paste your DBML content or upload a file"})]}),e.jsx(v,{placeholder:`Paste your DBML content here...

Example:
Table users {
  id integer [primary key]
  username varchar
  created_at timestamp
}

Table posts {
  id integer [primary key]
  user_id integer [ref: > users.id]
  title varchar
  content text
}`,className:"flex-1 font-mono text-sm",value:a,onChange:f})]}),e.jsxs("div",{className:"flex w-1/2 flex-col p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{className:"text-lg font-semibold",children:x||"DBML Preview"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Syntax-highlighted DBML view"})]}),a?e.jsx("div",{className:"flex-1 overflow-hidden rounded-lg border",children:e.jsx(N,{className:"size-full",code:a,autoScroll:!1,isComplete:!0})}):e.jsx("div",{className:"flex flex-1 items-center justify-center rounded-lg border border-dashed",children:e.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[e.jsx(m,{className:"size-12"}),e.jsx("p",{className:"text-sm",children:"Upload a DBML file or paste content to view"})]})})]})]}),e.jsx("div",{className:"border-t px-6 py-3",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["DBML (Database Markup Language) is a simple, readable DSL for defining database schemas. Learn more at"," ",e.jsx("a",{href:"https://dbml.dbdiagram.io/",target:"_blank",rel:"noreferrer",className:"text-primary hover:underline",children:"dbml.dbdiagram.io"})]})})]})};export{z as DBMLViewerPage};
