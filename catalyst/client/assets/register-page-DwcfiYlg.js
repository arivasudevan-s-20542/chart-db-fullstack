import{u as C,a as S,r as t,j as e,D as P,L as E}from"./index-DY4lwpwP.js";import{L as i,B as L}from"./label-BRUqhX6x.js";import{I as o}from"./input-BPPsHut0.js";import{S as F}from"./spinner-CVTCfUTm.js";import{S as D}from"./social-login-buttons-Denryo0m.js";import{D as q}from"./diagram-icon-tBo8msAN.js";import"./database-edition-CVGqoTM3.js";import"./databases-DbMVk969.js";const J=()=>{const u=C(),{register:p,isLoading:a,error:x,clearError:h}=S(),[d,f]=t.useState(""),[n,j]=t.useState(""),[c,v]=t.useState(""),[r,N]=t.useState(""),[m,w]=t.useState(""),[g,l]=t.useState(null),b=t.useCallback(async s=>{if(s.preventDefault(),l(null),h(),!d||!n||!c||!r||!m){l("Please fill in all fields");return}if(r!==m){l("Passwords do not match");return}if(r.length<8){l("Password must be at least 8 characters");return}try{await p(c,r,d,n),u("/",{replace:!0})}catch(y){l(y.message||"Registration failed")}},[d,n,c,r,m,p,u,h]);return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:e.jsxs("div",{className:"w-full max-w-md space-y-8 rounded-lg border bg-card p-8 shadow-lg",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(q,{databaseType:P.GENERIC}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Create Account"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign up to start creating diagrams"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[(x||g)&&e.jsx("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive",children:x||g}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"firstName",children:"First Name"}),e.jsx(o,{id:"firstName",type:"text",placeholder:"John",value:d,onChange:s=>f(s.target.value),disabled:a,autoComplete:"given-name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"lastName",children:"Last Name"}),e.jsx(o,{id:"lastName",type:"text",placeholder:"Doe",value:n,onChange:s=>j(s.target.value),disabled:a,autoComplete:"family-name",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"email",placeholder:"you@example.com",value:c,onChange:s=>v(s.target.value),disabled:a,autoComplete:"email",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"password",children:"Password"}),e.jsx(o,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:s=>N(s.target.value),disabled:a,autoComplete:"new-password",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(o,{id:"confirmPassword",type:"password",placeholder:"••••••••",value:m,onChange:s=>w(s.target.value),disabled:a,autoComplete:"new-password",required:!0})]}),e.jsx(L,{type:"submit",className:"w-full",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 size-4"}),"Creating account..."]}):"Create Account"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or sign up with"})})]}),e.jsx(D,{disabled:a}),e.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",e.jsx(E,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign in"})]})]})})};export{J as RegisterPage,J as default};
