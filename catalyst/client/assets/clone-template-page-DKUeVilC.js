import{j as e,u as l,r,f as p,g as f}from"./index-DY4lwpwP.js";import{S as g}from"./spinner-CVTCfUTm.js";import{u}from"./use-storage-CxHm3ldK.js";import{L as x,T as j}from"./theme-provider-C3PqonoD.js";import{H as T}from"./hybrid-storage-provider-DmYvaGnN.js";import"./theme-context-CYHh4AWr.js";const v=()=>{const t=l(),{addDiagram:s,deleteDiagram:o}=u(),n=r.useRef(!1),a=p().template,i=r.useCallback(async()=>{if(!a||n.current)return;n.current=!0;const c=f(a);await o(c.id);const m=new Date,d={...c,createdAt:m,updatedAt:m};await s({diagram:d}),t(`/diagrams/${d.id}`)},[s,o,t,a]);return r.useEffect(()=>{a?i():t("/templates")},[a,t,i]),e.jsx("section",{className:"flex w-screen flex-col bg-background",children:e.jsx(g,{size:"large",className:"mt-20 text-pink-600"})})},S=()=>e.jsx(x,{children:e.jsx(T,{children:e.jsx(j,{children:e.jsx(v,{})})})});export{v as CloneTemplateComponent,S as CloneTemplatePage};
