import{u as v,a as N,r as l,j as e,D as b,L as y}from"./index-DY4lwpwP.js";import{L as u,B as x}from"./label-BRUqhX6x.js";import{I as p}from"./input-BPPsHut0.js";import{S as w}from"./spinner-CVTCfUTm.js";import{S}from"./social-login-buttons-Denryo0m.js";import{D as C}from"./diagram-icon-tBo8msAN.js";import"./database-edition-CVGqoTM3.js";import"./databases-DbMVk969.js";const q=()=>{const i=v(),{login:c,isLoading:s,error:o,clearError:d}=N(),[t,h]=l.useState(""),[r,j]=l.useState(""),[m,n]=l.useState(null),g=l.useCallback(async a=>{if(a.preventDefault(),n(null),d(),!t||!r){n("Please enter both email and password");return}try{await c(t,r),i("/",{replace:!0})}catch(f){n(f.message||"Login failed")}},[t,r,c,i,d]);return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:e.jsxs("div",{className:"w-full max-w-md space-y-8 rounded-lg border bg-card p-8 shadow-lg",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(C,{databaseType:b.GENERIC}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Welcome to ChartDB"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in to your account to continue"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[(o||m)&&e.jsx("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive",children:o||m}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(p,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:a=>h(a.target.value),disabled:s,autoComplete:"email",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"password",children:"Password"}),e.jsx(p,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:a=>j(a.target.value),disabled:s,autoComplete:"current-password",required:!0})]}),e.jsx(x,{type:"submit",className:"w-full",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mr-2 size-4"}),"Signing in..."]}):"Sign In"})]}),e.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",e.jsx(y,{to:"/register",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),e.jsx(S,{disabled:s}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),e.jsx(x,{variant:"outline",className:"w-full",onClick:()=>i("/"),children:"Continue as Guest"})]})})};export{q as LoginPage,q as default};
