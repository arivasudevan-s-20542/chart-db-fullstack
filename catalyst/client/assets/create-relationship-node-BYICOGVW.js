import{r as l,a3 as cp,a4 as lp,j as m,a0 as ve,a5 as up,a6 as dp,a7 as Ki,h as V,D as De,y as Qe,Y as fn,R as ce,a1 as Te,a8 as tn,$ as pn,X as ke,a9 as at,a2 as ue,aa as fp,ab as qi,d as ye,o as hn,n as je,ac as pt,ad as Ni,s as Ee,m as Zt,G as Xa,ae as pp,af as Tc,ag as Ua,ah as Ze,ai as Jo,aj as hp,p as mp,ak as Za,al as gp,am as yp,an as io,ao as Qi,ap as Ji,aq as vp,ar as Pc,as as Ac,at as xp,au as Ka,av as wp}from"./index-DY4lwpwP.js";import{c as Ne,a as bp}from"./spinner-CVTCfUTm.js";import{a as Cp}from"./theme-provider-C3PqonoD.js";import{v as Sp,d as Ep,b as _p}from"./logo-light-BFt8fYOX.js";import{u as Np,b as Rp,c as Dp}from"./use-storage-CxHm3ldK.js";import{D as Yt}from"./database-edition-CVGqoTM3.js";import{c as Mp,B as qa}from"./label-BRUqhX6x.js";import{u as Tp}from"./use-toast-CCsW8X7b.js";var Pp="Portal",ao=l.forwardRef((e,t)=>{const{container:n,...r}=e,[o,i]=l.useState(!1);cp(()=>i(!0),[]);const a=n||o&&globalThis?.document?.body;return a?lp.createPortal(m.jsx(ve.div,{...r,ref:t}),a):null});ao.displayName=Pp;const W2=()=>l.useContext(up);const Ap=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ip=Ne("arrow-right",Ap);const kp=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],G2=Ne("check",kp);const Op=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Y2=Ne("chevron-down",Op);const $p=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jp=Ne("chevron-left",$p);const Lp=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],X2=Ne("chevron-up",Lp);const Fp=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],U2=Ne("ellipsis",Fp);const Hp=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]],Z2=Ne("file-type-2",Hp);const zp=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],K2=Ne("file",zp);const Vp=[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]],q2=Ne("group",Vp);const Bp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Q2=Ne("info",Bp);const Wp=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],J2=Ne("layout-grid",Wp);const Gp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eS=Ne("search",Gp);const Yp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],tS=Ne("square-plus",Yp);const Xp=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],nS=Ne("table",Xp);const Up=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],rS=Ne("trash-2",Up);const Zp=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oS=Ne("triangle-alert",Zp);const Kp=[["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],iS=Ne("view",Kp);const qp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qp=Ne("x",qp);var ei={},Ri=function(e,t){return Ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Ri(e,t)};function Ic(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ri(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Le=function(){return Le=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Le.apply(this,arguments)};function so(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function kc(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function Oc(e,t){return function(n,r){t(n,r,e)}}function $c(e,t,n,r,o,i){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=r.kind,u=s==="getter"?"get":s==="setter"?"set":"value",c=!t&&e?r.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,p=!1,h=n.length-1;h>=0;h--){var g={};for(var x in r)g[x]=x==="access"?{}:r[x];for(var x in r.access)g.access[x]=r.access[x];g.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(w||null))};var y=(0,n[h])(s==="accessor"?{get:d.get,set:d.set}:d[u],g);if(s==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=a(y.get))&&(d.get=f),(f=a(y.set))&&(d.set=f),(f=a(y.init))&&o.unshift(f)}else(f=a(y))&&(s==="field"?o.unshift(f):d[u]=f)}c&&Object.defineProperty(c,r.name,d),p=!0}function jc(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function Lc(e){return typeof e=="symbol"?e:"".concat(e)}function Fc(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Hc(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function zc(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(d){try{c(r.next(d))}catch(f){a(f)}}function u(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):o(d.value).then(s,u)}c((r=r.apply(e,t||[])).next())})}function Vc(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(d){return u([c,d])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var co=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function Bc(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&co(t,e,n)}function Wn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ea(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function Wc(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ea(arguments[t]));return e}function Gc(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function ta(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function nn(e){return this instanceof nn?(this.v=e,this):new nn(e)}function Yc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(h){return function(g){return Promise.resolve(g).then(h,f)}}function s(h,g){r[h]&&(o[h]=function(x){return new Promise(function(y,w){i.push([h,x,y,w])>1||u(h,x)})},g&&(o[h]=g(o[h])))}function u(h,g){try{c(r[h](g))}catch(x){p(i[0][3],x)}}function c(h){h.value instanceof nn?Promise.resolve(h.value.v).then(d,f):p(i[0][2],h)}function d(h){u("next",h)}function f(h){u("throw",h)}function p(h,g){h(g),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Xc(e){var t,n;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,i){t[o]=e[o]?function(a){return(n=!n)?{value:nn(e[o](a)),done:!1}:i?i(a):a}:i}}function Uc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Wn=="function"?Wn(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(c){i({value:c,done:s})},a)}}function Zc(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Jp=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Di=function(e){return Di=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Di(e)};function Kc(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Di(e),r=0;r<n.length;r++)n[r]!=="default"&&co(t,e,n[r]);return Jp(t,e),t}function qc(e){return e&&e.__esModule?e:{default:e}}function Qc(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Jc(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n}function el(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function tl(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var eh=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function nl(e){function t(i){e.error=e.hasError?new eh(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,r=0;function o(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(a){return t(a),o()})}else r|=1}catch(a){t(a)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function rl(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,i,a){return r?t?".jsx":".js":o&&(!i||!a)?n:o+i+"."+a.toLowerCase()+"js"}):e}const th={__extends:Ic,__assign:Le,__rest:so,__decorate:kc,__param:Oc,__esDecorate:$c,__runInitializers:jc,__propKey:Lc,__setFunctionName:Fc,__metadata:Hc,__awaiter:zc,__generator:Vc,__createBinding:co,__exportStar:Bc,__values:Wn,__read:ea,__spread:Wc,__spreadArrays:Gc,__spreadArray:ta,__await:nn,__asyncGenerator:Yc,__asyncDelegator:Xc,__asyncValues:Uc,__makeTemplateObject:Zc,__importStar:Kc,__importDefault:qc,__classPrivateFieldGet:Qc,__classPrivateFieldSet:Jc,__classPrivateFieldIn:el,__addDisposableResource:tl,__disposeResources:nl,__rewriteRelativeImportExtension:rl},nh=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:tl,get __assign(){return Le},__asyncDelegator:Xc,__asyncGenerator:Yc,__asyncValues:Uc,__await:nn,__awaiter:zc,__classPrivateFieldGet:Qc,__classPrivateFieldIn:el,__classPrivateFieldSet:Jc,__createBinding:co,__decorate:kc,__disposeResources:nl,__esDecorate:$c,__exportStar:Bc,__extends:Ic,__generator:Vc,__importDefault:qc,__importStar:Kc,__makeTemplateObject:Zc,__metadata:Hc,__param:Oc,__propKey:Lc,__read:ea,__rest:so,__rewriteRelativeImportExtension:rl,__runInitializers:jc,__setFunctionName:Fc,__spread:Wc,__spreadArray:ta,__spreadArrays:Gc,__values:Wn,default:th},Symbol.toStringTag,{value:"Module"})),rh=dp(nh);var Qa;function oh(){return Qa||(Qa=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.EventEmitter=void 0;var t=rh,n=Ki(),r=e.EventEmitter=(function(){function i(){var a=this;this.subscriptions=new Set,this.emit=function(s){var u,c;try{for(var d=(0,t.__values)(a.subscriptions),f=d.next();!f.done;f=d.next()){var p=f.value;p(s)}}catch(h){u={error:h}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}},this.useSubscription=function(s){var u=(0,n.useRef)(void 0);u.current=s,(0,n.useEffect)(function(){function c(d){u.current&&u.current(d)}return a.subscriptions.add(c),function(){a.subscriptions.delete(c)}},[])}}return i})();function o(){var i=(0,n.useRef)(void 0);return i.current||(i.current=new r),i.current}e.default=o})(ei)),ei}var ol=oh();const il=l.createContext({databaseType:De.GENERIC,diagramName:"",diagramId:"",tables:[],relationships:[],dependencies:[],areas:[],customTypes:[],notes:[],schemas:[],highlightCustomTypeId:V,currentDiagram:{id:"",name:"",databaseType:De.GENERIC,createdAt:new Date,updatedAt:new Date},events:new ol.EventEmitter,updateDiagramId:V,updateDiagramName:V,updateDiagramUpdatedAt:V,loadDiagram:V,loadDiagramFromData:V,clearDiagramData:V,deleteDiagram:V,updateDiagramData:V,updateDatabaseType:V,updateDatabaseEdition:V,createTable:V,getTable:V,addTable:V,addTables:V,removeTable:V,removeTables:V,updateTable:V,updateTablesState:V,updateField:V,removeField:V,createField:V,addField:V,getField:V,createIndex:V,addIndex:V,getIndex:V,removeIndex:V,updateIndex:V,createRelationship:V,addRelationship:V,getRelationship:V,removeRelationship:V,updateRelationship:V,removeRelationships:V,addRelationships:V,createDependency:V,addDependency:V,getDependency:V,removeDependency:V,removeDependencies:V,addDependencies:V,updateDependency:V,createArea:V,addArea:V,addAreas:V,getArea:V,removeArea:V,removeAreas:V,updateArea:V,createNote:V,addNote:V,addNotes:V,getNote:V,removeNote:V,removeNotes:V,updateNote:V,createCustomType:V,addCustomType:V,addCustomTypes:V,getCustomType:V,removeCustomType:V,removeCustomTypes:V,updateCustomType:V}),ih=()=>l.useContext(il),ah=l.createContext({openCreateDiagramDialog:V,closeCreateDiagramDialog:V,openOpenDiagramDialog:V,closeOpenDiagramDialog:V,openExportSQLDialog:V,closeExportSQLDialog:V,closeCreateRelationshipDialog:V,openCreateRelationshipDialog:V,openImportDatabaseDialog:V,closeImportDatabaseDialog:V,openTableSchemaDialog:V,closeTableSchemaDialog:V,openStarUsDialog:V,closeStarUsDialog:V,openExportImageDialog:V,closeExportImageDialog:V,openExportDiagramDialog:V,closeExportDiagramDialog:V,openImportDiagramDialog:V,closeImportDiagramDialog:V,openExportDataDictionaryDialog:V,closeExportDataDictionaryDialog:V,openShareDiagramDialog:V,closeShareDiagramDialog:V}),aS=()=>l.useContext(ah);function $e(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var sh=["color"],ch=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,sh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lh=["color"],Ja=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,lh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),uh=["color"],sS=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,uh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),dh=["color"],cS=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,dh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fh=["color"],lS=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,fh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),ph=["color"],uS=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,ph);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),hh=["color"],Ir=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,hh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),mh=["color"],dS=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,mh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.07451 1.82584C5.03267 1.81926 4.99014 1.81825 4.94803 1.82284C4.10683 1.91446 2.82673 2.36828 2.07115 2.77808C2.02106 2.80525 1.97621 2.84112 1.93869 2.88402C1.62502 3.24266 1.34046 3.82836 1.11706 4.38186C0.887447 4.95076 0.697293 5.55032 0.588937 5.98354C0.236232 7.39369 0.042502 9.08728 0.0174948 10.6925C0.0162429 10.7729 0.0351883 10.8523 0.0725931 10.9234C0.373679 11.496 1.02015 12.027 1.66809 12.4152C2.32332 12.8078 3.08732 13.1182 3.70385 13.1778C3.85335 13.1922 4.00098 13.1358 4.10282 13.0255C4.2572 12.8581 4.5193 12.4676 4.71745 12.1643C4.80739 12.0267 4.89157 11.8953 4.95845 11.7901C5.62023 11.9106 6.45043 11.9801 7.50002 11.9801C8.54844 11.9801 9.37796 11.9107 10.0394 11.7905C10.1062 11.8957 10.1903 12.0269 10.2801 12.1643C10.4783 12.4676 10.7404 12.8581 10.8947 13.0255C10.9966 13.1358 11.1442 13.1922 11.2937 13.1778C11.9102 13.1182 12.6742 12.8078 13.3295 12.4152C13.9774 12.027 14.6239 11.496 14.925 10.9234C14.9624 10.8523 14.9813 10.7729 14.9801 10.6925C14.9551 9.08728 14.7613 7.39369 14.4086 5.98354C14.3003 5.55032 14.1101 4.95076 13.8805 4.38186C13.6571 3.82836 13.3725 3.24266 13.0589 2.88402C13.0214 2.84112 12.9765 2.80525 12.9264 2.77808C12.1708 2.36828 10.8907 1.91446 10.0495 1.82284C10.0074 1.81825 9.96489 1.81926 9.92305 1.82584C9.71676 1.85825 9.5391 1.96458 9.40809 2.06355C9.26977 2.16804 9.1413 2.29668 9.0304 2.42682C8.86968 2.61544 8.71437 2.84488 8.61428 3.06225C8.27237 3.03501 7.90138 3.02 7.5 3.02C7.0977 3.02 6.72593 3.03508 6.38337 3.06244C6.28328 2.84501 6.12792 2.61549 5.96716 2.42682C5.85626 2.29668 5.72778 2.16804 5.58947 2.06355C5.45846 1.96458 5.2808 1.85825 5.07451 1.82584ZM11.0181 11.5382C11.0395 11.5713 11.0615 11.6051 11.0838 11.6392C11.2169 11.843 11.3487 12.0385 11.4508 12.1809C11.8475 12.0916 12.352 11.8818 12.8361 11.5917C13.3795 11.2661 13.8098 10.8918 14.0177 10.5739C13.9852 9.06758 13.7993 7.50369 13.4773 6.21648C13.38 5.82759 13.2038 5.27021 12.9903 4.74117C12.7893 4.24326 12.5753 3.82162 12.388 3.5792C11.7376 3.24219 10.7129 2.88582 10.0454 2.78987C10.0308 2.79839 10.0113 2.81102 9.98675 2.82955C9.91863 2.881 9.84018 2.95666 9.76111 3.04945C9.71959 3.09817 9.68166 3.1471 9.64768 3.19449C9.953 3.25031 10.2253 3.3171 10.4662 3.39123C11.1499 3.6016 11.6428 3.89039 11.884 4.212C12.0431 4.42408 12.0001 4.72494 11.788 4.884C11.5759 5.04306 11.2751 5.00008 11.116 4.788C11.0572 4.70961 10.8001 4.4984 10.1838 4.30877C9.58933 4.12585 8.71356 3.98 7.5 3.98C6.28644 3.98 5.41067 4.12585 4.81616 4.30877C4.19988 4.4984 3.94279 4.70961 3.884 4.788C3.72494 5.00008 3.42408 5.04306 3.212 4.884C2.99992 4.72494 2.95694 4.42408 3.116 4.212C3.35721 3.89039 3.85011 3.6016 4.53383 3.39123C4.77418 3.31727 5.04571 3.25062 5.35016 3.19488C5.31611 3.14738 5.27808 3.09831 5.23645 3.04945C5.15738 2.95666 5.07893 2.881 5.01081 2.82955C4.98628 2.81102 4.96674 2.79839 4.95217 2.78987C4.28464 2.88582 3.25999 3.24219 2.60954 3.5792C2.42226 3.82162 2.20825 4.24326 2.00729 4.74117C1.79376 5.27021 1.61752 5.82759 1.52025 6.21648C1.19829 7.50369 1.01236 9.06758 0.97986 10.5739C1.18772 10.8918 1.61807 11.2661 2.16148 11.5917C2.64557 11.8818 3.15003 12.0916 3.5468 12.1809C3.64885 12.0385 3.78065 11.843 3.9138 11.6392C3.93626 11.6048 3.95838 11.5708 3.97996 11.5375C3.19521 11.2591 2.77361 10.8758 2.50064 10.4664C2.35359 10.2458 2.4132 9.94778 2.63377 9.80074C2.85435 9.65369 3.15236 9.71329 3.29941 9.93387C3.56077 10.3259 4.24355 11.0201 7.50002 11.0201C10.7565 11.0201 11.4392 10.326 11.7006 9.93386C11.8477 9.71329 12.1457 9.65369 12.3663 9.80074C12.5869 9.94779 12.6465 10.2458 12.4994 10.4664C12.2262 10.8762 11.8041 11.2598 11.0181 11.5382ZM4.08049 7.01221C4.32412 6.74984 4.65476 6.60162 5.00007 6.59998C5.34538 6.60162 5.67603 6.74984 5.91966 7.01221C6.16329 7.27459 6.30007 7.62974 6.30007 7.99998C6.30007 8.37021 6.16329 8.72536 5.91966 8.98774C5.67603 9.25011 5.34538 9.39833 5.00007 9.39998C4.65476 9.39833 4.32412 9.25011 4.08049 8.98774C3.83685 8.72536 3.70007 8.37021 3.70007 7.99998C3.70007 7.62974 3.83685 7.27459 4.08049 7.01221ZM9.99885 6.59998C9.65354 6.60162 9.3229 6.74984 9.07926 7.01221C8.83563 7.27459 8.69885 7.62974 8.69885 7.99998C8.69885 8.37021 8.83563 8.72536 9.07926 8.98774C9.3229 9.25011 9.65354 9.39833 9.99885 9.39998C10.3442 9.39833 10.6748 9.25011 10.9184 8.98774C11.1621 8.72536 11.2989 8.37021 11.2989 7.99998C11.2989 7.62974 11.1621 7.27459 10.9184 7.01221C10.6748 6.74984 10.3442 6.60162 9.99885 6.59998Z",fill:r}))}),gh=["color"],fS=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,gh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))}),yh=["color"],pS=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,yh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M5.5 4.625C6.12132 4.625 6.625 4.12132 6.625 3.5C6.625 2.87868 6.12132 2.375 5.5 2.375C4.87868 2.375 4.375 2.87868 4.375 3.5C4.375 4.12132 4.87868 4.625 5.5 4.625ZM9.5 4.625C10.1213 4.625 10.625 4.12132 10.625 3.5C10.625 2.87868 10.1213 2.375 9.5 2.375C8.87868 2.375 8.375 2.87868 8.375 3.5C8.375 4.12132 8.87868 4.625 9.5 4.625ZM10.625 7.5C10.625 8.12132 10.1213 8.625 9.5 8.625C8.87868 8.625 8.375 8.12132 8.375 7.5C8.375 6.87868 8.87868 6.375 9.5 6.375C10.1213 6.375 10.625 6.87868 10.625 7.5ZM5.5 8.625C6.12132 8.625 6.625 8.12132 6.625 7.5C6.625 6.87868 6.12132 6.375 5.5 6.375C4.87868 6.375 4.375 6.87868 4.375 7.5C4.375 8.12132 4.87868 8.625 5.5 8.625ZM10.625 11.5C10.625 12.1213 10.1213 12.625 9.5 12.625C8.87868 12.625 8.375 12.1213 8.375 11.5C8.375 10.8787 8.87868 10.375 9.5 10.375C10.1213 10.375 10.625 10.8787 10.625 11.5ZM5.5 12.625C6.12132 12.625 6.625 12.1213 6.625 11.5C6.625 10.8787 6.12132 10.375 5.5 10.375C4.87868 10.375 4.375 10.8787 4.375 11.5C4.375 12.1213 4.87868 12.625 5.5 12.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),vh=["color"],xh=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,vh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),wh=["color"],hS=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,wh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M7.23336 4.69629C7.23336 2.96884 8.63335 1.56857 10.36 1.56857C11.3736 1.56857 12.183 2.04804 12.7254 2.74385C13.3079 2.62467 13.8557 2.40913 14.3513 2.11508C14.1559 2.72598 13.7424 3.2396 13.2033 3.56463C13.2038 3.56568 13.2042 3.56674 13.2047 3.56779C13.7334 3.50361 14.2364 3.36302 14.7048 3.15546L14.7037 3.15715C14.3667 3.66183 13.9431 4.10736 13.4561 4.47034C13.4823 4.64672 13.4956 4.82427 13.4956 5.00079C13.4956 8.6871 10.6873 12.9746 5.52122 12.9746C3.93906 12.9746 2.46544 12.511 1.22505 11.7152C0.992632 11.5661 0.925108 11.2568 1.07423 11.0244C1.0874 11.0038 1.10183 10.9846 1.11734 10.9666C1.20582 10.8202 1.37438 10.7309 1.5554 10.7522C2.47066 10.8601 3.38568 10.7485 4.19219 10.3962C3.39226 10.0434 2.77129 9.35975 2.50204 8.51974C2.45359 8.3686 2.48835 8.20311 2.59351 8.08422C2.59716 8.0801 2.60087 8.07606 2.60464 8.0721C1.96391 7.50819 1.55973 6.68208 1.55973 5.76143V5.72759C1.55973 5.56814 1.64411 5.42059 1.78155 5.33974C1.82671 5.31317 1.87537 5.29511 1.92532 5.28558C1.70549 4.86154 1.58116 4.37984 1.58116 3.86958C1.58116 3.40165 1.58384 2.81192 1.91332 2.28081C1.98718 2.16175 2.10758 2.08915 2.2364 2.07195C2.42588 2.01237 2.64087 2.06969 2.77406 2.23302C3.86536 3.57126 5.44066 4.49583 7.23366 4.73961L7.23336 4.69629ZM5.52122 11.9746C4.73387 11.9746 3.97781 11.8435 3.27248 11.6023C4.13012 11.4538 4.95307 11.1159 5.66218 10.5602C5.81211 10.4427 5.87182 10.2435 5.81126 10.0629C5.7507 9.88234 5.583 9.75943 5.39255 9.75607C4.68968 9.74366 4.06712 9.39716 3.67793 8.86845C3.86828 8.85306 4.05428 8.82039 4.23445 8.77167C4.43603 8.71716 4.57363 8.53114 4.56674 8.32243C4.55985 8.11372 4.41029 7.93718 4.20555 7.89607C3.42694 7.73977 2.79883 7.16764 2.56169 6.42174C2.76255 6.47025 2.97102 6.4991 3.18482 6.5061C3.38563 6.51267 3.56646 6.38533 3.62795 6.19405C3.68943 6.00277 3.61666 5.79391 3.44963 5.68224C2.86523 5.29155 2.48116 4.62464 2.48116 3.86958C2.48116 3.70213 2.48352 3.55268 2.49355 3.41719C3.85115 4.79913 5.70873 5.68931 7.77588 5.79338C7.93225 5.80126 8.08328 5.73543 8.18395 5.61553C8.28463 5.49562 8.32332 5.33548 8.28851 5.18284C8.25255 5.02517 8.23336 4.86284 8.23336 4.69629C8.23336 3.52085 9.18591 2.56857 10.36 2.56857C11.5943 2.56857 12.4956 3.71208 12.4956 5.00079C12.4956 8.25709 10.0202 11.9746 5.52122 11.9746Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),bh=["color"],mS=l.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=$e(e,bh);return l.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),l.createElement("path",{d:"M8 2H13.5C13.7761 2 14 2.22386 14 2.5V12.5C14 12.7761 13.7761 13 13.5 13H8V2ZM7 2H1.5C1.22386 2 1 2.22386 1 2.5V12.5C1 12.7761 1.22386 13 1.5 13H7V2ZM0 2.5C0 1.67157 0.671573 1 1.5 1H13.5C14.3284 1 15 1.67157 15 2.5V12.5C15 13.3284 14.3284 14 13.5 14H1.5C0.671573 14 0 13.3284 0 12.5V2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function es(e){const t=Ch(e),n=l.forwardRef((r,o)=>{const{children:i,...a}=r,s=l.Children.toArray(i),u=s.find(Eh);if(u){const c=u.props.children,d=s.map(f=>f===u?l.Children.count(c)>1?l.Children.only(null):l.isValidElement(c)?c.props.children:null:f);return m.jsx(t,{...a,ref:o,children:l.isValidElement(c)?l.cloneElement(c,void 0,d):null})}return m.jsx(t,{...a,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function Ch(e){const t=l.forwardRef((n,r)=>{const{children:o,...i}=n;if(l.isValidElement(o)){const a=Nh(o),s=_h(i,o.props);return o.type!==l.Fragment&&(s.ref=r?Qe(r,a):a),l.cloneElement(o,s)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sh=Symbol("radix.slottable");function Eh(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sh}function _h(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...s)=>{const u=i(...s);return o(...s),u}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function Nh(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function al(e){const t=e+"CollectionProvider",[n,r]=fn(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:y,children:w}=x,E=ce.useRef(null),v=ce.useRef(new Map).current;return m.jsx(o,{scope:y,itemMap:v,collectionRef:E,children:w})};a.displayName=t;const s=e+"CollectionSlot",u=es(s),c=ce.forwardRef((x,y)=>{const{scope:w,children:E}=x,v=i(s,w),b=Te(y,v.collectionRef);return m.jsx(u,{ref:b,children:E})});c.displayName=s;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=es(d),h=ce.forwardRef((x,y)=>{const{scope:w,children:E,...v}=x,b=ce.useRef(null),N=Te(y,b),S=i(d,w);return ce.useEffect(()=>(S.itemMap.set(b,{ref:b,...v}),()=>{S.itemMap.delete(b)})),m.jsx(p,{[f]:"",ref:N,children:E})});h.displayName=d;function g(x){const y=i(e+"CollectionConsumer",x);return ce.useCallback(()=>{const E=y.collectionRef.current;if(!E)return[];const v=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((S,R)=>v.indexOf(S.ref.current)-v.indexOf(R.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},g,r]}const Rh={sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1400px"};function gS(e){const t=Cp({query:`(min-width: ${Rh[e]})`});return{[`is${e[0].toUpperCase()+e.substring(1)}`]:t}}var ti="focusScope.autoFocusOnMount",ni="focusScope.autoFocusOnUnmount",ts={bubbles:!1,cancelable:!0},Dh="FocusScope",lo=l.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[s,u]=l.useState(null),c=tn(o),d=tn(i),f=l.useRef(null),p=Te(t,x=>u(x)),h=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(r){let x=function(v){if(h.paused||!s)return;const b=v.target;s.contains(b)?f.current=b:ft(f.current,{select:!0})},y=function(v){if(h.paused||!s)return;const b=v.relatedTarget;b!==null&&(s.contains(b)||ft(f.current,{select:!0}))},w=function(v){if(document.activeElement===document.body)for(const N of v)N.removedNodes.length>0&&ft(s)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const E=new MutationObserver(w);return s&&E.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),E.disconnect()}}},[r,s,h.paused]),l.useEffect(()=>{if(s){rs.add(h);const x=document.activeElement;if(!s.contains(x)){const w=new CustomEvent(ti,ts);s.addEventListener(ti,c),s.dispatchEvent(w),w.defaultPrevented||(Mh(kh(sl(s)),{select:!0}),document.activeElement===x&&ft(s))}return()=>{s.removeEventListener(ti,c),setTimeout(()=>{const w=new CustomEvent(ni,ts);s.addEventListener(ni,d),s.dispatchEvent(w),w.defaultPrevented||ft(x??document.body,{select:!0}),s.removeEventListener(ni,d),rs.remove(h)},0)}}},[s,c,d,h]);const g=l.useCallback(x=>{if(!n&&!r||h.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(y&&w){const E=x.currentTarget,[v,b]=Th(E);v&&b?!x.shiftKey&&w===b?(x.preventDefault(),n&&ft(v,{select:!0})):x.shiftKey&&w===v&&(x.preventDefault(),n&&ft(b,{select:!0})):w===E&&x.preventDefault()}},[n,r,h.paused]);return m.jsx(ve.div,{tabIndex:-1,...a,ref:p,onKeyDown:g})});lo.displayName=Dh;function Mh(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ft(r,{select:t}),document.activeElement!==n)return}function Th(e){const t=sl(e),n=ns(t,e),r=ns(t.reverse(),e);return[n,r]}function sl(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ns(e,t){for(const n of e)if(!Ph(n,{upTo:t}))return n}function Ph(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ah(e){return e instanceof HTMLInputElement&&"select"in e}function ft(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ah(e)&&t&&e.select()}}var rs=Ih();function Ih(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=os(e,t),e.unshift(t)},remove(t){e=os(e,t),e[0]?.resume()}}}function os(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function kh(e){return e.filter(t=>t.tagName!=="A")}var ri=0;function na(){l.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??is()),document.body.insertAdjacentElement("beforeend",e[1]??is()),ri++,()=>{ri===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ri--}},[])}function is(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kr="right-scroll-bar-position",Or="width-before-scroll-bar",Oh="with-scroll-bars-hidden",$h="--removed-body-scroll-bar-size";function oi(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function jh(e,t){var n=l.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var Lh=typeof window<"u"?l.useLayoutEffect:l.useEffect,as=new WeakMap;function Fh(e,t){var n=jh(null,function(r){return e.forEach(function(o){return oi(o,r)})});return Lh(function(){var r=as.get(n);if(r){var o=new Set(r),i=new Set(e),a=n.current;o.forEach(function(s){i.has(s)||oi(s,null)}),i.forEach(function(s){o.has(s)||oi(s,a)})}as.set(n,e)},[e]),n}function Hh(e){return e}function zh(e,t){t===void 0&&(t=Hh);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(s){return i(s)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(i),a=n}var u=function(){var d=a;a=[],d.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return o}function Vh(e){e===void 0&&(e={});var t=zh(null);return t.options=Le({async:!0,ssr:!1},e),t}var cl=function(e){var t=e.sideCar,n=so(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return l.createElement(r,Le({},n))};cl.isSideCarExport=!0;function Bh(e,t){return e.useMedium(t),cl}var ll=Vh(),ii=function(){},uo=l.forwardRef(function(e,t){var n=l.useRef(null),r=l.useState({onScrollCapture:ii,onWheelCapture:ii,onTouchMoveCapture:ii}),o=r[0],i=r[1],a=e.forwardProps,s=e.children,u=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,g=e.noIsolation,x=e.inert,y=e.allowPinchZoom,w=e.as,E=w===void 0?"div":w,v=e.gapMode,b=so(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,S=Fh([n,t]),R=Le(Le({},b),o);return l.createElement(l.Fragment,null,d&&l.createElement(N,{sideCar:ll,removeScrollBar:c,shards:f,noRelative:h,noIsolation:g,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:v}),a?l.cloneElement(l.Children.only(s),Le(Le({},R),{ref:S})):l.createElement(E,Le({},R,{className:u,ref:S}),s))});uo.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uo.classNames={fullWidth:Or,zeroRight:kr};var Wh=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gh(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Wh();return t&&e.setAttribute("nonce",t),e}function Yh(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Xh(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Uh=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Gh())&&(Yh(t,n),Xh(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zh=function(){var e=Uh();return function(t,n){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ul=function(){var e=Zh(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},Kh={left:0,top:0,right:0,gap:0},ai=function(e){return parseInt(e||"",10)||0},qh=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[ai(n),ai(r),ai(o)]},Qh=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Kh;var t=qh(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Jh=ul(),Qt="data-scroll-locked",em=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Oh,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Qt,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kr,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Or,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(kr," .").concat(kr,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Or," .").concat(Or,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qt,`] {
    `).concat($h,": ").concat(s,`px;
  }
`)},ss=function(){var e=parseInt(document.body.getAttribute(Qt)||"0",10);return isFinite(e)?e:0},tm=function(){l.useEffect(function(){return document.body.setAttribute(Qt,(ss()+1).toString()),function(){var e=ss()-1;e<=0?document.body.removeAttribute(Qt):document.body.setAttribute(Qt,e.toString())}},[])},nm=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;tm();var i=l.useMemo(function(){return Qh(o)},[o]);return l.createElement(Jh,{styles:em(i,!t,o,n?"":"!important")})},Mi=!1;if(typeof window<"u")try{var xr=Object.defineProperty({},"passive",{get:function(){return Mi=!0,!0}});window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Mi=!1}var Vt=Mi?{passive:!1}:!1,rm=function(e){return e.tagName==="TEXTAREA"},dl=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!rm(e)&&n[t]==="visible")},om=function(e){return dl(e,"overflowY")},im=function(e){return dl(e,"overflowX")},cs=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=fl(e,r);if(o){var i=pl(e,r),a=i[1],s=i[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},am=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},sm=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},fl=function(e,t){return e==="v"?om(t):im(t)},pl=function(e,t){return e==="v"?am(t):sm(t)},cm=function(e,t){return e==="h"&&t==="rtl"?-1:1},lm=function(e,t,n,r,o){var i=cm(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,u=t.contains(s),c=!1,d=a>0,f=0,p=0;do{if(!s)break;var h=pl(e,s),g=h[0],x=h[1],y=h[2],w=x-y-i*g;(g||w)&&fl(e,s)&&(f+=w,p+=g);var E=s.parentNode;s=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},wr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ls=function(e){return[e.deltaX,e.deltaY]},us=function(e){return e&&"current"in e?e.current:e},um=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dm=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fm=0,Bt=[];function pm(e){var t=l.useRef([]),n=l.useRef([0,0]),r=l.useRef(),o=l.useState(fm++)[0],i=l.useState(ul)[0],a=l.useRef(e);l.useEffect(function(){a.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=ta([e.lockRef.current],(e.shards||[]).map(us),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=l.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var w=wr(x),E=n.current,v="deltaX"in x?x.deltaX:E[0]-w[0],b="deltaY"in x?x.deltaY:E[1]-w[1],N,S=x.target,R=Math.abs(v)>Math.abs(b)?"h":"v";if("touches"in x&&R==="h"&&S.type==="range")return!1;var O=window.getSelection(),M=O&&O.anchorNode,z=M?M===S||M.contains(S):!1;if(z)return!1;var k=cs(R,S);if(!k)return!0;if(k?N=R:(N=R==="v"?"h":"v",k=cs(R,S)),!k)return!1;if(!r.current&&"changedTouches"in x&&(v||b)&&(r.current=N),!N)return!0;var F=r.current||N;return lm(F,y,x,F==="h"?v:b)},[]),u=l.useCallback(function(x){var y=x;if(!(!Bt.length||Bt[Bt.length-1]!==i)){var w="deltaY"in y?ls(y):wr(y),E=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&um(N.delta,w)})[0];if(E&&E.should){y.cancelable&&y.preventDefault();return}if(!E){var v=(a.current.shards||[]).map(us).filter(Boolean).filter(function(N){return N.contains(y.target)}),b=v.length>0?s(y,v[0]):!a.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),c=l.useCallback(function(x,y,w,E){var v={name:x,delta:y,target:w,should:E,shadowParent:hm(w)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(b){return b!==v})},1)},[]),d=l.useCallback(function(x){n.current=wr(x),r.current=void 0},[]),f=l.useCallback(function(x){c(x.type,ls(x),x.target,s(x,e.lockRef.current))},[]),p=l.useCallback(function(x){c(x.type,wr(x),x.target,s(x,e.lockRef.current))},[]);l.useEffect(function(){return Bt.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,Vt),document.addEventListener("touchmove",u,Vt),document.addEventListener("touchstart",d,Vt),function(){Bt=Bt.filter(function(x){return x!==i}),document.removeEventListener("wheel",u,Vt),document.removeEventListener("touchmove",u,Vt),document.removeEventListener("touchstart",d,Vt)}},[]);var h=e.removeScrollBar,g=e.inert;return l.createElement(l.Fragment,null,g?l.createElement(i,{styles:dm(o)}):null,h?l.createElement(nm,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function hm(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mm=Bh(ll,pm);var fo=l.forwardRef(function(e,t){return l.createElement(uo,Le({},e,{ref:t,sideCar:mm}))});fo.classNames=uo.classNames;var gm=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wt=new WeakMap,br=new WeakMap,Cr={},si=0,hl=function(e){return e&&(e.host||hl(e.parentNode))},ym=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hl(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vm=function(e,t,n,r){var o=ym(t,Array.isArray(e)?e:[e]);Cr[n]||(Cr[n]=new WeakMap);var i=Cr[n],a=[],s=new Set,u=new Set(o),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};o.forEach(c);var d=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(p){if(s.has(p))d(p);else try{var h=p.getAttribute(r),g=h!==null&&h!=="false",x=(Wt.get(p)||0)+1,y=(i.get(p)||0)+1;Wt.set(p,x),i.set(p,y),a.push(p),x===1&&g&&br.set(p,!0),y===1&&p.setAttribute(n,"true"),g||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(t),s.clear(),si++,function(){a.forEach(function(f){var p=Wt.get(f)-1,h=i.get(f)-1;Wt.set(f,p),i.set(f,h),p||(br.has(f)||f.removeAttribute(r),br.delete(f)),h||f.removeAttribute(n)}),si--,si||(Wt=new WeakMap,Wt=new WeakMap,br=new WeakMap,Cr={})}},ra=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=gm(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),vm(r,o,n,"aria-hidden")):function(){return null}};function xm(e){const t=wm(e),n=l.forwardRef((r,o)=>{const{children:i,...a}=r,s=l.Children.toArray(i),u=s.find(Cm);if(u){const c=u.props.children,d=s.map(f=>f===u?l.Children.count(c)>1?l.Children.only(null):l.isValidElement(c)?c.props.children:null:f);return m.jsx(t,{...a,ref:o,children:l.isValidElement(c)?l.cloneElement(c,void 0,d):null})}return m.jsx(t,{...a,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function wm(e){const t=l.forwardRef((n,r)=>{const{children:o,...i}=n;if(l.isValidElement(o)){const a=Em(o),s=Sm(i,o.props);return o.type!==l.Fragment&&(s.ref=r?Qe(r,a):a),l.cloneElement(o,s)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bm=Symbol("radix.slottable");function Cm(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bm}function Sm(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...s)=>{const u=i(...s);return o(...s),u}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function Em(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var po="Dialog",[ml,yS]=fn(po),[_m,Ye]=ml(po),gl=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,s=l.useRef(null),u=l.useRef(null),[c,d]=pn({prop:r,defaultProp:o??!1,onChange:i,caller:po});return m.jsx(_m,{scope:t,triggerRef:s,contentRef:u,contentId:ke(),titleId:ke(),descriptionId:ke(),open:c,onOpenChange:d,onOpenToggle:l.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};gl.displayName=po;var yl="DialogTrigger",vl=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ye(yl,n),i=Te(t,o.triggerRef);return m.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":aa(o.open),...r,ref:i,onClick:ue(e.onClick,o.onOpenToggle)})});vl.displayName=yl;var oa="DialogPortal",[Nm,xl]=ml(oa,{forceMount:void 0}),wl=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=Ye(oa,t);return m.jsx(Nm,{scope:t,forceMount:n,children:l.Children.map(r,a=>m.jsx(at,{present:n||i.open,children:m.jsx(ao,{asChild:!0,container:o,children:a})}))})};wl.displayName=oa;var zr="DialogOverlay",bl=l.forwardRef((e,t)=>{const n=xl(zr,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Ye(zr,e.__scopeDialog);return i.modal?m.jsx(at,{present:r||i.open,children:m.jsx(Dm,{...o,ref:t})}):null});bl.displayName=zr;var Rm=xm("DialogOverlay.RemoveScroll"),Dm=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ye(zr,n);return m.jsx(fo,{as:Rm,allowPinchZoom:!0,shards:[o.contentRef],children:m.jsx(ve.div,{"data-state":aa(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Tt="DialogContent",Cl=l.forwardRef((e,t)=>{const n=xl(Tt,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Ye(Tt,e.__scopeDialog);return m.jsx(at,{present:r||i.open,children:i.modal?m.jsx(Mm,{...o,ref:t}):m.jsx(Tm,{...o,ref:t})})});Cl.displayName=Tt;var Mm=l.forwardRef((e,t)=>{const n=Ye(Tt,e.__scopeDialog),r=l.useRef(null),o=Te(t,n.contentRef,r);return l.useEffect(()=>{const i=r.current;if(i)return ra(i)},[]),m.jsx(Sl,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&i.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault())})}),Tm=l.forwardRef((e,t)=>{const n=Ye(Tt,e.__scopeDialog),r=l.useRef(!1),o=l.useRef(!1);return m.jsx(Sl,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=i.target;n.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Sl=l.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...a}=e,s=Ye(Tt,n),u=l.useRef(null),c=Te(t,u);return na(),m.jsxs(m.Fragment,{children:[m.jsx(lo,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:m.jsx(qi,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":aa(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(Pm,{titleId:s.titleId}),m.jsx(Im,{contentRef:u,descriptionId:s.descriptionId})]})]})}),ia="DialogTitle",El=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ye(ia,n);return m.jsx(ve.h2,{id:o.titleId,...r,ref:t})});El.displayName=ia;var _l="DialogDescription",Nl=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ye(_l,n);return m.jsx(ve.p,{id:o.descriptionId,...r,ref:t})});Nl.displayName=_l;var Rl="DialogClose",Dl=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Ye(Rl,n);return m.jsx(ve.button,{type:"button",...r,ref:t,onClick:ue(e.onClick,()=>o.onOpenChange(!1))})});Dl.displayName=Rl;function aa(e){return e?"open":"closed"}var Ml="DialogTitleWarning",[vS,Tl]=fp(Ml,{contentName:Tt,titleName:ia,docsSlug:"dialog"}),Pm=({titleId:e})=>{const t=Tl(Ml),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Am="DialogDescriptionWarning",Im=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tl(Am).contentName}}.`;return l.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Pl=gl,xS=vl,Al=wl,sa=bl,ca=Cl,Il=El,kl=Nl,Ol=Dl;function km(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function $l(...e){return t=>e.forEach(n=>km(n,t))}function jt(...e){return l.useCallback($l(...e),e)}var jl=l.forwardRef((e,t)=>{const{children:n,...r}=e,o=l.Children.toArray(n),i=o.find($m);if(i){const a=i.props.children,s=o.map(u=>u===i?l.Children.count(a)>1?l.Children.only(null):l.isValidElement(a)?a.props.children:null:u);return m.jsx(Ti,{...r,ref:t,children:l.isValidElement(a)?l.cloneElement(a,void 0,s):null})}return m.jsx(Ti,{...r,ref:t,children:n})});jl.displayName="Slot";var Ti=l.forwardRef((e,t)=>{const{children:n,...r}=e;if(l.isValidElement(n)){const o=Lm(n);return l.cloneElement(n,{...jm(r,n.props),ref:t?$l(t,o):o})}return l.Children.count(n)>1?l.Children.only(null):null});Ti.displayName="SlotClone";var Om=({children:e})=>m.jsx(m.Fragment,{children:e});function $m(e){return l.isValidElement(e)&&e.type===Om}function jm(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...s)=>{i(...s),o(...s)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function Lm(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nr=Fm.reduce((e,t)=>{const n=l.forwardRef((r,o)=>{const{asChild:i,...a}=r,s=i?jl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(s,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Pi=globalThis?.document?l.useLayoutEffect:()=>{};function Hm(e,t){return l.useReducer((n,r)=>t[n][r]??n,e)}var rr=e=>{const{present:t,children:n}=e,r=zm(t),o=typeof n=="function"?n({present:r.isPresent}):l.Children.only(n),i=jt(r.ref,Vm(o));return typeof n=="function"||r.isPresent?l.cloneElement(o,{ref:i}):null};rr.displayName="Presence";function zm(e){const[t,n]=l.useState(),r=l.useRef({}),o=l.useRef(e),i=l.useRef("none"),a=e?"mounted":"unmounted",[s,u]=Hm(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const c=Sr(r.current);i.current=s==="mounted"?c:"none"},[s]),Pi(()=>{const c=r.current,d=o.current;if(d!==e){const p=i.current,h=Sr(c);e?u("MOUNT"):h==="none"||c?.display==="none"?u("UNMOUNT"):u(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),Pi(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=h=>{const x=Sr(r.current).includes(h.animationName);if(h.target===t&&x&&(u("ANIMATION_END"),!o.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=h=>{h.target===t&&(i.current=Sr(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:l.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Sr(e){return e?.animationName||"none"}function Vm(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Bm(e,t=[]){let n=[];function r(i,a){const s=l.createContext(a),u=n.length;n=[...n,a];const c=f=>{const{scope:p,children:h,...g}=f,x=p?.[e]?.[u]||s,y=l.useMemo(()=>g,Object.values(g));return m.jsx(x.Provider,{value:y,children:h})};c.displayName=i+"Provider";function d(f,p){const h=p?.[e]?.[u]||s,g=l.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const o=()=>{const i=n.map(a=>l.createContext(a));return function(s){const u=s?.[e]||i;return l.useMemo(()=>({[`__scope${e}`]:{...s,[e]:u}}),[s,u])}};return o.scopeName=e,[r,Wm(o,...t)]}function Wm(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=r.reduce((s,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...s,...f}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function _t(e){const t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...n)=>t.current?.(...n),[])}var Gm=l.createContext(void 0);function Ym(e){const t=l.useContext(Gm);return e||t||"ltr"}function Xm(e,[t,n]){return Math.min(n,Math.max(t,e))}function Rt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function Um(e,t){return l.useReducer((n,r)=>t[n][r]??n,e)}var la="ScrollArea",[Ll]=Bm(la),[Zm,He]=Ll(la),Fl=l.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...a}=e,[s,u]=l.useState(null),[c,d]=l.useState(null),[f,p]=l.useState(null),[h,g]=l.useState(null),[x,y]=l.useState(null),[w,E]=l.useState(0),[v,b]=l.useState(0),[N,S]=l.useState(!1),[R,O]=l.useState(!1),M=jt(t,k=>u(k)),z=Ym(o);return m.jsx(Zm,{scope:n,type:r,dir:z,scrollHideDelay:i,scrollArea:s,viewport:c,onViewportChange:d,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:x,onScrollbarYChange:y,scrollbarYEnabled:R,onScrollbarYEnabledChange:O,onCornerWidthChange:E,onCornerHeightChange:b,children:m.jsx(nr.div,{dir:z,...a,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});Fl.displayName=la;var Hl="ScrollAreaViewport",zl=l.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:o,nonce:i,...a}=e,s=He(Hl,n),u=l.useRef(null),c=jt(t,u,s.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),m.jsx(nr.div,{"data-radix-scroll-area-viewport":"",...a,asChild:o,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:ig({asChild:o,children:r},d=>m.jsx("div",{"data-radix-scroll-area-content":"",ref:s.onContentChange,style:{minWidth:s.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});zl.displayName=Hl;var et="ScrollAreaScrollbar",ua=l.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=He(et,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=o,s=e.orientation==="horizontal";return l.useEffect(()=>(s?i(!0):a(!0),()=>{s?i(!1):a(!1)}),[s,i,a]),o.type==="hover"?m.jsx(Km,{...r,ref:t,forceMount:n}):o.type==="scroll"?m.jsx(qm,{...r,ref:t,forceMount:n}):o.type==="auto"?m.jsx(Vl,{...r,ref:t,forceMount:n}):o.type==="always"?m.jsx(da,{...r,ref:t}):null});ua.displayName=et;var Km=l.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=He(et,e.__scopeScrollArea),[i,a]=l.useState(!1);return l.useEffect(()=>{const s=o.scrollArea;let u=0;if(s){const c=()=>{window.clearTimeout(u),a(!0)},d=()=>{u=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),m.jsx(rr,{present:n||i,children:m.jsx(Vl,{"data-state":i?"visible":"hidden",...r,ref:t})})}),qm=l.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=He(et,e.__scopeScrollArea),i=e.orientation==="horizontal",a=mo(()=>u("SCROLL_END"),100),[s,u]=Um("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>u("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,o.scrollHideDelay,u]),l.useEffect(()=>{const c=o.viewport,d=i?"scrollLeft":"scrollTop";if(c){let f=c[d];const p=()=>{const h=c[d];f!==h&&(u("SCROLL"),a()),f=h};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[o.viewport,i,u,a]),m.jsx(rr,{present:n||s!=="hidden",children:m.jsx(da,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Rt(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Rt(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),Vl=l.forwardRef((e,t)=>{const n=He(et,e.__scopeScrollArea),{forceMount:r,...o}=e,[i,a]=l.useState(!1),s=e.orientation==="horizontal",u=mo(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(s?c:d)}},10);return rn(n.viewport,u),rn(n.content,u),m.jsx(rr,{present:r||i,children:m.jsx(da,{"data-state":i?"visible":"hidden",...o,ref:t})})}),da=l.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=He(et,e.__scopeScrollArea),i=l.useRef(null),a=l.useRef(0),[s,u]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Xl(s.viewport,s.content),d={...r,sizes:s,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function f(p,h){return rg(p,a.current,s,h)}return n==="horizontal"?m.jsx(Qm,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const p=o.viewport.scrollLeft,h=ds(p,s,o.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollLeft=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollLeft=f(p,o.dir))}}):n==="vertical"?m.jsx(Jm,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const p=o.viewport.scrollTop,h=ds(p,s);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollTop=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollTop=f(p))}}):null}),Qm=l.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=He(et,e.__scopeScrollArea),[a,s]=l.useState(),u=l.useRef(null),c=jt(t,u,i.onScrollbarXChange);return l.useEffect(()=>{u.current&&s(getComputedStyle(u.current))},[u]),m.jsx(Wl,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ho(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),Zl(p,f)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Br(a.paddingLeft),paddingEnd:Br(a.paddingRight)}})}})}),Jm=l.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=He(et,e.__scopeScrollArea),[a,s]=l.useState(),u=l.useRef(null),c=jt(t,u,i.onScrollbarYChange);return l.useEffect(()=>{u.current&&s(getComputedStyle(u.current))},[u]),m.jsx(Wl,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ho(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),Zl(p,f)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Br(a.paddingTop),paddingEnd:Br(a.paddingBottom)}})}})}),[eg,Bl]=Ll(et),Wl=l.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:u,onDragScroll:c,onWheelScroll:d,onResize:f,...p}=e,h=He(et,n),[g,x]=l.useState(null),y=jt(t,M=>x(M)),w=l.useRef(null),E=l.useRef(""),v=h.viewport,b=r.content-r.viewport,N=_t(d),S=_t(u),R=mo(f,10);function O(M){if(w.current){const z=M.clientX-w.current.left,k=M.clientY-w.current.top;c({x:z,y:k})}}return l.useEffect(()=>{const M=z=>{const k=z.target;g?.contains(k)&&N(z,b)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[v,g,b,N]),l.useEffect(S,[r,S]),rn(g,R),rn(h.content,R),m.jsx(eg,{scope:n,scrollbar:g,hasThumb:o,onThumbChange:_t(i),onThumbPointerUp:_t(a),onThumbPositionChange:S,onThumbPointerDown:_t(s),children:m.jsx(nr.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:Rt(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),w.current=g.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),O(M))}),onPointerMove:Rt(e.onPointerMove,O),onPointerUp:Rt(e.onPointerUp,M=>{const z=M.target;z.hasPointerCapture(M.pointerId)&&z.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=E.current,h.viewport&&(h.viewport.style.scrollBehavior=""),w.current=null})})})}),Vr="ScrollAreaThumb",Gl=l.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Bl(Vr,e.__scopeScrollArea);return m.jsx(rr,{present:n||o.hasThumb,children:m.jsx(tg,{ref:t,...r})})}),tg=l.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,i=He(Vr,n),a=Bl(Vr,n),{onThumbPositionChange:s}=a,u=jt(t,f=>a.onThumbChange(f)),c=l.useRef(),d=mo(()=>{c.current&&(c.current(),c.current=void 0)},100);return l.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(d(),!c.current){const h=og(f,s);c.current=h,s()}};return s(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,d,s]),m.jsx(nr.div,{"data-state":a.hasThumb?"visible":"hidden",...o,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Rt(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,x=f.clientY-h.top;a.onThumbPointerDown({x:g,y:x})}),onPointerUp:Rt(e.onPointerUp,a.onThumbPointerUp)})});Gl.displayName=Vr;var fa="ScrollAreaCorner",Yl=l.forwardRef((e,t)=>{const n=He(fa,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?m.jsx(ng,{...e,ref:t}):null});Yl.displayName=fa;var ng=l.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=He(fa,n),[i,a]=l.useState(0),[s,u]=l.useState(0),c=!!(i&&s);return rn(o.scrollbarX,()=>{const d=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(d),u(d)}),rn(o.scrollbarY,()=>{const d=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(d),a(d)}),c?m.jsx(nr.div,{...r,ref:t,style:{width:i,height:s,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Br(e){return e?parseInt(e,10):0}function Xl(e,t){const n=e/t;return isNaN(n)?0:n}function ho(e){const t=Xl(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function rg(e,t,n,r="ltr"){const o=ho(n),i=o/2,a=t||i,s=o-a,u=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return Ul([u,c],f)(e)}function ds(e,t,n="ltr"){const r=ho(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,a=t.content-t.viewport,s=i-r,u=n==="ltr"?[0,a]:[a*-1,0],c=Xm(e,u);return Ul([0,a],[0,s])(c)}function Ul(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Zl(e,t){return e>0&&e<t}var og=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,s=n.top!==i.top;(a||s)&&t(),n=i,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)};function mo(e,t){const n=_t(e),r=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(r.current),[]),l.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function rn(e,t){const n=_t(t);Pi(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}function ig(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const o=l.Children.only(r);return l.cloneElement(o,{children:typeof t=="function"?t(o.props.children):t})}var Kl=Fl,ag=zl,sg=Yl;const pa=ce.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(Kl,{ref:r,className:ye("relative overflow-hidden",e),...n,children:[m.jsx(ag,{className:"size-full rounded-[inherit]",children:t}),m.jsx(ql,{}),m.jsx(sg,{})]}));pa.displayName=Kl.displayName;const ql=ce.forwardRef(({className:e,orientation:t="vertical",...n},r)=>m.jsx(ua,{ref:r,orientation:t,className:ye("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:m.jsx(Gl,{className:"relative z-20 flex-1 rounded-full bg-border"})}));ql.displayName=ua.displayName;const wS=Pl,cg=Al,bS=Ol,Ql=ce.forwardRef(({className:e,...t},n)=>m.jsx(sa,{ref:n,className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Ql.displayName=sa.displayName;const lg=ce.forwardRef(({className:e,children:t,showClose:n,showBack:r,onBackClick:o,backButtonClassName:i,blurBackground:a,forceOverlay:s,...u},c)=>m.jsxs(cg,{children:[s?m.jsx("div",{className:ye("fixed inset-0 z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",{"bg-black/80":!a,"bg-black/30 backdrop-blur-sm":a}),"data-state":"open"}):null,m.jsx(Ql,{className:ye({"bg-black/30 backdrop-blur-sm":a})}),m.jsxs(ca,{ref:c,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...u,children:[t,r&&m.jsx("button",{onClick:()=>o?.(),className:ye("absolute left-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",i),children:m.jsx(jp,{className:"size-4"})}),n&&m.jsxs(Ol,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(Ir,{className:"size-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lg.displayName=ca.displayName;const ug=({className:e,...t})=>m.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ug.displayName="DialogHeader";const dg=({className:e,...t})=>m.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dg.displayName="DialogFooter";const fg=ce.forwardRef(({className:e,...t},n)=>m.jsx(Il,{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));fg.displayName=Il.displayName;const pg=ce.forwardRef(({className:e,...t},n)=>m.jsx(kl,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));pg.displayName=kl.displayName;const hg=ce.forwardRef(({className:e,...t},n)=>m.jsx(pa,{ref:n,className:ye("flex flex-1 max-h-screen flex-col overflow-y-auto",e),...t}));hg.displayName="DialogInternalContent";const mg=l.createContext({openedTableInSidebar:void 0,selectedSidebarSection:"tables",openRelationshipFromSidebar:V,closeAllRelationshipsInSidebar:V,openDependencyFromSidebar:V,closeAllDependenciesInSidebar:V,openedRefInSidebar:void 0,openRefFromSidebar:V,closeAllRefsInSidebar:V,openedAreaInSidebar:void 0,openAreaFromSidebar:V,closeAllAreasInSidebar:V,openedNoteInSidebar:void 0,openNoteFromSidebar:V,closeAllNotesInSidebar:V,openedCustomTypeInSidebar:void 0,openCustomTypeFromSidebar:V,closeAllCustomTypesInSidebar:V,selectSidebarSection:V,openTableFromSidebar:V,closeAllTablesInSidebar:V,selectedVisualsTab:"areas",selectVisualsTab:V,isSidePanelShowed:!1,hideSidePanel:V,showSidePanel:V,toggleSidePanel:V}),gg=l.createContext({redoStack:[],undoStack:[],addRedoAction:V,addUndoAction:V,resetRedoStack:V,resetUndoStack:V,hasRedo:!1,hasUndo:!1}),yg=()=>l.useContext(gg);var vg=(function(){function e(){var t=this;this.subscriptions=new Set,this.emit=function(n){var r,o;try{for(var i=Wn(t.subscriptions),a=i.next();!a.done;a=i.next()){var s=a.value;s(n)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},this.useSubscription=function(n){var r=l.useRef(void 0);r.current=n,l.useEffect(function(){function o(i){r.current&&r.current(i)}return t.subscriptions.add(o),function(){t.subscriptions.delete(o)}},[])}}return e})();function xg(){var e=l.useRef(void 0);return e.current||(e.current=new vg),e.current}const wg=l.createContext(void 0),fs=()=>{const e=l.useContext(wg);if(e===void 0)throw new Error("useDiff must be used within an DiffProvider");return e};var ha=(e=>(e.enum="enum",e.composite="composite",e))(ha||{});const bg=hn({field:Ee(),type:Ee()}),Cg=hn({id:Ee(),schema:Ee().or(Zt()).optional(),name:Ee(),kind:Ni(ha),values:pt(Ee()).or(Zt()).optional(),fields:pt(bg).or(Zt()).optional(),order:je().or(Zt()).optional()}),CS={enum:"Enum",composite:"Composite"},SS=({children:e,diagram:t,readonly:n})=>{const{hasDiff:r}=fs(),o=Np(),i=xg(),{addUndoAction:a,resetRedoStack:s,resetUndoStack:u}=yg(),[c,d]=l.useState(""),[f,p]=l.useState(""),[h,g]=l.useState(new Date),[x,y]=l.useState(new Date),[w,E]=l.useState(De.GENERIC),[v,b]=l.useState(),[N,S]=l.useState(t?.tables??[]),[R,O]=l.useState(t?.relationships??[]),[M,z]=l.useState(t?.dependencies??[]),[k,F]=l.useState(t?.areas??[]),[B,_]=l.useState(t?.customTypes??[]),[j,T]=l.useState(t?.notes??[]),[H,L]=l.useState(t?.permissionLevel),{events:I}=fs(),[G,U]=l.useState(),P=l.useCallback(C=>{const{tablesToAdd:A,fieldsToAdd:q,relationshipsToAdd:W,areasToAdd:Q}=C.data;S(te=>[...te,...A??[]].map(J=>{const se=q.get(J.id);return se?{...J,fields:[...J.fields,...se]}:J})),O(te=>[...te,...W??[]]),F(te=>[...te,...Q??[]])},[]);I.useSubscription(P);const Y=l.useMemo(()=>Xa[w],[w]),X=l.useMemo(()=>n!==void 0?n:!!(H==="VIEWER"||H==="COMMENTER"||r),[n,H,r]),$=l.useMemo(()=>pp.includes(w)?[...new Set(N.map(C=>C.schema).filter(C=>!!C))].sort((C,A)=>C===Y?-1:A===Y?1:C.localeCompare(A)).map(C=>({id:Tc(C),name:C,tableCount:N.filter(A=>A.schema===C).length})):[],[N,Y,w]),D=l.useMemo(()=>X?Rp:o,[o,X]),K=l.useMemo(()=>({id:c,name:f,createdAt:h,updatedAt:x,databaseType:w,databaseEdition:v,tables:N,relationships:R,dependencies:M,areas:k,customTypes:B,notes:j}),[c,f,w,v,N,R,M,k,B,j,h,x]),Z=l.useCallback(async()=>{const C=new Date;S([]),O([]),z([]),F([]),_([]),T([]),y(C),s(),u(),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:C}}),D.deleteDiagramTables(c),D.deleteDiagramRelationships(c),D.deleteDiagramDependencies(c),D.deleteDiagramAreas(c),D.deleteDiagramCustomTypes(c),D.deleteDiagramNotes(c)])},[D,c,s,u]),ee=l.useCallback(async()=>{d(""),p(""),E(De.GENERIC),b(void 0),S([]),O([]),z([]),F([]),_([]),T([]),s(),u(),await Promise.all([D.deleteDiagramTables(c),D.deleteDiagramRelationships(c),D.deleteDiagram(c),D.deleteDiagramDependencies(c),D.deleteDiagramAreas(c),D.deleteDiagramCustomTypes(c),D.deleteDiagramNotes(c)])},[D,c,s,u]),ae=l.useCallback(async()=>{const C=new Date;y(C),await D.updateDiagram({id:c,attributes:{updatedAt:C}})},[D,c,y]),le=l.useCallback(async C=>{E(C),await D.updateDiagram({id:c,attributes:{databaseType:C}})},[D,c,E]),re=l.useCallback(async C=>{b(C),await D.updateDiagram({id:c,attributes:{databaseEdition:C}})},[D,c,b]),oe=l.useCallback(async C=>{const A=c;d(C),await D.updateDiagram({id:A,attributes:{id:C}})},[D,c,d]),he=l.useCallback(async(C,A={updateHistory:!0})=>{const q=f;p(C);const W=new Date;y(W),await D.updateDiagram({id:c,attributes:{name:C,updatedAt:W}}),A.updateHistory&&(a({action:"updateDiagramName",redoData:{name:C},undoData:{name:q}}),s())},[D,c,p,a,f,s]),ge=l.useCallback(async(C,A={updateHistory:!0})=>{console.log("[ChartDBProvider] addTables called with diagramId:",c,"tables:",C.map(W=>W.name)),c||console.error("[ChartDBProvider] ERROR: addTables called but diagramId is empty!"),S(W=>[...W,...C]);const q=new Date;y(q),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:q}}),...C.map(W=>D.addTable({diagramId:c,table:W}))]),A.updateHistory&&i.emit({action:"add_tables",data:{tables:C}}),A.updateHistory&&(a({action:"addTables",redoData:{tables:C},undoData:{tableIds:C.map(W=>W.id)}}),s())},[D,c,S,a,s,i]),me=l.useCallback(async(C,A={updateHistory:!0})=>ge([C],A),[ge]),_e=l.useCallback(async C=>{const A={id:Ze(),name:`table_${N.length+1}`,x:0,y:0,fields:[{id:Ze(),name:"id",type:Ua(w),unique:!0,nullable:!1,primaryKey:!0,createdAt:Date.now()}],indexes:[],color:C?.isView?Sp:Ep,createdAt:Date.now(),isView:!1,order:N.length,...C,schema:C?.schema??Xa[w]};return A.indexes=Jo({table:A}),await me(A),A},[me,N,w]),fe=l.useCallback(C=>N.find(A=>A.id===C)??null,[N]),Ae=l.useCallback(async(C,A)=>{const q=C.map(J=>fe(J)).filter(J=>!!J),W=R.filter(J=>C.includes(J.sourceTableId)||C.includes(J.targetTableId)),Q=M.filter(J=>C.includes(J.tableId)||C.includes(J.dependentTableId));O(J=>J.filter(se=>!W.some(pe=>pe.id===se.id))),z(J=>J.filter(se=>!Q.some(pe=>pe.id===se.id))),S(J=>J.filter(se=>!C.includes(se.id))),A?.updateHistory&&i.emit({action:"remove_tables",data:{tableIds:C}});const te=new Date;y(te),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:te}}),...W.map(J=>D.deleteRelationship({diagramId:c,id:J.id})),...Q.map(J=>D.deleteDependency({diagramId:c,id:J.id})),...C.map(J=>D.deleteTable({diagramId:c,id:J}))]),q.length>0&&A?.updateHistory&&(a({action:"removeTables",redoData:{tableIds:C},undoData:{tables:q,relationships:W,dependencies:Q}}),s())},[D,c,S,a,s,fe,R,i,M]),nt=l.useCallback(async(C,A={updateHistory:!0})=>Ae([C],A),[Ae]),wt=l.useCallback(async(C,A,q={updateHistory:!0})=>{console.log("[ChartDBProvider] updateTable called:",{id:C,table:A,options:q});const W=fe(C);S(te=>te.map(J=>J.id===C?{...J,...A}:J)),q.updateHistory&&(console.log("[ChartDBProvider] Emitting update_table event"),i.emit({action:"update_table",data:{id:C,table:A}}));const Q=new Date;y(Q),console.log("[ChartDBProvider] Calling db.updateTable"),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:Q}}),D.updateTable({id:C,attributes:A})]),console.log("[ChartDBProvider] db.updateTable completed"),W&&q.updateHistory&&(a({action:"updateTable",redoData:{tableId:C,table:A},undoData:{tableId:C,table:W}}),s())},[D,S,a,s,fe,c,i]),bt=l.useCallback(async(C,A={updateHistory:!0,forceOverride:!1})=>{const q=ie=>{const we=C(ie);return A.forceOverride?we:ie.map(Re=>{const zt=we.find(vr=>vr.id===Re.id);return zt?{...Re,...zt}:Re}).filter(Re=>we.some(zt=>zt.id===Re.id))},W=hp(N),Q=q(N),te=W.filter(ie=>!Q.some(we=>we.id===ie.id)),J=R.filter(ie=>te.some(we=>we.id===ie.sourceTableId||we.id===ie.targetTableId)),se=M.filter(ie=>te.some(we=>we.id===ie.tableId||we.id===ie.dependentTableId));O(ie=>ie.filter(we=>!J.some(Re=>Re.id===we.id))),z(ie=>ie.filter(we=>!se.some(Re=>Re.id===we.id))),S(q),te.length>0&&i.emit({action:"remove_tables",data:{tableIds:te.map(ie=>ie.id)}});for(const ie of Q){const we=W.find(Re=>Re.id===ie.id);we&&(we.x!==ie.x||we.y!==ie.y||we.width!==ie.width||we.name!==ie.name||we.order!==ie.order)&&i.emit({action:"update_table",data:{id:ie.id,table:ie}})}const pe=[];for(const ie of Q)pe.push(D.putTable({diagramId:c,table:ie}));for(const ie of te)pe.push(D.deleteTable({diagramId:c,id:ie.id}));for(const ie of J)pe.push(D.deleteRelationship({diagramId:c,id:ie.id}));for(const ie of se)pe.push(D.deleteDependency({diagramId:c,id:ie.id}));const xe=new Date;y(xe),pe.push(D.updateDiagram({id:c,attributes:{updatedAt:xe}})),await Promise.all(pe),A.updateHistory&&(a({action:"updateTablesState",redoData:{tables:Q},undoData:{tables:W,relationships:J,dependencies:se}}),s())},[D,N,S,c,a,s,R,i,M]),ze=l.useCallback((C,A)=>fe(C)?.fields.find(W=>W.id===A)??null,[fe]),mn=l.useCallback(async(C,A,q,W={updateHistory:!0})=>{const Q=ze(C,A),te=pe=>{const xe={...pe,fields:pe.fields.map(ie=>ie.id===A?{...ie,...q}:ie)};return xe.indexes=Jo({table:xe}),xe};S(pe=>pe.map(xe=>xe.id===C?te(xe):xe)),W.updateHistory&&i.emit({action:"update_field",data:{tableId:C,fieldId:A,field:{...Q,...q}}});const J=await D.getTable({diagramId:c,id:C});if(!J)return;const se=new Date;y(se),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:se}}),D.updateTable({id:C,attributes:{...te(J)}})]),Q&&W.updateHistory&&(a({action:"updateField",redoData:{tableId:C,fieldId:A,field:{...Q,...q}},undoData:{tableId:C,fieldId:A,field:Q}}),s())},[D,c,S,a,s,ze,i]),Ft=l.useCallback(async(C,A,q={updateHistory:!0})=>{const W=pe=>{const xe={...pe,fields:pe.fields.filter(ie=>ie.id!==A)};return xe.indexes=Jo({table:xe}),xe},Q=fe(C)?.fields??[],te=ze(C,A);S(pe=>pe.map(xe=>xe.id===C?W(xe):xe)),q.updateHistory&&i.emit({action:"remove_field",data:{tableId:C,fieldId:A,fields:Q.filter(pe=>pe.id!==A)}});const J=await D.getTable({diagramId:c,id:C});if(!J)return;const se=new Date;y(se),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:se}}),D.updateTable({id:C,attributes:{...W(J)}})]),te&&q.updateHistory&&(a({action:"removeField",redoData:{tableId:C,fieldId:A},undoData:{tableId:C,field:te}}),s())},[D,c,S,a,s,ze,fe,i]),Ue=l.useCallback(async(C,A,q={updateHistory:!0})=>{const W=fe(C)?.fields??[];if(S(J=>J.map(se=>se.id===C?(D.updateTable({id:C,attributes:{...se,fields:[...se.fields,A]}}),{...se,fields:[...se.fields,A]}):se)),q.updateHistory&&i.emit({action:"add_field",data:{tableId:C,field:A,fields:[...W,A]}}),!await D.getTable({diagramId:c,id:C}))return;const te=new Date;y(te),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:te}})]),q.updateHistory&&(a({action:"addField",redoData:{tableId:C,field:A},undoData:{tableId:C,fieldId:A.id}}),s())},[D,c,S,a,s,i,fe]),Ct=l.useCallback(async C=>{const A=fe(C),q={id:Ze(),name:`field_${(A?.fields?.length??0)+1}`,type:Ua(w),unique:!1,nullable:!0,primaryKey:!1,createdAt:Date.now()};return await Ue(C,q),q},[Ue,fe,w]),ct=l.useCallback((C,A)=>fe(C)?.indexes.find(W=>W.id===A)??null,[fe]),gn=l.useCallback(async(C,A,q={updateHistory:!0})=>{S(te=>te.map(J=>J.id===C?{...J,indexes:[...J.indexes,A]}:J)),q.updateHistory&&i.emit({action:"add_index",data:{tableId:C,index:A}});const W=await D.getTable({diagramId:c,id:C});if(!W)return;const Q=new Date;y(Q),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:Q}}),D.updateTable({id:C,attributes:{...W,indexes:[...W.indexes,A]}})]),q.updateHistory&&(a({action:"addIndex",redoData:{tableId:C,index:A},undoData:{tableId:C,indexId:A.id}}),s())},[D,c,S,a,s]),yn=l.useCallback(async(C,A,q={updateHistory:!0})=>{const W=ct(C,A);S(J=>J.map(se=>se.id===C?{...se,indexes:se.indexes.filter(pe=>pe.id!==A)}:se)),q.updateHistory&&i.emit({action:"remove_index",data:{tableId:C,indexId:A}});const Q=await D.getTable({diagramId:c,id:C});if(!Q)return;const te=new Date;y(te),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:te}}),D.updateTable({id:C,attributes:{...Q,indexes:Q.indexes.filter(J=>J.id!==A)}})]),W&&q.updateHistory&&(a({action:"removeIndex",redoData:{indexId:A,tableId:C},undoData:{tableId:C,index:W}}),s())},[D,c,S,a,s,ct]),Io=l.useCallback(async C=>{const A=fe(C),q={id:Ze(),name:`index_${(A?.indexes?.length??0)+1}`,fieldIds:[],unique:!1,createdAt:Date.now()};return await gn(C,q),q},[gn,fe]),ko=l.useCallback(async(C,A,q,W={updateHistory:!0})=>{const Q=ct(C,A);S(se=>se.map(pe=>pe.id===C?{...pe,indexes:pe.indexes.map(xe=>xe.id===A?{...xe,...q}:xe)}:pe)),W.updateHistory&&i.emit({action:"update_index",data:{tableId:C,indexId:A,index:q}});const te=await D.getTable({diagramId:c,id:C});if(!te)return;const J=new Date;y(J),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:J}}),D.updateTable({id:C,attributes:{...te,indexes:te.indexes.map(se=>se.id===A?{...se,...q}:se)}})]),Q&&W.updateHistory&&(a({action:"updateIndex",redoData:{tableId:C,indexId:A,index:q},undoData:{tableId:C,indexId:A,index:Q}}),s())},[D,c,S,a,s,ct]),vn=l.useCallback(async(C,A={updateHistory:!0})=>{O(W=>[...W,...C]),A.updateHistory&&C.forEach(W=>{i.emit({action:"add_relationship",data:{relationship:W}})});const q=new Date;y(q),await Promise.all([...C.map(W=>D.addRelationship({diagramId:c,relationship:W})),D.updateDiagram({id:c,attributes:{updatedAt:q}})]),A.updateHistory&&(a({action:"addRelationships",redoData:{relationships:C},undoData:{relationshipIds:C.map(W=>W.id)}}),s())},[D,c,O,a,s,i]),xn=l.useCallback(async(C,A={updateHistory:!0})=>vn([C],A),[vn]),Oo=l.useCallback(async({sourceTableId:C,targetTableId:A,sourceFieldId:q,targetFieldId:W})=>{const Q=fe(C),te=Q?.name??"",se=Q?.fields.find(we=>we.id===q)?.name??"",xe=fe(A)?.schema,ie={id:Ze(),name:`${te}_${se}_fk`,sourceSchema:Q?.schema,sourceTableId:C,targetSchema:xe,targetTableId:A,sourceFieldId:q,targetFieldId:W,sourceCardinality:"one",targetCardinality:"one",createdAt:Date.now()};return await xn(ie),ie},[xn,fe]),wn=l.useCallback(C=>R.find(A=>A.id===C)??null,[R]),bn=l.useCallback(async(C,A={updateHistory:!0})=>{const q=[...R.filter(Q=>C.includes(Q.id))];O(Q=>Q.filter(te=>!C.includes(te.id))),A.updateHistory&&C.forEach(Q=>{i.emit({action:"remove_relationship",data:{relationshipId:Q}})});const W=new Date;y(W),await Promise.all([...C.map(Q=>D.deleteRelationship({diagramId:c,id:Q})),D.updateDiagram({id:c,attributes:{updatedAt:W}})]),q.length>0&&A.updateHistory&&(a({action:"removeRelationships",redoData:{relationshipsIds:C},undoData:{relationships:q}}),s())},[D,c,O,R,a,s,i]),$o=l.useCallback(async(C,A={updateHistory:!0})=>bn([C],A),[bn]),jo=l.useCallback(async(C,A,q={updateHistory:!0})=>{const W=wn(C);O(te=>te.map(J=>J.id===C?{...J,...A}:J)),q.updateHistory&&i.emit({action:"update_relationship",data:{relationshipId:C,relationship:A}});const Q=new Date;y(Q),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:Q}}),D.updateRelationship({id:C,attributes:A})]),W&&q.updateHistory&&(a({action:"updateRelationship",redoData:{relationshipId:C,relationship:A},undoData:{relationshipId:C,relationship:W}}),s())},[D,O,a,wn,s,c,i]),Cn=l.useCallback(async(C,A={updateHistory:!0})=>{z(W=>[...W,...C]);const q=new Date;y(q),await Promise.all([...C.map(W=>D.addDependency({diagramId:c,dependency:W})),D.updateDiagram({id:c,attributes:{updatedAt:q}})]),A.updateHistory&&(a({action:"addDependencies",redoData:{dependencies:C},undoData:{dependenciesIds:C.map(W=>W.id)}}),s())},[D,c,z,a,s]),Sn=l.useCallback(async(C,A={updateHistory:!0})=>Cn([C],A),[Cn]),Lo=l.useCallback(async({tableId:C,dependentTableId:A})=>{const q=fe(C),W=fe(A),Q={id:Ze(),tableId:C,dependentTableId:A,dependentSchema:W?.schema,schema:q?.schema,createdAt:Date.now()};return await Sn(Q),Q},[Sn,fe]),En=l.useCallback(C=>M.find(A=>A.id===C)??null,[M]),_n=l.useCallback(async(C,A={updateHistory:!0})=>{const q=[...M.filter(Q=>C.includes(Q.id))];z(Q=>Q.filter(te=>!C.includes(te.id)));const W=new Date;y(W),await Promise.all([...C.map(Q=>D.deleteDependency({diagramId:c,id:Q})),D.updateDiagram({id:c,attributes:{updatedAt:W}})]),q.length>0&&A.updateHistory&&(a({action:"removeDependencies",redoData:{dependenciesIds:C},undoData:{dependencies:q}}),s())},[D,c,z,a,s,M]),Fo=l.useCallback(async(C,A={updateHistory:!0})=>_n([C],A),[_n]),Ho=l.useCallback(async(C,A,q={updateHistory:!0})=>{const W=En(C);z(te=>te.map(J=>J.id===C?{...J,...A}:J));const Q=new Date;y(Q),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:Q}}),D.updateDependency({id:C,attributes:A})]),W&&q.updateHistory&&(a({action:"updateDependency",redoData:{dependencyId:C,dependency:A},undoData:{dependencyId:C,dependency:W}}),s())},[D,c,z,a,s,En]),Nn=l.useCallback(async(C,A={updateHistory:!0})=>{F(W=>[...W,...C]),A.updateHistory&&C.forEach(W=>{i.emit({action:"add_area",data:{area:W}})});const q=new Date;y(q),await Promise.all([...C.map(W=>D.addArea({diagramId:c,area:W})),D.updateDiagram({id:c,attributes:{updatedAt:q}})]),A.updateHistory&&(a({action:"addAreas",redoData:{areas:C},undoData:{areaIds:C.map(W=>W.id)}}),s())},[D,c,F,a,s,i]),Rn=l.useCallback(async(C,A={updateHistory:!0})=>Nn([C],A),[Nn]),zo=l.useCallback(async C=>{const A={id:Ze(),name:`Area ${k.length+1}`,x:0,y:0,width:300,height:200,color:_p,...C};return await Rn(A),A},[k,Rn]),Dn=l.useCallback(C=>k.find(A=>A.id===C)??null,[k]),Mn=l.useCallback(async(C,A={updateHistory:!0})=>{const q=[...k.filter(Q=>C.includes(Q.id))];F(Q=>Q.filter(te=>!C.includes(te.id))),A.updateHistory&&C.forEach(Q=>{i.emit({action:"remove_area",data:{areaId:Q}})});const W=new Date;y(W),await Promise.all([...C.map(Q=>D.deleteArea({diagramId:c,id:Q})),D.updateDiagram({id:c,attributes:{updatedAt:W}})]),q.length>0&&A.updateHistory&&(a({action:"removeAreas",redoData:{areaIds:C},undoData:{areas:q}}),s())},[D,c,F,k,a,s,i]),Vo=l.useCallback(async(C,A={updateHistory:!0})=>Mn([C],A),[Mn]),Bo=l.useCallback(async(C,A,q={updateHistory:!0})=>{const W=Dn(C);F(te=>te.map(J=>J.id===C?{...J,...A}:J)),q.updateHistory&&i.emit({action:"update_area",data:{areaId:C,area:A}});const Q=new Date;y(Q),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:Q}}),D.updateArea({id:C,attributes:A})]),W&&q.updateHistory&&(a({action:"updateArea",redoData:{areaId:C,area:A},undoData:{areaId:C,area:W}}),s())},[D,c,F,Dn,a,s,i]),Tn=l.useCallback(async(C,A={updateHistory:!0})=>{T(W=>[...W,...C]),A.updateHistory&&C.forEach(W=>{i.emit({action:"add_note",data:{note:W}})});const q=new Date;y(q),await Promise.all([...C.map(W=>D.addNote({diagramId:c,note:W})),D.updateDiagram({id:c,attributes:{updatedAt:q}})]),A.updateHistory&&(a({action:"addNotes",redoData:{notes:C},undoData:{noteIds:C.map(W=>W.id)}}),s())},[D,c,T,a,s,i]),Pn=l.useCallback(async(C,A={updateHistory:!0})=>Tn([C],A),[Tn]),Wo=l.useCallback(async C=>{const A={id:Ze(),content:"",x:0,y:0,width:200,height:150,color:"#ffe374",...C};return await Pn(A),A},[Pn]),An=l.useCallback(C=>j.find(A=>A.id===C)??null,[j]),In=l.useCallback(async(C,A={updateHistory:!0})=>{const q=[...j.filter(Q=>C.includes(Q.id))];T(Q=>Q.filter(te=>!C.includes(te.id))),A.updateHistory&&C.forEach(Q=>{i.emit({action:"remove_note",data:{noteId:Q}})});const W=new Date;y(W),await Promise.all([...C.map(Q=>D.deleteNote({diagramId:c,id:Q})),D.updateDiagram({id:c,attributes:{updatedAt:W}})]),q.length>0&&A.updateHistory&&(a({action:"removeNotes",redoData:{noteIds:C},undoData:{notes:q}}),s())},[D,c,T,j,a,s,i]),Go=l.useCallback(async(C,A={updateHistory:!0})=>In([C],A),[In]),Yo=l.useCallback(async(C,A,q={updateHistory:!0})=>{const W=An(C);T(te=>te.map(J=>J.id===C?{...J,...A}:J)),q.updateHistory&&i.emit({action:"update_note",data:{noteId:C,note:A}});const Q=new Date;y(Q),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:Q}}),D.updateNote({id:C,attributes:A})]),W&&q.updateHistory&&(a({action:"updateNote",redoData:{noteId:C,note:A},undoData:{noteId:C,note:W}}),s())},[D,c,T,An,a,s,i]),gr=l.useCallback(C=>U(C),[U]),yr=l.useMemo(()=>G?B.find(C=>C.id===G):void 0,[G,B]),lt=l.useCallback(C=>{console.log("[ChartDBProvider] loadDiagramFromData called with diagram id:",C.id),d(C.id),p(C.name),E(C.databaseType),b(C.databaseEdition),S(C.tables??[]),O(C.relationships??[]),z(C.dependencies??[]),F(C.areas??[]),_(C.customTypes??[]),g(C.createdAt),y(C.updatedAt),U(void 0),T(C.notes??[]),L(C.permissionLevel),console.log("[ChartDBProvider] diagram loaded with",(C.tables??[]).length,"tables, permissionLevel:",C.permissionLevel),i.emit({action:"load_diagram",data:{diagram:C}}),s(),u()},[d,p,E,b,S,O,z,F,_,g,y,U,i,T,L,s,u]),Xo=l.useCallback(async(C,A)=>{const q=A?.forceUpdateStorage?o:D;await q.deleteDiagram(C.id),await q.addDiagram({diagram:C}),lt(C)},[D,o,lt]),Uo=l.useCallback(async C=>{const A=await o.getDiagram(C,{includeRelationships:!0,includeTables:!0,includeDependencies:!0,includeAreas:!0,includeCustomTypes:!0,includeNotes:!0});return A&&lt(A),A},[o,lt]),St=l.useCallback(C=>B.find(A=>A.id===C)??null,[B]),kn=l.useCallback(async(C,A={updateHistory:!0})=>{_(W=>[...W,...C]);const q=new Date;y(q),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:q}}),...C.map(W=>D.addCustomType({diagramId:c,customType:W}))]),A.updateHistory&&(a({action:"addCustomTypes",redoData:{customTypes:C},undoData:{customTypeIds:C.map(W=>W.id)}}),s())},[D,c,_,a,s]),On=l.useCallback(async(C,A={updateHistory:!0})=>kn([C],A),[kn]),Zo=l.useCallback(async C=>{const A={id:Ze(),name:`type_${B.length+1}`,kind:ha.enum,values:[],fields:[],...C};return await On(A),A},[On,B]),Ht=l.useCallback(async(C,A={updateHistory:!0})=>{const q=C.map(Q=>St(Q)).filter(Boolean);_(Q=>Q.filter(te=>!C.includes(te.id)));const W=new Date;y(W),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:W}}),...C.map(Q=>D.deleteCustomType({diagramId:c,id:Q}))]),q.length>0&&A.updateHistory&&(a({action:"removeCustomTypes",redoData:{customTypeIds:C},undoData:{customTypes:q}}),s())},[D,c,_,a,s,St]),Ko=l.useCallback(async(C,A={updateHistory:!0})=>Ht([C],A),[Ht]),qo=l.useCallback(async(C,A,q={updateHistory:!0})=>{const W=St(C);_(te=>te.map(J=>J.id===C?{...J,...A}:J));const Q=new Date;y(Q),await Promise.all([D.updateDiagram({id:c,attributes:{updatedAt:Q}}),D.updateCustomType({id:C,attributes:A})]),W&&q.updateHistory&&(a({action:"updateCustomType",redoData:{customTypeId:C,customType:A},undoData:{customTypeId:C,customType:W}}),s())},[D,_,a,s,St,c]);return m.jsx(il.Provider,{value:{diagramId:c,diagramName:f,databaseType:w,tables:N,relationships:R,dependencies:M,areas:k,notes:j,currentDiagram:K,schemas:$,events:i,readonly:X,permissionLevel:H,updateDiagramData:Xo,updateDiagramId:oe,updateDiagramName:he,loadDiagram:Uo,loadDiagramFromData:lt,updateDatabaseType:le,updateDatabaseEdition:re,clearDiagramData:Z,deleteDiagram:ee,updateDiagramUpdatedAt:ae,createTable:_e,addTable:me,addTables:ge,getTable:fe,removeTable:nt,removeTables:Ae,updateTable:wt,updateTablesState:bt,updateField:mn,removeField:Ft,createField:Ct,addField:Ue,addIndex:gn,createIndex:Io,removeIndex:yn,getField:ze,getIndex:ct,updateIndex:ko,addRelationship:xn,addRelationships:vn,createRelationship:Oo,getRelationship:wn,removeRelationship:$o,removeRelationships:bn,updateRelationship:jo,addDependency:Sn,addDependencies:Cn,createDependency:Lo,getDependency:En,removeDependency:Fo,removeDependencies:_n,updateDependency:Ho,createArea:zo,addArea:Rn,addAreas:Nn,getArea:Dn,removeArea:Vo,removeAreas:Mn,updateArea:Bo,customTypes:B,createCustomType:Zo,addCustomType:On,addCustomTypes:kn,getCustomType:St,removeCustomType:Ko,removeCustomTypes:Ht,updateCustomType:qo,highlightCustomTypeId:gr,highlightedCustomType:yr,createNote:Wo,addNote:Pn,addNotes:Tn,getNote:An,removeNote:Go,removeNotes:In,updateNote:Yo},children:e})},Sg=l.createContext({undo:V,redo:V,hasUndo:!1,hasRedo:!1});function Se(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Se(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Eg={value:()=>{}};function go(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $r(n)}function $r(e){this._=e}function _g(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$r.prototype=go.prototype={constructor:$r,on:function(e,t){var n=this._,r=_g(e+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(e=r[i]).type)&&(o=Ng(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(o=(e=r[i]).type)n[o]=ps(n[o],e.name,t);else if(t==null)for(o in n)n[o]=ps(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $r(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Ng(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function ps(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Eg,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ai="http://www.w3.org/1999/xhtml";const hs={svg:"http://www.w3.org/2000/svg",xhtml:Ai,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yo(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),hs.hasOwnProperty(t)?{space:hs[t],local:e}:e}function Rg(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ai&&t.documentElement.namespaceURI===Ai?t.createElement(e):t.createElementNS(n,e)}}function Dg(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Jl(e){var t=yo(e);return(t.local?Dg:Rg)(t)}function Mg(){}function ma(e){return e==null?Mg:function(){return this.querySelector(e)}}function Tg(e){typeof e!="function"&&(e=ma(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=new Array(a),u,c,d=0;d<a;++d)(u=i[d])&&(c=e.call(u,u.__data__,d,i))&&("__data__"in u&&(c.__data__=u.__data__),s[d]=c);return new Oe(r,this._parents)}function Pg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ag(){return[]}function eu(e){return e==null?Ag:function(){return this.querySelectorAll(e)}}function Ig(e){return function(){return Pg(e.apply(this,arguments))}}function kg(e){typeof e=="function"?e=Ig(e):e=eu(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a=t[i],s=a.length,u,c=0;c<s;++c)(u=a[c])&&(r.push(e.call(u,u.__data__,c,a)),o.push(u));return new Oe(r,o)}function tu(e){return function(){return this.matches(e)}}function nu(e){return function(t){return t.matches(e)}}var Og=Array.prototype.find;function $g(e){return function(){return Og.call(this.children,e)}}function jg(){return this.firstElementChild}function Lg(e){return this.select(e==null?jg:$g(typeof e=="function"?e:nu(e)))}var Fg=Array.prototype.filter;function Hg(){return Array.from(this.children)}function zg(e){return function(){return Fg.call(this.children,e)}}function Vg(e){return this.selectAll(e==null?Hg:zg(typeof e=="function"?e:nu(e)))}function Bg(e){typeof e!="function"&&(e=tu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],u,c=0;c<a;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&s.push(u);return new Oe(r,this._parents)}function ru(e){return new Array(e.length)}function Wg(){return new Oe(this._enter||this._groups.map(ru),this._parents)}function Wr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Wr.prototype={constructor:Wr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Gg(e){return function(){return e}}function Yg(e,t,n,r,o,i){for(var a=0,s,u=t.length,c=i.length;a<c;++a)(s=t[a])?(s.__data__=i[a],r[a]=s):n[a]=new Wr(e,i[a]);for(;a<u;++a)(s=t[a])&&(o[a]=s)}function Xg(e,t,n,r,o,i,a){var s,u,c=new Map,d=t.length,f=i.length,p=new Array(d),h;for(s=0;s<d;++s)(u=t[s])&&(p[s]=h=a.call(u,u.__data__,s,t)+"",c.has(h)?o[s]=u:c.set(h,u));for(s=0;s<f;++s)h=a.call(e,i[s],s,i)+"",(u=c.get(h))?(r[s]=u,u.__data__=i[s],c.delete(h)):n[s]=new Wr(e,i[s]);for(s=0;s<d;++s)(u=t[s])&&c.get(p[s])===u&&(o[s]=u)}function Ug(e){return e.__data__}function Zg(e,t){if(!arguments.length)return Array.from(this,Ug);var n=t?Xg:Yg,r=this._parents,o=this._groups;typeof e!="function"&&(e=Gg(e));for(var i=o.length,a=new Array(i),s=new Array(i),u=new Array(i),c=0;c<i;++c){var d=r[c],f=o[c],p=f.length,h=Kg(e.call(d,d&&d.__data__,c,r)),g=h.length,x=s[c]=new Array(g),y=a[c]=new Array(g),w=u[c]=new Array(p);n(d,f,x,y,w,h,t);for(var E=0,v=0,b,N;E<g;++E)if(b=x[E]){for(E>=v&&(v=E+1);!(N=y[v])&&++v<g;);b._next=N||null}}return a=new Oe(a,r),a._enter=s,a._exit=u,a}function Kg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qg(){return new Oe(this._exit||this._groups.map(ru),this._parents)}function Qg(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Jg(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),u=0;u<a;++u)for(var c=n[u],d=r[u],f=c.length,p=s[u]=new Array(f),h,g=0;g<f;++g)(h=c[g]||d[g])&&(p[g]=h);for(;u<o;++u)s[u]=n[u];return new Oe(s,this._parents)}function e0(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function t0(e){e||(e=n0);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],s=a.length,u=o[i]=new Array(s),c,d=0;d<s;++d)(c=a[d])&&(u[d]=c);u.sort(t)}return new Oe(o,this._parents).order()}function n0(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function r0(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function o0(){return Array.from(this)}function i0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function a0(){let e=0;for(const t of this)++e;return e}function s0(){return!this.node()}function c0(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length,s;i<a;++i)(s=o[i])&&e.call(s,s.__data__,i,o);return this}function l0(e){return function(){this.removeAttribute(e)}}function u0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function d0(e,t){return function(){this.setAttribute(e,t)}}function f0(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function p0(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function h0(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function m0(e,t){var n=yo(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?u0:l0:typeof t=="function"?n.local?h0:p0:n.local?f0:d0)(n,t))}function ou(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function g0(e){return function(){this.style.removeProperty(e)}}function y0(e,t,n){return function(){this.style.setProperty(e,t,n)}}function v0(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function x0(e,t,n){return arguments.length>1?this.each((t==null?g0:typeof t=="function"?v0:y0)(e,t,n??"")):on(this.node(),e)}function on(e,t){return e.style.getPropertyValue(t)||ou(e).getComputedStyle(e,null).getPropertyValue(t)}function w0(e){return function(){delete this[e]}}function b0(e,t){return function(){this[e]=t}}function C0(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function S0(e,t){return arguments.length>1?this.each((t==null?w0:typeof t=="function"?C0:b0)(e,t)):this.node()[e]}function iu(e){return e.trim().split(/^|\s+/)}function ga(e){return e.classList||new au(e)}function au(e){this._node=e,this._names=iu(e.getAttribute("class")||"")}au.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function su(e,t){for(var n=ga(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function cu(e,t){for(var n=ga(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function E0(e){return function(){su(this,e)}}function _0(e){return function(){cu(this,e)}}function N0(e,t){return function(){(t.apply(this,arguments)?su:cu)(this,e)}}function R0(e,t){var n=iu(e+"");if(arguments.length<2){for(var r=ga(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?N0:t?E0:_0)(n,t))}function D0(){this.textContent=""}function M0(e){return function(){this.textContent=e}}function T0(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function P0(e){return arguments.length?this.each(e==null?D0:(typeof e=="function"?T0:M0)(e)):this.node().textContent}function A0(){this.innerHTML=""}function I0(e){return function(){this.innerHTML=e}}function k0(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function O0(e){return arguments.length?this.each(e==null?A0:(typeof e=="function"?k0:I0)(e)):this.node().innerHTML}function $0(){this.nextSibling&&this.parentNode.appendChild(this)}function j0(){return this.each($0)}function L0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function F0(){return this.each(L0)}function H0(e){var t=typeof e=="function"?e:Jl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function z0(){return null}function V0(e,t){var n=typeof e=="function"?e:Jl(e),r=t==null?z0:typeof t=="function"?t:ma(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function B0(){var e=this.parentNode;e&&e.removeChild(this)}function W0(){return this.each(B0)}function G0(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Y0(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function X0(e){return this.select(e?Y0:G0)}function U0(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Z0(e){return function(t){e.call(this,t,this.__data__)}}function K0(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function q0(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Q0(e,t,n){return function(){var r=this.__on,o,i=Z0(t);if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function J0(e,t,n){var r=K0(e+""),o,i=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,d;u<c;++u)for(o=0,d=s[u];o<i;++o)if((a=r[o]).type===d.type&&a.name===d.name)return d.value}return}for(s=t?Q0:q0,o=0;o<i;++o)this.each(s(r[o],t,n));return this}function lu(e,t,n){var r=ou(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function e1(e,t){return function(){return lu(this,e,t)}}function t1(e,t){return function(){return lu(this,e,t.apply(this,arguments))}}function n1(e,t){return this.each((typeof t=="function"?t1:e1)(e,t))}function*r1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var uu=[null];function Oe(e,t){this._groups=e,this._parents=t}function or(){return new Oe([[document.documentElement]],uu)}function o1(){return this}Oe.prototype=or.prototype={constructor:Oe,select:Tg,selectAll:kg,selectChild:Lg,selectChildren:Vg,filter:Bg,data:Zg,enter:Wg,exit:qg,join:Qg,merge:Jg,selection:o1,order:e0,sort:t0,call:r0,nodes:o0,node:i0,size:a0,empty:s0,each:c0,attr:m0,style:x0,property:S0,classed:R0,text:P0,html:O0,raise:j0,lower:F0,append:H0,insert:V0,remove:W0,clone:X0,datum:U0,on:J0,dispatch:n1,[Symbol.iterator]:r1};function Ie(e){return typeof e=="string"?new Oe([[document.querySelector(e)]],[document.documentElement]):new Oe([[e]],uu)}function i1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ve(e,t){if(e=i1(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const a1={passive:!1},Gn={capture:!0,passive:!1};function ci(e){e.stopImmediatePropagation()}function Jt(e){e.preventDefault(),e.stopImmediatePropagation()}function du(e){var t=e.document.documentElement,n=Ie(e).on("dragstart.drag",Jt,Gn);"onselectstart"in t?n.on("selectstart.drag",Jt,Gn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function fu(e,t){var n=e.document.documentElement,r=Ie(e).on("dragstart.drag",null);t&&(r.on("click.drag",Jt,Gn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Er=e=>()=>e;function Ii(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Ii.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function s1(e){return!e.ctrlKey&&!e.button}function c1(){return this.parentNode}function l1(e,t){return t??{x:e.x,y:e.y}}function u1(){return navigator.maxTouchPoints||"ontouchstart"in this}function pu(){var e=s1,t=c1,n=l1,r=u1,o={},i=go("start","drag","end"),a=0,s,u,c,d,f=0;function p(b){b.on("mousedown.drag",h).filter(r).on("touchstart.drag",y).on("touchmove.drag",w,a1).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,N){if(!(d||!e.call(this,b,N))){var S=v(this,t.call(this,b,N),b,N,"mouse");S&&(Ie(b.view).on("mousemove.drag",g,Gn).on("mouseup.drag",x,Gn),du(b.view),ci(b),c=!1,s=b.clientX,u=b.clientY,S("start",b))}}function g(b){if(Jt(b),!c){var N=b.clientX-s,S=b.clientY-u;c=N*N+S*S>f}o.mouse("drag",b)}function x(b){Ie(b.view).on("mousemove.drag mouseup.drag",null),fu(b.view,c),Jt(b),o.mouse("end",b)}function y(b,N){if(e.call(this,b,N)){var S=b.changedTouches,R=t.call(this,b,N),O=S.length,M,z;for(M=0;M<O;++M)(z=v(this,R,b,N,S[M].identifier,S[M]))&&(ci(b),z("start",b,S[M]))}}function w(b){var N=b.changedTouches,S=N.length,R,O;for(R=0;R<S;++R)(O=o[N[R].identifier])&&(Jt(b),O("drag",b,N[R]))}function E(b){var N=b.changedTouches,S=N.length,R,O;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),R=0;R<S;++R)(O=o[N[R].identifier])&&(ci(b),O("end",b,N[R]))}function v(b,N,S,R,O,M){var z=i.copy(),k=Ve(M||S,N),F,B,_;if((_=n.call(b,new Ii("beforestart",{sourceEvent:S,target:p,identifier:O,active:a,x:k[0],y:k[1],dx:0,dy:0,dispatch:z}),R))!=null)return F=_.x-k[0]||0,B=_.y-k[1]||0,function j(T,H,L){var I=k,G;switch(T){case"start":o[O]=j,G=a++;break;case"end":delete o[O],--a;case"drag":k=Ve(L||H,N),G=a;break}z.call(T,b,new Ii(T,{sourceEvent:H,subject:_,target:p,identifier:O,active:G,x:k[0]+F,y:k[1]+B,dx:k[0]-I[0],dy:k[1]-I[1],dispatch:z}),R)}}return p.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Er(!!b),p):e},p.container=function(b){return arguments.length?(t=typeof b=="function"?b:Er(b),p):t},p.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Er(b),p):n},p.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Er(!!b),p):r},p.on=function(){var b=i.on.apply(i,arguments);return b===i?p:b},p.clickDistance=function(b){return arguments.length?(f=(b=+b)*b,p):Math.sqrt(f)},p}function ya(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ir(){}var Yn=.7,Gr=1/Yn,en="\\s*([+-]?\\d+)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d1=/^#([0-9a-f]{3,8})$/,f1=new RegExp(`^rgb\\(${en},${en},${en}\\)$`),p1=new RegExp(`^rgb\\(${qe},${qe},${qe}\\)$`),h1=new RegExp(`^rgba\\(${en},${en},${en},${Xn}\\)$`),m1=new RegExp(`^rgba\\(${qe},${qe},${qe},${Xn}\\)$`),g1=new RegExp(`^hsl\\(${Xn},${qe},${qe}\\)$`),y1=new RegExp(`^hsla\\(${Xn},${qe},${qe},${Xn}\\)$`),ms={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ya(ir,Pt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gs,formatHex:gs,formatHex8:v1,formatHsl:x1,formatRgb:ys,toString:ys});function gs(){return this.rgb().formatHex()}function v1(){return this.rgb().formatHex8()}function x1(){return mu(this).formatHsl()}function ys(){return this.rgb().formatRgb()}function Pt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?vs(t):n===3?new Me(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_r(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_r(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=f1.exec(e))?new Me(t[1],t[2],t[3],1):(t=p1.exec(e))?new Me(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=h1.exec(e))?_r(t[1],t[2],t[3],t[4]):(t=m1.exec(e))?_r(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g1.exec(e))?bs(t[1],t[2]/100,t[3]/100,1):(t=y1.exec(e))?bs(t[1],t[2]/100,t[3]/100,t[4]):ms.hasOwnProperty(e)?vs(ms[e]):e==="transparent"?new Me(NaN,NaN,NaN,0):null}function vs(e){return new Me(e>>16&255,e>>8&255,e&255,1)}function _r(e,t,n,r){return r<=0&&(e=t=n=NaN),new Me(e,t,n,r)}function w1(e){return e instanceof ir||(e=Pt(e)),e?(e=e.rgb(),new Me(e.r,e.g,e.b,e.opacity)):new Me}function ki(e,t,n,r){return arguments.length===1?w1(e):new Me(e,t,n,r??1)}function Me(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ya(Me,ki,hu(ir,{brighter(e){return e=e==null?Gr:Math.pow(Gr,e),new Me(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yn:Math.pow(Yn,e),new Me(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Me(Dt(this.r),Dt(this.g),Dt(this.b),Yr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xs,formatHex:xs,formatHex8:b1,formatRgb:ws,toString:ws}));function xs(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function b1(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ws(){const e=Yr(this.opacity);return`${e===1?"rgb(":"rgba("}${Dt(this.r)}, ${Dt(this.g)}, ${Dt(this.b)}${e===1?")":`, ${e})`}`}function Yr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nt(e){return e=Dt(e),(e<16?"0":"")+e.toString(16)}function bs(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Be(e,t,n,r)}function mu(e){if(e instanceof Be)return new Be(e.h,e.s,e.l,e.opacity);if(e instanceof ir||(e=Pt(e)),!e)return new Be;if(e instanceof Be)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(t===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new Be(a,s,u,e.opacity)}function C1(e,t,n,r){return arguments.length===1?mu(e):new Be(e,t,n,r??1)}function Be(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ya(Be,C1,hu(ir,{brighter(e){return e=e==null?Gr:Math.pow(Gr,e),new Be(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yn:Math.pow(Yn,e),new Be(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Me(li(e>=240?e-240:e+120,o,r),li(e,o,r),li(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Be(Cs(this.h),Nr(this.s),Nr(this.l),Yr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yr(this.opacity);return`${e===1?"hsl(":"hsla("}${Cs(this.h)}, ${Nr(this.s)*100}%, ${Nr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Cs(e){return e=(e||0)%360,e<0?e+360:e}function Nr(e){return Math.max(0,Math.min(1,e||0))}function li(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const va=e=>()=>e;function S1(e,t){return function(n){return e+n*t}}function E1(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _1(e){return(e=+e)==1?gu:function(t,n){return n-t?E1(t,n,e):va(isNaN(t)?n:t)}}function gu(e,t){var n=t-e;return n?S1(e,n):va(isNaN(e)?t:e)}const Xr=(function e(t){var n=_1(t);function r(o,i){var a=n((o=ki(o)).r,(i=ki(i)).r),s=n(o.g,i.g),u=n(o.b,i.b),c=gu(o.opacity,i.opacity);return function(d){return o.r=a(d),o.g=s(d),o.b=u(d),o.opacity=c(d),o+""}}return r.gamma=e,r})(1);function N1(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function R1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function D1(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=Vn(e[a],t[a]);for(;a<n;++a)i[a]=t[a];return function(s){for(a=0;a<r;++a)i[a]=o[a](s);return i}}function M1(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ke(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function T1(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Vn(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Oi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ui=new RegExp(Oi.source,"g");function P1(e){return function(){return e}}function A1(e){return function(t){return e(t)+""}}function yu(e,t){var n=Oi.lastIndex=ui.lastIndex=0,r,o,i,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=Oi.exec(e))&&(o=ui.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,u.push({i:a,x:Ke(r,o)})),n=ui.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?A1(u[0].x):P1(t):(t=u.length,function(c){for(var d=0,f;d<t;++d)s[(f=u[d]).i]=f.x(c);return s.join("")})}function Vn(e,t){var n=typeof t,r;return t==null||n==="boolean"?va(t):(n==="number"?Ke:n==="string"?(r=Pt(t))?(t=r,Xr):yu:t instanceof Pt?Xr:t instanceof Date?M1:R1(t)?N1:Array.isArray(t)?D1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?T1:Ke)(e,t)}var Ss=180/Math.PI,$i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vu(e,t,n,r,o,i){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Ss,skewX:Math.atan(u)*Ss,scaleX:a,scaleY:s}}var Rr;function I1(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$i:vu(t.a,t.b,t.c,t.d,t.e,t.f)}function k1(e){return e==null||(Rr||(Rr=document.createElementNS("http://www.w3.org/2000/svg","g")),Rr.setAttribute("transform",e),!(e=Rr.transform.baseVal.consolidate()))?$i:(e=e.matrix,vu(e.a,e.b,e.c,e.d,e.e,e.f))}function xu(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function i(c,d,f,p,h,g){if(c!==f||d!==p){var x=h.push("translate(",null,t,null,n);g.push({i:x-4,x:Ke(c,f)},{i:x-2,x:Ke(d,p)})}else(f||p)&&h.push("translate("+f+t+p+n)}function a(c,d,f,p){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),p.push({i:f.push(o(f)+"rotate(",null,r)-2,x:Ke(c,d)})):d&&f.push(o(f)+"rotate("+d+r)}function s(c,d,f,p){c!==d?p.push({i:f.push(o(f)+"skewX(",null,r)-2,x:Ke(c,d)}):d&&f.push(o(f)+"skewX("+d+r)}function u(c,d,f,p,h,g){if(c!==f||d!==p){var x=h.push(o(h)+"scale(",null,",",null,")");g.push({i:x-4,x:Ke(c,f)},{i:x-2,x:Ke(d,p)})}else(f!==1||p!==1)&&h.push(o(h)+"scale("+f+","+p+")")}return function(c,d){var f=[],p=[];return c=e(c),d=e(d),i(c.translateX,c.translateY,d.translateX,d.translateY,f,p),a(c.rotate,d.rotate,f,p),s(c.skewX,d.skewX,f,p),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,p),c=d=null,function(h){for(var g=-1,x=p.length,y;++g<x;)f[(y=p[g]).i]=y.x(h);return f.join("")}}}var O1=xu(I1,"px, ","px)","deg)"),$1=xu(k1,", ",")",")"),j1=1e-12;function Es(e){return((e=Math.exp(e))+1/e)/2}function L1(e){return((e=Math.exp(e))-1/e)/2}function F1(e){return((e=Math.exp(2*e))-1)/(e+1)}const jr=(function e(t,n,r){function o(i,a){var s=i[0],u=i[1],c=i[2],d=a[0],f=a[1],p=a[2],h=d-s,g=f-u,x=h*h+g*g,y,w;if(x<j1)w=Math.log(p/c)/t,y=function(R){return[s+R*h,u+R*g,c*Math.exp(t*R*w)]};else{var E=Math.sqrt(x),v=(p*p-c*c+r*x)/(2*c*n*E),b=(p*p-c*c-r*x)/(2*p*n*E),N=Math.log(Math.sqrt(v*v+1)-v),S=Math.log(Math.sqrt(b*b+1)-b);w=(S-N)/t,y=function(R){var O=R*w,M=Es(N),z=c/(n*E)*(M*F1(t*O+N)-L1(N));return[s+z*h,u+z*g,c*M/Es(t*O+N)]}}return y.duration=w*1e3*t/Math.SQRT2,y}return o.rho=function(i){var a=Math.max(.001,+i),s=a*a,u=s*s;return e(a,s,u)},o})(Math.SQRT2,2,4);var an=0,Fn=0,$n=0,wu=1e3,Ur,Hn,Zr=0,At=0,vo=0,Un=typeof performance=="object"&&performance.now?performance:Date,bu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function xa(){return At||(bu(H1),At=Un.now()+vo)}function H1(){At=0}function Kr(){this._call=this._time=this._next=null}Kr.prototype=Cu.prototype={constructor:Kr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?xa():+n)+(t==null?0:+t),!this._next&&Hn!==this&&(Hn?Hn._next=this:Ur=this,Hn=this),this._call=e,this._time=n,ji()},stop:function(){this._call&&(this._call=null,this._time=1/0,ji())}};function Cu(e,t,n){var r=new Kr;return r.restart(e,t,n),r}function z1(){xa(),++an;for(var e=Ur,t;e;)(t=At-e._time)>=0&&e._call.call(void 0,t),e=e._next;--an}function _s(){At=(Zr=Un.now())+vo,an=Fn=0;try{z1()}finally{an=0,B1(),At=0}}function V1(){var e=Un.now(),t=e-Zr;t>wu&&(vo-=t,Zr=e)}function B1(){for(var e,t=Ur,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ur=n);Hn=e,ji(r)}function ji(e){if(!an){Fn&&(Fn=clearTimeout(Fn));var t=e-At;t>24?(e<1/0&&(Fn=setTimeout(_s,e-Un.now()-vo)),$n&&($n=clearInterval($n))):($n||(Zr=Un.now(),$n=setInterval(V1,wu)),an=1,bu(_s))}}function Ns(e,t,n){var r=new Kr;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var W1=go("start","end","cancel","interrupt"),G1=[],Su=0,Rs=1,Li=2,Lr=3,Ds=4,Fi=5,Fr=6;function xo(e,t,n,r,o,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Y1(e,n,{name:t,index:r,group:o,on:W1,tween:G1,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Su})}function wa(e,t){var n=Xe(e,t);if(n.state>Su)throw new Error("too late; already scheduled");return n}function tt(e,t){var n=Xe(e,t);if(n.state>Lr)throw new Error("too late; already running");return n}function Xe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Y1(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Cu(i,0,n.time);function i(c){n.state=Rs,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var d,f,p,h;if(n.state!==Rs)return u();for(d in r)if(h=r[d],h.name===n.name){if(h.state===Lr)return Ns(a);h.state===Ds?(h.state=Fr,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[d]):+d<t&&(h.state=Fr,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[d])}if(Ns(function(){n.state===Lr&&(n.state=Ds,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Li,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Li){for(n.state=Lr,o=new Array(p=n.tween.length),d=0,f=-1;d<p;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function s(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Fi,1),f=-1,p=o.length;++f<p;)o[f].call(e,d);n.state===Fi&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Fr,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Hr(e,t){var n=e.__transition,r,o,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}o=r.state>Li&&r.state<Fi,r.state=Fr,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function X1(e){return this.each(function(){Hr(this,e)})}function U1(e,t){var n,r;return function(){var o=tt(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function Z1(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=tt(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===t){o[u]=s;break}u===c&&o.push(s)}i.tween=o}}function K1(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Xe(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((t==null?U1:Z1)(n,e,t))}function ba(e,t,n){var r=e._id;return e.each(function(){var o=tt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Xe(o,r).value[t]}}function Eu(e,t){var n;return(typeof t=="number"?Ke:t instanceof Pt?Xr:(n=Pt(t))?(t=n,Xr):yu)(e,t)}function q1(e){return function(){this.removeAttribute(e)}}function Q1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function J1(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function ey(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function ty(e,t,n){var r,o,i;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,s)))}}function ny(e,t,n){var r,o,i;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,s)))}}function ry(e,t){var n=yo(e),r=n==="transform"?$1:Eu;return this.attrTween(e,typeof t=="function"?(n.local?ny:ty)(n,r,ba(this,"attr."+e,t)):t==null?(n.local?Q1:q1)(n):(n.local?ey:J1)(n,r,t))}function oy(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function iy(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ay(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&iy(e,i)),n}return o._value=t,o}function sy(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&oy(e,i)),n}return o._value=t,o}function cy(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=yo(e);return this.tween(n,(r.local?ay:sy)(r,t))}function ly(e,t){return function(){wa(this,e).delay=+t.apply(this,arguments)}}function uy(e,t){return t=+t,function(){wa(this,e).delay=t}}function dy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ly:uy)(t,e)):Xe(this.node(),t).delay}function fy(e,t){return function(){tt(this,e).duration=+t.apply(this,arguments)}}function py(e,t){return t=+t,function(){tt(this,e).duration=t}}function hy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fy:py)(t,e)):Xe(this.node(),t).duration}function my(e,t){if(typeof t!="function")throw new Error;return function(){tt(this,e).ease=t}}function gy(e){var t=this._id;return arguments.length?this.each(my(t,e)):Xe(this.node(),t).ease}function yy(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;tt(this,e).ease=n}}function vy(e){if(typeof e!="function")throw new Error;return this.each(yy(this._id,e))}function xy(e){typeof e!="function"&&(e=tu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],u,c=0;c<a;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&s.push(u);return new it(r,this._parents,this._name,this._id)}function wy(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u=t[s],c=n[s],d=u.length,f=a[s]=new Array(d),p,h=0;h<d;++h)(p=u[h]||c[h])&&(f[h]=p);for(;s<r;++s)a[s]=t[s];return new it(a,this._parents,this._name,this._id)}function by(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Cy(e,t,n){var r,o,i=by(t)?wa:tt;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}function Sy(e,t){var n=this._id;return arguments.length<2?Xe(this.node(),n).on.on(e):this.each(Cy(n,e,t))}function Ey(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function _y(){return this.on("end.remove",Ey(this._id))}function Ny(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ma(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s=r[a],u=s.length,c=i[a]=new Array(u),d,f,p=0;p<u;++p)(d=s[p])&&(f=e.call(d,d.__data__,p,s))&&("__data__"in d&&(f.__data__=d.__data__),c[p]=f,xo(c[p],t,n,p,c,Xe(d,n)));return new it(i,this._parents,t,n)}function Ry(e){var t=this._name,n=this._id;typeof e!="function"&&(e=eu(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var u=r[s],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var p=e.call(d,d.__data__,f,u),h,g=Xe(d,n),x=0,y=p.length;x<y;++x)(h=p[x])&&xo(h,t,n,x,p,g);i.push(p),a.push(d)}return new it(i,a,t,n)}var Dy=or.prototype.constructor;function My(){return new Dy(this._groups,this._parents)}function Ty(e,t){var n,r,o;return function(){var i=on(this,e),a=(this.style.removeProperty(e),on(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function _u(e){return function(){this.style.removeProperty(e)}}function Py(e,t,n){var r,o=n+"",i;return function(){var a=on(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}function Ay(e,t,n){var r,o,i;return function(){var a=on(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),on(this,e))),a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,s))}}function Iy(e,t){var n,r,o,i="style."+t,a="end."+i,s;return function(){var u=tt(this,e),c=u.on,d=u.value[i]==null?s||(s=_u(t)):void 0;(c!==n||o!==d)&&(r=(n=c).copy()).on(a,o=d),u.on=r}}function ky(e,t,n){var r=(e+="")=="transform"?O1:Eu;return t==null?this.styleTween(e,Ty(e,r)).on("end.style."+e,_u(e)):typeof t=="function"?this.styleTween(e,Ay(e,r,ba(this,"style."+e,t))).each(Iy(this._id,e)):this.styleTween(e,Py(e,r,t),n).on("end.style."+e,null)}function Oy(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function $y(e,t,n){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&Oy(e,a,n)),r}return i._value=t,i}function jy(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,$y(e,t,n??""))}function Ly(e){return function(){this.textContent=e}}function Fy(e){return function(){var t=e(this);this.textContent=t??""}}function Hy(e){return this.tween("text",typeof e=="function"?Fy(ba(this,"text",e)):Ly(e==null?"":e+""))}function zy(e){return function(t){this.textContent=e.call(this,t)}}function Vy(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&zy(o)),t}return r._value=e,r}function By(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Vy(e))}function Wy(){for(var e=this._name,t=this._id,n=Nu(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,u,c=0;c<s;++c)if(u=a[c]){var d=Xe(u,t);xo(u,e,n,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new it(r,this._parents,e,n)}function Gy(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},u={value:function(){--o===0&&i()}};n.each(function(){var c=tt(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),c.on=t}),o===0&&i()})}var Yy=0;function it(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Nu(){return++Yy}var rt=or.prototype;it.prototype={constructor:it,select:Ny,selectAll:Ry,selectChild:rt.selectChild,selectChildren:rt.selectChildren,filter:xy,merge:wy,selection:My,transition:Wy,call:rt.call,nodes:rt.nodes,node:rt.node,size:rt.size,empty:rt.empty,each:rt.each,on:Sy,attr:ry,attrTween:cy,style:ky,styleTween:jy,text:Hy,textTween:By,remove:_y,tween:K1,delay:dy,duration:hy,ease:gy,easeVarying:vy,end:Gy,[Symbol.iterator]:rt[Symbol.iterator]};function Xy(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Uy={time:null,delay:0,duration:250,ease:Xy};function Zy(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ky(e){var t,n;e instanceof it?(t=e._id,e=e._name):(t=Nu(),(n=Uy).time=xa(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,u,c=0;c<s;++c)(u=a[c])&&xo(u,e,t,c,a,n||Zy(u,t));return new it(r,this._parents,e,t)}or.prototype.interrupt=X1;or.prototype.transition=Ky;const Dr=e=>()=>e;function qy(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function ot(e,t,n){this.k=e,this.x=t,this.y=n}ot.prototype={constructor:ot,scale:function(e){return e===1?this:new ot(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ot(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wo=new ot(1,0,0);Ru.prototype=ot.prototype;function Ru(e){for(;!e.__zoom;)if(!(e=e.parentNode))return wo;return e.__zoom}function di(e){e.stopImmediatePropagation()}function jn(e){e.preventDefault(),e.stopImmediatePropagation()}function Qy(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Jy(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ms(){return this.__zoom||wo}function ev(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function tv(){return navigator.maxTouchPoints||"ontouchstart"in this}function nv(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Du(){var e=Qy,t=Jy,n=nv,r=ev,o=tv,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=jr,c=go("start","zoom","end"),d,f,p,h=500,g=150,x=0,y=10;function w(_){_.property("__zoom",Ms).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",z).filter(o).on("touchstart.zoom",k).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(_,j,T,H){var L=_.selection?_.selection():_;L.property("__zoom",Ms),_!==L?N(_,j,T,H):L.interrupt().each(function(){S(this,arguments).event(H).start().zoom(null,typeof j=="function"?j.apply(this,arguments):j).end()})},w.scaleBy=function(_,j,T,H){w.scaleTo(_,function(){var L=this.__zoom.k,I=typeof j=="function"?j.apply(this,arguments):j;return L*I},T,H)},w.scaleTo=function(_,j,T,H){w.transform(_,function(){var L=t.apply(this,arguments),I=this.__zoom,G=T==null?b(L):typeof T=="function"?T.apply(this,arguments):T,U=I.invert(G),P=typeof j=="function"?j.apply(this,arguments):j;return n(v(E(I,P),G,U),L,a)},T,H)},w.translateBy=function(_,j,T,H){w.transform(_,function(){return n(this.__zoom.translate(typeof j=="function"?j.apply(this,arguments):j,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),a)},null,H)},w.translateTo=function(_,j,T,H,L){w.transform(_,function(){var I=t.apply(this,arguments),G=this.__zoom,U=H==null?b(I):typeof H=="function"?H.apply(this,arguments):H;return n(wo.translate(U[0],U[1]).scale(G.k).translate(typeof j=="function"?-j.apply(this,arguments):-j,typeof T=="function"?-T.apply(this,arguments):-T),I,a)},H,L)};function E(_,j){return j=Math.max(i[0],Math.min(i[1],j)),j===_.k?_:new ot(j,_.x,_.y)}function v(_,j,T){var H=j[0]-T[0]*_.k,L=j[1]-T[1]*_.k;return H===_.x&&L===_.y?_:new ot(_.k,H,L)}function b(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function N(_,j,T,H){_.on("start.zoom",function(){S(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(H).end()}).tween("zoom",function(){var L=this,I=arguments,G=S(L,I).event(H),U=t.apply(L,I),P=T==null?b(U):typeof T=="function"?T.apply(L,I):T,Y=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),X=L.__zoom,$=typeof j=="function"?j.apply(L,I):j,D=u(X.invert(P).concat(Y/X.k),$.invert(P).concat(Y/$.k));return function(K){if(K===1)K=$;else{var Z=D(K),ee=Y/Z[2];K=new ot(ee,P[0]-Z[0]*ee,P[1]-Z[1]*ee)}G.zoom(null,K)}})}function S(_,j,T){return!T&&_.__zooming||new R(_,j)}function R(_,j){this.that=_,this.args=j,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,j),this.taps=0}R.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,j){return this.mouse&&_!=="mouse"&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var j=Ie(this.that).datum();c.call(_,this.that,new qy(_,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:c}),j)}};function O(_,...j){if(!e.apply(this,arguments))return;var T=S(this,j).event(_),H=this.__zoom,L=Math.max(i[0],Math.min(i[1],H.k*Math.pow(2,r.apply(this,arguments)))),I=Ve(_);if(T.wheel)(T.mouse[0][0]!==I[0]||T.mouse[0][1]!==I[1])&&(T.mouse[1]=H.invert(T.mouse[0]=I)),clearTimeout(T.wheel);else{if(H.k===L)return;T.mouse=[I,H.invert(I)],Hr(this),T.start()}jn(_),T.wheel=setTimeout(G,g),T.zoom("mouse",n(v(E(H,L),T.mouse[0],T.mouse[1]),T.extent,a));function G(){T.wheel=null,T.end()}}function M(_,...j){if(p||!e.apply(this,arguments))return;var T=_.currentTarget,H=S(this,j,!0).event(_),L=Ie(_.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",Y,!0),I=Ve(_,T),G=_.clientX,U=_.clientY;du(_.view),di(_),H.mouse=[I,this.__zoom.invert(I)],Hr(this),H.start();function P(X){if(jn(X),!H.moved){var $=X.clientX-G,D=X.clientY-U;H.moved=$*$+D*D>x}H.event(X).zoom("mouse",n(v(H.that.__zoom,H.mouse[0]=Ve(X,T),H.mouse[1]),H.extent,a))}function Y(X){L.on("mousemove.zoom mouseup.zoom",null),fu(X.view,H.moved),jn(X),H.event(X).end()}}function z(_,...j){if(e.apply(this,arguments)){var T=this.__zoom,H=Ve(_.changedTouches?_.changedTouches[0]:_,this),L=T.invert(H),I=T.k*(_.shiftKey?.5:2),G=n(v(E(T,I),H,L),t.apply(this,j),a);jn(_),s>0?Ie(this).transition().duration(s).call(N,G,H,_):Ie(this).call(w.transform,G,H,_)}}function k(_,...j){if(e.apply(this,arguments)){var T=_.touches,H=T.length,L=S(this,j,_.changedTouches.length===H).event(_),I,G,U,P;for(di(_),G=0;G<H;++G)U=T[G],P=Ve(U,this),P=[P,this.__zoom.invert(P),U.identifier],L.touch0?!L.touch1&&L.touch0[2]!==P[2]&&(L.touch1=P,L.taps=0):(L.touch0=P,I=!0,L.taps=1+!!d);d&&(d=clearTimeout(d)),I&&(L.taps<2&&(f=P[0],d=setTimeout(function(){d=null},h)),Hr(this),L.start())}}function F(_,...j){if(this.__zooming){var T=S(this,j).event(_),H=_.changedTouches,L=H.length,I,G,U,P;for(jn(_),I=0;I<L;++I)G=H[I],U=Ve(G,this),T.touch0&&T.touch0[2]===G.identifier?T.touch0[0]=U:T.touch1&&T.touch1[2]===G.identifier&&(T.touch1[0]=U);if(G=T.that.__zoom,T.touch1){var Y=T.touch0[0],X=T.touch0[1],$=T.touch1[0],D=T.touch1[1],K=(K=$[0]-Y[0])*K+(K=$[1]-Y[1])*K,Z=(Z=D[0]-X[0])*Z+(Z=D[1]-X[1])*Z;G=E(G,Math.sqrt(K/Z)),U=[(Y[0]+$[0])/2,(Y[1]+$[1])/2],P=[(X[0]+D[0])/2,(X[1]+D[1])/2]}else if(T.touch0)U=T.touch0[0],P=T.touch0[1];else return;T.zoom("touch",n(v(G,U,P),T.extent,a))}}function B(_,...j){if(this.__zooming){var T=S(this,j).event(_),H=_.changedTouches,L=H.length,I,G;for(di(_),p&&clearTimeout(p),p=setTimeout(function(){p=null},h),I=0;I<L;++I)G=H[I],T.touch0&&T.touch0[2]===G.identifier?delete T.touch0:T.touch1&&T.touch1[2]===G.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(G=Ve(G,this),Math.hypot(f[0]-G[0],f[1]-G[1])<y)){var U=Ie(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return w.wheelDelta=function(_){return arguments.length?(r=typeof _=="function"?_:Dr(+_),w):r},w.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Dr(!!_),w):e},w.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Dr(!!_),w):o},w.extent=function(_){return arguments.length?(t=typeof _=="function"?_:Dr([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),w):t},w.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],w):[i[0],i[1]]},w.translateExtent=function(_){return arguments.length?(a[0][0]=+_[0][0],a[1][0]=+_[1][0],a[0][1]=+_[0][1],a[1][1]=+_[1][1],w):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},w.constrain=function(_){return arguments.length?(n=_,w):n},w.duration=function(_){return arguments.length?(s=+_,w):s},w.interpolate=function(_){return arguments.length?(u=_,w):u},w.on=function(){var _=c.on.apply(c,arguments);return _===c?w:_},w.clickDistance=function(_){return arguments.length?(x=(_=+_)*_,w):Math.sqrt(x)},w.tapDistance=function(_){return arguments.length?(y=+_,w):y},w}const Je={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Zn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Mu=["Enter"," ","Escape"],Tu={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var sn;(function(e){e.Strict="strict",e.Loose="loose"})(sn||(sn={}));var Mt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Mt||(Mt={}));var Kn;(function(e){e.Partial="partial",e.Full="full"})(Kn||(Kn={}));const Pu={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ht;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ht||(ht={}));var qr;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(qr||(qr={}));var ne;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ne||(ne={}));const Ts={[ne.Left]:ne.Right,[ne.Right]:ne.Left,[ne.Top]:ne.Bottom,[ne.Bottom]:ne.Top};function Au(e){return e===null?null:e?"valid":"invalid"}const Iu=e=>"id"in e&&"source"in e&&"target"in e,rv=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Ca=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),ar=(e,t=[0,0])=>{const{width:n,height:r}=st(e),o=e.origin??t,i=n*o[0],a=r*o[1];return{x:e.position.x-i,y:e.position.y-a}},ov=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let a=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(a=i?t.nodeLookup.get(o):Ca(o)?o:t.nodeLookup.get(o.id));const s=a?Qr(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return bo(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Co(n)},sr=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=bo(n,Qr(o)),r=!0)}),r?Co(n):{x:0,y:0,width:0,height:0}},Sa=(e,t,[n,r,o]=[0,0,1],i=!1,a=!1)=>{const s={...lr(t,[n,r,o]),width:t.width/o,height:t.height/o},u=[];for(const c of e.values()){const{measured:d,selectable:f=!0,hidden:p=!1}=c;if(a&&!f||p)continue;const h=d.width??c.width??c.initialWidth??null,g=d.height??c.height??c.initialHeight??null,x=qn(s,ln(c)),y=(h??0)*(g??0),w=i&&x>0;(!c.internals.handleBounds||w||x>=y||c.dragging)&&u.push(c)}return u},iv=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function av(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&(t?.includeHiddenNodes||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function sv({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},a){if(e.size===0)return Promise.resolve(!0);const s=av(e,a),u=sr(s),c=Ea(u,t,n,a?.minZoom??o,a?.maxZoom??i,a?.padding??.1);return await r.setViewport(c,{duration:a?.duration,ease:a?.ease,interpolate:a?.interpolate}),Promise.resolve(!0)}function ku({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:u,y:c}=s?s.internals.positionAbsolute:{x:0,y:0},d=a.origin??r;let f=a.extent||o;if(a.extent==="parent"&&!a.expandParent)if(!s)i?.("005",Je.error005());else{const h=s.measured.width,g=s.measured.height;h&&g&&(f=[[u,c],[u+h,c+g]])}else s&&un(a.extent)&&(f=[[a.extent[0][0]+u,a.extent[0][1]+c],[a.extent[1][0]+u,a.extent[1][1]+c]]);const p=un(f)?It(t,f,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&i?.("015",Je.error015()),{position:{x:p.x-u+(a.measured.width??0)*d[0],y:p.y-c+(a.measured.height??0)*d[1]},positionAbsolute:p}}async function cv({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(p=>p.id)),a=[];for(const p of n){if(p.deletable===!1)continue;const h=i.has(p.id),g=!h&&p.parentId&&a.find(x=>x.id===p.parentId);(h||g)&&a.push(p)}const s=new Set(t.map(p=>p.id)),u=r.filter(p=>p.deletable!==!1),d=iv(a,u);for(const p of u)s.has(p.id)&&!d.find(g=>g.id===p.id)&&d.push(p);if(!o)return{edges:d,nodes:a};const f=await o({nodes:a,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:a}:{edges:[],nodes:[]}:f}const cn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),It=(e={x:0,y:0},t,n)=>({x:cn(e.x,t[0][0],t[1][0]-(n?.width??0)),y:cn(e.y,t[0][1],t[1][1]-(n?.height??0))});function Ou(e,t,n){const{width:r,height:o}=st(n),{x:i,y:a}=n.internals.positionAbsolute;return It(e,[[i,a],[i+r,a+o]],t)}const Ps=(e,t,n)=>e<t?cn(Math.abs(e-t),1,t)/t:e>n?-cn(Math.abs(e-n),1,t)/t:0,$u=(e,t,n=15,r=40)=>{const o=Ps(e.x,r,t.width-r)*n,i=Ps(e.y,r,t.height-r)*n;return[o,i]},bo=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Hi=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Co=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),ln=(e,t=[0,0])=>{const{x:n,y:r}=Ca(e)?e.internals.positionAbsolute:ar(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Qr=(e,t=[0,0])=>{const{x:n,y:r}=Ca(e)?e.internals.positionAbsolute:ar(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},ju=(e,t)=>Co(bo(Hi(e),Hi(t))),qn=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},As=e=>We(e.width)&&We(e.height)&&We(e.x)&&We(e.y),We=e=>!isNaN(e)&&isFinite(e),lv=(e,t)=>{},cr=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),lr=({x:e,y:t},[n,r,o],i=!1,a=[1,1])=>{const s={x:(e-n)/o,y:(t-r)/o};return i?cr(s,a):s},Jr=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Gt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function uv(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Gt(e,n),o=Gt(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Gt(e.top??e.y??0,n),o=Gt(e.bottom??e.y??0,n),i=Gt(e.left??e.x??0,t),a=Gt(e.right??e.x??0,t);return{top:r,right:a,bottom:o,left:i,x:i+a,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function dv(e,t,n,r,o,i){const{x:a,y:s}=Jr(e,[t,n,r]),{x:u,y:c}=Jr({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=o-u,f=i-c;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(d),bottom:Math.floor(f)}}const Ea=(e,t,n,r,o,i)=>{const a=uv(i,t,n),s=(t-a.x)/e.width,u=(n-a.y)/e.height,c=Math.min(s,u),d=cn(c,r,o),f=e.x+e.width/2,p=e.y+e.height/2,h=t/2-f*d,g=n/2-p*d,x=dv(e,h,g,d,t,n),y={left:Math.min(x.left-a.left,0),top:Math.min(x.top-a.top,0),right:Math.min(x.right-a.right,0),bottom:Math.min(x.bottom-a.bottom,0)};return{x:h-y.left+y.right,y:g-y.top+y.bottom,zoom:d}},Qn=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function un(e){return e!=null&&e!=="parent"}function st(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function Lu(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function Fu(e,t={width:0,height:0},n,r,o){const i={...e},a=r.get(n);if(a){const s=a.origin||o;i.x+=a.internals.positionAbsolute.x-(t.width??0)*s[0],i.y+=a.internals.positionAbsolute.y-(t.height??0)*s[1]}return i}function Is(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function fv(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function pv(e){return{...Tu,...e||{}}}function Bn(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:a}=Ge(e),s=lr({x:i-(o?.left??0),y:a-(o?.top??0)},r),{x:u,y:c}=n?cr(s,t):s;return{xSnapped:u,ySnapped:c,...s}}const _a=e=>({width:e.offsetWidth,height:e.offsetHeight}),Hu=e=>e?.getRootNode?.()||window?.document,hv=["INPUT","SELECT","TEXTAREA"];function zu(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:hv.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Vu=e=>"clientX"in e,Ge=(e,t)=>{const n=Vu(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},ks=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:o,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,..._a(a)}})};function Bu({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){const u=e*.125+o*.375+a*.375+n*.125,c=t*.125+i*.375+s*.375+r*.125,d=Math.abs(u-e),f=Math.abs(c-t);return[u,c,d,f]}function Mr(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Os({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case ne.Left:return[t-Mr(t-r,i),n];case ne.Right:return[t+Mr(r-t,i),n];case ne.Top:return[t,n-Mr(n-o,i)];case ne.Bottom:return[t,n+Mr(o-n,i)]}}function Wu({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:r,targetY:o,targetPosition:i=ne.Top,curvature:a=.25}){const[s,u]=Os({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[c,d]=Os({pos:i,x1:r,y1:o,x2:e,y2:t,c:a}),[f,p,h,g]=Bu({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${s},${u} ${c},${d} ${r},${o}`,f,p,h,g]}function Gu({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[i,s,o,a]}function mv({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const a=o&&n?r+1e3:r,s=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return a+s}function gv({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=bo(Qr(e),Qr(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const a={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return qn(a,Co(i))>0}const yv=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,vv=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),xv=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||yv;let o;return Iu(e)?o={...e}:o={...e,id:r(e)},vv(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function Yu({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,a,s]=Gu({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,a,s]}const $s={[ne.Left]:{x:-1,y:0},[ne.Right]:{x:1,y:0},[ne.Top]:{x:0,y:-1},[ne.Bottom]:{x:0,y:1}},wv=({source:e,sourcePosition:t=ne.Bottom,target:n})=>t===ne.Left||t===ne.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},js=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function bv({source:e,sourcePosition:t=ne.Bottom,target:n,targetPosition:r=ne.Top,center:o,offset:i,stepPosition:a}){const s=$s[t],u=$s[r],c={x:e.x+s.x*i,y:e.y+s.y*i},d={x:n.x+u.x*i,y:n.y+u.y*i},f=wv({source:c,sourcePosition:t,target:d}),p=f.x!==0?"x":"y",h=f[p];let g=[],x,y;const w={x:0,y:0},E={x:0,y:0},[,,v,b]=Gu({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[p]*u[p]===-1){p==="x"?(x=o.x??c.x+(d.x-c.x)*a,y=o.y??(c.y+d.y)/2):(x=o.x??(c.x+d.x)/2,y=o.y??c.y+(d.y-c.y)*a);const S=[{x,y:c.y},{x,y:d.y}],R=[{x:c.x,y},{x:d.x,y}];s[p]===h?g=p==="x"?S:R:g=p==="x"?R:S}else{const S=[{x:c.x,y:d.y}],R=[{x:d.x,y:c.y}];if(p==="x"?g=s.x===h?R:S:g=s.y===h?S:R,t===r){const F=Math.abs(e[p]-n[p]);if(F<=i){const B=Math.min(i-1,i-F);s[p]===h?w[p]=(c[p]>e[p]?-1:1)*B:E[p]=(d[p]>n[p]?-1:1)*B}}if(t!==r){const F=p==="x"?"y":"x",B=s[p]===u[F],_=c[F]>d[F],j=c[F]<d[F];(s[p]===1&&(!B&&_||B&&j)||s[p]!==1&&(!B&&j||B&&_))&&(g=p==="x"?S:R)}const O={x:c.x+w.x,y:c.y+w.y},M={x:d.x+E.x,y:d.y+E.y},z=Math.max(Math.abs(O.x-g[0].x),Math.abs(M.x-g[0].x)),k=Math.max(Math.abs(O.y-g[0].y),Math.abs(M.y-g[0].y));z>=k?(x=(O.x+M.x)/2,y=g[0].y):(x=g[0].x,y=(O.y+M.y)/2)}return[[e,{x:c.x+w.x,y:c.y+w.y},...g,{x:d.x+E.x,y:d.y+E.y},n],x,y,v,b]}function Cv(e,t,n,r){const o=Math.min(js(e,t)/2,js(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+o*c},${a}Q ${i},${a} ${i},${a+o*d}`}const s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${a+o*u}Q ${i},${a} ${i+o*s},${a}`}function zi({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:r,targetY:o,targetPosition:i=ne.Top,borderRadius:a=5,centerX:s,centerY:u,offset:c=20,stepPosition:d=.5}){const[f,p,h,g,x]=bv({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:u},offset:c,stepPosition:d});return[f.reduce((w,E,v)=>{let b="";return v>0&&v<f.length-1?b=Cv(f[v-1],E,f[v+1],a):b=`${v===0?"M":"L"}${E.x} ${E.y}`,w+=b,w},""),p,h,g,x]}function Ls(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Sv(e){const{sourceNode:t,targetNode:n}=e;if(!Ls(t)||!Ls(n))return null;const r=t.internals.handleBounds||Fs(t.handles),o=n.internals.handleBounds||Fs(n.handles),i=Hs(r?.source??[],e.sourceHandle),a=Hs(e.connectionMode===sn.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!i||!a)return e.onError?.("008",Je.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=i?.position||ne.Bottom,u=a?.position||ne.Top,c=kt(t,i,s),d=kt(n,a,u);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:s,targetPosition:u}}function Fs(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function kt(e,t,n=ne.Left,r=!1){const o=(t?.x??0)+e.internals.positionAbsolute.x,i=(t?.y??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??st(e);if(r)return{x:o+a/2,y:i+s/2};switch(t?.position??n){case ne.Top:return{x:o+a/2,y:i};case ne.Right:return{x:o+a,y:i+s/2};case ne.Bottom:return{x:o+a/2,y:i+s};case ne.Left:return{x:o,y:i+s/2}}}function Hs(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Vi(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Ev(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((a,s)=>([s.markerStart||r,s.markerEnd||o].forEach(u=>{if(u&&typeof u=="object"){const c=Vi(u,t);i.has(c)||(a.push({id:c,color:u.color||n,...u}),i.add(c))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const Xu=1e3,_v=10,Na={nodeOrigin:[0,0],nodeExtent:Zn,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Nv={...Na,checkEquality:!0};function Ra(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Rv(e,t,n){const r=Ra(Na,n);for(const o of e.values())if(o.parentId)Ma(o,e,t,r);else{const i=ar(o,r.nodeOrigin),a=un(o.extent)?o.extent:r.nodeExtent,s=It(i,a,st(o));o.internals.positionAbsolute=s}}function Dv(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function Da(e){return e==="manual"}function Bi(e,t,n,r={}){const o=Ra(Nv,r),i={i:0},a=new Map(t),s=o?.elevateNodesOnSelect&&!Da(o.zIndexMode)?Xu:0;let u=e.length>0;t.clear(),n.clear();for(const c of e){let d=a.get(c.id);if(o.checkEquality&&c===d?.internals.userNode)t.set(c.id,d);else{const f=ar(c,o.nodeOrigin),p=un(c.extent)?c.extent:o.nodeExtent,h=It(f,p,st(c));d={...o.defaults,...c,measured:{width:c.measured?.width,height:c.measured?.height},internals:{positionAbsolute:h,handleBounds:Dv(c,d),z:Uu(c,s,o.zIndexMode),userNode:c}},t.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(u=!1),c.parentId&&Ma(d,t,n,r,i)}return u}function Mv(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Ma(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:a,nodeExtent:s,zIndexMode:u}=Ra(Na,r),c=e.parentId,d=t.get(c);if(!d){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Mv(e,n),o&&!d.parentId&&d.internals.rootParentIndex===void 0&&u==="auto"&&(d.internals.rootParentIndex=++o.i,d.internals.z=d.internals.z+o.i*_v),o&&d.internals.rootParentIndex!==void 0&&(o.i=d.internals.rootParentIndex);const f=i&&!Da(u)?Xu:0,{x:p,y:h,z:g}=Tv(e,d,a,s,f,u),{positionAbsolute:x}=e.internals,y=p!==x.x||h!==x.y;(y||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:y?{x:p,y:h}:x,z:g}})}function Uu(e,t,n){const r=We(e.zIndex)?e.zIndex:0;return Da(n)?r:r+(e.selected?t:0)}function Tv(e,t,n,r,o,i){const{x:a,y:s}=t.internals.positionAbsolute,u=st(e),c=ar(e,n),d=un(e.extent)?It(c,e.extent,u):c;let f=It({x:a+d.x,y:s+d.y},r,u);e.extent==="parent"&&(f=Ou(f,u,t));const p=Uu(e,o,i),h=t.internals.z??0;return{x:f.x,y:f.y,z:h>=p?h+1:p}}function Ta(e,t,n,r=[0,0]){const o=[],i=new Map;for(const a of e){const s=t.get(a.parentId);if(!s)continue;const u=i.get(a.parentId)?.expandedRect??ln(s),c=ju(u,a.rect);i.set(a.parentId,{expandedRect:c,parent:s})}return i.size>0&&i.forEach(({expandedRect:a,parent:s},u)=>{const c=s.internals.positionAbsolute,d=st(s),f=s.origin??r,p=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,h=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,g=Math.max(d.width,Math.round(a.width)),x=Math.max(d.height,Math.round(a.height)),y=(g-d.width)*f[0],w=(x-d.height)*f[1];(p>0||h>0||y||w)&&(o.push({id:u,type:"position",position:{x:s.position.x-p+y,y:s.position.y-h+w}}),n.get(u)?.forEach(E=>{e.some(v=>v.id===E.id)||o.push({id:E.id,type:"position",position:{x:E.position.x+p,y:E.position.y+h}})})),(d.width<a.width||d.height<a.height||p||h)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:g+(p?f[0]*p-y:0),height:x+(h?f[1]*h-w:0)}})}),o}function Pv(e,t,n,r,o,i,a){const s=r?.querySelector(".xyflow__viewport");let u=!1;if(!s)return{changes:[],updatedInternals:u};const c=[],d=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(d.transform),p=[];for(const h of e.values()){const g=t.get(h.id);if(!g)continue;if(g.hidden){t.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),u=!0;continue}const x=_a(h.nodeElement),y=g.measured.width!==x.width||g.measured.height!==x.height;if(!!(x.width&&x.height&&(y||!g.internals.handleBounds||h.force))){const E=h.nodeElement.getBoundingClientRect(),v=un(g.extent)?g.extent:i;let{positionAbsolute:b}=g.internals;g.parentId&&g.extent==="parent"?b=Ou(b,x,t.get(g.parentId)):v&&(b=It(b,v,x));const N={...g,measured:x,internals:{...g.internals,positionAbsolute:b,handleBounds:{source:ks("source",h.nodeElement,E,f,g.id),target:ks("target",h.nodeElement,E,f,g.id)}}};t.set(g.id,N),g.parentId&&Ma(N,t,n,{nodeOrigin:o,zIndexMode:a}),u=!0,y&&(c.push({id:g.id,type:"dimensions",dimensions:x}),g.expandParent&&g.parentId&&p.push({id:g.id,parentId:g.parentId,rect:ln(N,o)}))}}if(p.length>0){const h=Ta(p,t,n,o);c.push(...h)}return{changes:c,updatedInternals:u}}async function Av({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function zs(e,t,n,r,o,i){let a=o;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${o}-${e}`;const u=r.get(a)||new Map;if(r.set(a,u.set(n,t)),i){a=`${o}-${e}-${i}`;const c=r.get(a)||new Map;r.set(a,c.set(n,t))}}function Zu(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:a=null,targetHandle:s=null}=r,u={edgeId:r.id,source:o,target:i,sourceHandle:a,targetHandle:s},c=`${o}-${a}--${i}-${s}`,d=`${i}-${s}--${o}-${a}`;zs("source",u,d,e,o,a),zs("target",u,c,e,i,s),t.set(r.id,r)}}function Ku(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Ku(n,t):!1}function Vs(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function Iv(e,t,n,r){const o=new Map;for(const[i,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!Ku(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const s=e.get(i);s&&o.set(i,{id:i,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return o}function fi({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const o=[];for(const[a,s]of t){const u=n.get(a)?.internals.userNode;u&&o.push({...u,position:s.position,dragging:r})}if(!e)return[o[0],o];const i=n.get(e)?.internals.userNode;return[i?{...i,position:t.get(e)?.position||i.position,dragging:r}:o[0],o]}function kv({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},a=cr(i,t);return{x:a.x-i.x,y:a.y-i.y}}function Ov({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},a=0,s=new Map,u=!1,c={x:0,y:0},d=null,f=!1,p=null,h=!1,g=!1,x=null;function y({noDragClassName:E,handleSelector:v,domNode:b,isSelectable:N,nodeId:S,nodeClickDistance:R=0}){p=Ie(b);function O({x:F,y:B}){const{nodeLookup:_,nodeExtent:j,snapGrid:T,snapToGrid:H,nodeOrigin:L,onNodeDrag:I,onSelectionDrag:G,onError:U,updateNodePositions:P}=t();i={x:F,y:B};let Y=!1;const X=s.size>1,$=X&&j?Hi(sr(s)):null,D=X&&H?kv({dragItems:s,snapGrid:T,x:F,y:B}):null;for(const[K,Z]of s){if(!_.has(K))continue;let ee={x:F-Z.distance.x,y:B-Z.distance.y};H&&(ee=D?{x:Math.round(ee.x+D.x),y:Math.round(ee.y+D.y)}:cr(ee,T));let ae=null;if(X&&j&&!Z.extent&&$){const{positionAbsolute:oe}=Z.internals,he=oe.x-$.x+j[0][0],ge=oe.x+Z.measured.width-$.x2+j[1][0],me=oe.y-$.y+j[0][1],_e=oe.y+Z.measured.height-$.y2+j[1][1];ae=[[he,me],[ge,_e]]}const{position:le,positionAbsolute:re}=ku({nodeId:K,nextPosition:ee,nodeLookup:_,nodeExtent:ae||j,nodeOrigin:L,onError:U});Y=Y||Z.position.x!==le.x||Z.position.y!==le.y,Z.position=le,Z.internals.positionAbsolute=re}if(g=g||Y,!!Y&&(P(s,!0),x&&(r||I||!S&&G))){const[K,Z]=fi({nodeId:S,dragItems:s,nodeLookup:_});r?.(x,s,K,Z),I?.(x,K,Z),S||G?.(x,Z)}}async function M(){if(!d)return;const{transform:F,panBy:B,autoPanSpeed:_,autoPanOnNodeDrag:j}=t();if(!j){u=!1,cancelAnimationFrame(a);return}const[T,H]=$u(c,d,_);(T!==0||H!==0)&&(i.x=(i.x??0)-T/F[2],i.y=(i.y??0)-H/F[2],await B({x:T,y:H})&&O(i)),a=requestAnimationFrame(M)}function z(F){const{nodeLookup:B,multiSelectionActive:_,nodesDraggable:j,transform:T,snapGrid:H,snapToGrid:L,selectNodesOnDrag:I,onNodeDragStart:G,onSelectionDragStart:U,unselectNodesAndEdges:P}=t();f=!0,(!I||!N)&&!_&&S&&(B.get(S)?.selected||P()),N&&I&&S&&e?.(S);const Y=Bn(F.sourceEvent,{transform:T,snapGrid:H,snapToGrid:L,containerBounds:d});if(i=Y,s=Iv(B,j,Y,S),s.size>0&&(n||G||!S&&U)){const[X,$]=fi({nodeId:S,dragItems:s,nodeLookup:B});n?.(F.sourceEvent,s,X,$),G?.(F.sourceEvent,X,$),S||U?.(F.sourceEvent,$)}}const k=pu().clickDistance(R).on("start",F=>{const{domNode:B,nodeDragThreshold:_,transform:j,snapGrid:T,snapToGrid:H}=t();d=B?.getBoundingClientRect()||null,h=!1,g=!1,x=F.sourceEvent,_===0&&z(F),i=Bn(F.sourceEvent,{transform:j,snapGrid:T,snapToGrid:H,containerBounds:d}),c=Ge(F.sourceEvent,d)}).on("drag",F=>{const{autoPanOnNodeDrag:B,transform:_,snapGrid:j,snapToGrid:T,nodeDragThreshold:H,nodeLookup:L}=t(),I=Bn(F.sourceEvent,{transform:_,snapGrid:j,snapToGrid:T,containerBounds:d});if(x=F.sourceEvent,(F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||S&&!L.has(S))&&(h=!0),!h){if(!u&&B&&f&&(u=!0,M()),!f){const G=Ge(F.sourceEvent,d),U=G.x-c.x,P=G.y-c.y;Math.sqrt(U*U+P*P)>H&&z(F)}(i.x!==I.xSnapped||i.y!==I.ySnapped)&&s&&f&&(c=Ge(F.sourceEvent,d),O(I))}}).on("end",F=>{if(!(!f||h)&&(u=!1,f=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:B,updateNodePositions:_,onNodeDragStop:j,onSelectionDragStop:T}=t();if(g&&(_(s,!1),g=!1),o||j||!S&&T){const[H,L]=fi({nodeId:S,dragItems:s,nodeLookup:B,dragging:!1});o?.(F.sourceEvent,s,H,L),j?.(F.sourceEvent,H,L),S||T?.(F.sourceEvent,L)}}}).filter(F=>{const B=F.target;return!F.button&&(!E||!Vs(B,`.${E}`,b))&&(!v||Vs(B,v,b))});p.call(k)}function w(){p?.on(".drag",null)}return{update:y,destroy:w}}function $v(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())qn(o,ln(i))>0&&r.push(i);return r}const jv=250;function Lv(e,t,n,r){let o=[],i=1/0;const a=$v(e,n,t+jv);for(const s of a){const u=[...s.internals.handleBounds?.source??[],...s.internals.handleBounds?.target??[]];for(const c of u){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:d,y:f}=kt(s,c,c.position,!0),p=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(f-e.y,2));p>t||(p<i?(o=[{...c,x:d,y:f}],i=p):p===i&&o.push({...c,x:d,y:f}))}}if(!o.length)return null;if(o.length>1){const s=r.type==="source"?"target":"source";return o.find(u=>u.type===s)??o[0]}return o[0]}function qu(e,t,n,r,o,i=!1){const a=r.get(e);if(!a)return null;const s=o==="strict"?a.internals.handleBounds?.[t]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],u=(n?s?.find(c=>c.id===n):s?.[0])??null;return u&&i?{...u,...kt(a,u,u.position,!0)}:u}function Qu(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Fv(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Ju=()=>!0;function Hv(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:a,domNode:s,nodeLookup:u,lib:c,autoPanOnConnect:d,flowId:f,panBy:p,cancelConnection:h,onConnectStart:g,onConnect:x,onConnectEnd:y,isValidConnection:w=Ju,onReconnectEnd:E,updateConnection:v,getTransform:b,getFromHandle:N,autoPanSpeed:S,dragThreshold:R=1,handleDomNode:O}){const M=Hu(e.target);let z=0,k;const{x:F,y:B}=Ge(e),_=Qu(i,O),j=s?.getBoundingClientRect();let T=!1;if(!j||!_)return;const H=qu(o,_,r,u,t);if(!H)return;let L=Ge(e,j),I=!1,G=null,U=!1,P=null;function Y(){if(!d||!j)return;const[le,re]=$u(L,j,S);p({x:le,y:re}),z=requestAnimationFrame(Y)}const X={...H,nodeId:o,type:_,position:H.position},$=u.get(o);let K={inProgress:!0,isValid:null,from:kt($,X,ne.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:$,to:L,toHandle:null,toPosition:Ts[X.position],toNode:null,pointer:L};function Z(){T=!0,v(K),g?.(e,{nodeId:o,handleId:r,handleType:_})}R===0&&Z();function ee(le){if(!T){const{x:_e,y:fe}=Ge(le),Ae=_e-F,nt=fe-B;if(!(Ae*Ae+nt*nt>R*R))return;Z()}if(!N()||!X){ae(le);return}const re=b();L=Ge(le,j),k=Lv(lr(L,re,!1,[1,1]),n,u,X),I||(Y(),I=!0);const oe=ed(le,{handle:k,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:a?"target":"source",isValidConnection:w,doc:M,lib:c,flowId:f,nodeLookup:u});P=oe.handleDomNode,G=oe.connection,U=Fv(!!k,oe.isValid);const he=u.get(o),ge=he?kt(he,X,ne.Left,!0):K.from,me={...K,from:ge,isValid:U,to:oe.toHandle&&U?Jr({x:oe.toHandle.x,y:oe.toHandle.y},re):L,toHandle:oe.toHandle,toPosition:U&&oe.toHandle?oe.toHandle.position:Ts[X.position],toNode:oe.toHandle?u.get(oe.toHandle.nodeId):null,pointer:L};v(me),K=me}function ae(le){if(!("touches"in le&&le.touches.length>0)){if(T){(k||P)&&G&&U&&x?.(G);const{inProgress:re,...oe}=K,he={...oe,toPosition:K.toHandle?K.toPosition:null};y?.(le,he),i&&E?.(le,he)}h(),cancelAnimationFrame(z),I=!1,U=!1,G=null,P=null,M.removeEventListener("mousemove",ee),M.removeEventListener("mouseup",ae),M.removeEventListener("touchmove",ee),M.removeEventListener("touchend",ae)}}M.addEventListener("mousemove",ee),M.addEventListener("mouseup",ae),M.addEventListener("touchmove",ee),M.addEventListener("touchend",ae)}function ed(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:a,lib:s,flowId:u,isValidConnection:c=Ju,nodeLookup:d}){const f=i==="target",p=t?a.querySelector(`.${s}-flow__handle[data-id="${u}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:h,y:g}=Ge(e),x=a.elementFromPoint(h,g),y=x?.classList.contains(`${s}-flow__handle`)?x:p,w={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const E=Qu(void 0,y),v=y.getAttribute("data-nodeid"),b=y.getAttribute("data-handleid"),N=y.classList.contains("connectable"),S=y.classList.contains("connectableend");if(!v||!E)return w;const R={source:f?v:r,sourceHandle:f?b:o,target:f?r:v,targetHandle:f?o:b};w.connection=R;const M=N&&S&&(n===sn.Strict?f&&E==="source"||!f&&E==="target":v!==r||b!==o);w.isValid=M&&c(R),w.toHandle=qu(v,E,b,d,n,!0)}return w}const Wi={onPointerDown:Hv,isValid:ed};function zv({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Ie(e);function i({translateExtent:s,width:u,height:c,zoomStep:d=1,pannable:f=!0,zoomable:p=!0,inversePan:h=!1}){const g=v=>{if(v.sourceEvent.type!=="wheel"||!t)return;const b=n(),N=v.sourceEvent.ctrlKey&&Qn()?10:1,S=-v.sourceEvent.deltaY*(v.sourceEvent.deltaMode===1?.05:v.sourceEvent.deltaMode?1:.002)*d,R=b[2]*Math.pow(2,S*N);t.scaleTo(R)};let x=[0,0];const y=v=>{(v.sourceEvent.type==="mousedown"||v.sourceEvent.type==="touchstart")&&(x=[v.sourceEvent.clientX??v.sourceEvent.touches[0].clientX,v.sourceEvent.clientY??v.sourceEvent.touches[0].clientY])},w=v=>{const b=n();if(v.sourceEvent.type!=="mousemove"&&v.sourceEvent.type!=="touchmove"||!t)return;const N=[v.sourceEvent.clientX??v.sourceEvent.touches[0].clientX,v.sourceEvent.clientY??v.sourceEvent.touches[0].clientY],S=[N[0]-x[0],N[1]-x[1]];x=N;const R=r()*Math.max(b[2],Math.log(b[2]))*(h?-1:1),O={x:b[0]-S[0]*R,y:b[1]-S[1]*R},M=[[0,0],[u,c]];t.setViewportConstrained({x:O.x,y:O.y,zoom:b[2]},M,s)},E=Du().on("start",y).on("zoom",f?w:null).on("zoom.wheel",p?g:null);o.call(E,{})}function a(){o.on("zoom",null)}return{update:i,destroy:a,pointer:Ve}}const So=e=>({x:e.x,y:e.y,zoom:e.k}),pi=({x:e,y:t,zoom:n})=>wo.translate(e,t).scale(n),Kt=(e,t)=>e.target.closest(`.${t}`),td=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Vv=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,hi=(e,t=0,n=Vv,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},nd=e=>{const t=e.ctrlKey&&Qn()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Bv({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:u,onPanZoomEnd:c}){return d=>{if(Kt(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&a){const y=Ve(d),w=nd(d),E=f*Math.pow(2,w);r.scaleTo(n,E,y,d);return}const p=d.deltaMode===1?20:1;let h=o===Mt.Vertical?0:d.deltaX*p,g=o===Mt.Horizontal?0:d.deltaY*p;!Qn()&&d.shiftKey&&o!==Mt.Vertical&&(h=d.deltaY*p,g=0),r.translateBy(n,-(h/f)*i,-(g/f)*i,{internal:!0});const x=So(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u?.(d,x),e.panScrollTimeout=setTimeout(()=>{c?.(d,x),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,s?.(d,x))}}function Wv({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",a=!t&&i&&!r.ctrlKey,s=Kt(r,e);if(r.ctrlKey&&i&&s&&r.preventDefault(),a||s)return null;r.preventDefault(),n.call(this,r,o)}}function Gv({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const o=So(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,o)}}function Yv({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{e.usedRightMouseButton=!!(n&&td(t,e.mouseButton??0)),i.sourceEvent?.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!i.sourceEvent?.internal&&o?.(i.sourceEvent,So(i.transform))}}function Xv({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return a=>{if(!a.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,i&&td(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const s=So(a.transform);e.prevViewport=s,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o?.(a.sourceEvent,s)},n?150:0)}}}function Uv({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:s,noPanClassName:u,lib:c,connectionInProgress:d}){return f=>{const p=e||t,h=n&&f.ctrlKey,g=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(Kt(f,`${c}-flow__node`)||Kt(f,`${c}-flow__edge`)))return!0;if(!r&&!p&&!o&&!i&&!n||a||d&&!g||Kt(f,s)&&g||Kt(f,u)&&(!g||o&&g&&!e)||!n&&f.ctrlKey&&g)return!1;if(!n&&f.type==="touchstart"&&f.touches?.length>1)return f.preventDefault(),!1;if(!p&&!o&&!h&&g||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||g)&&x}}function Zv({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:a,onPanZoomEnd:s,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=Du().scaleExtent([t,n]).translateExtent(r),p=Ie(e).call(f);E({x:o.x,y:o.y,zoom:cn(o.zoom,t,n)},[[0,0],[d.width,d.height]],r);const h=p.on("wheel.zoom"),g=p.on("dblclick.zoom");f.wheelDelta(nd);function x(k,F){return p?new Promise(B=>{f?.interpolate(F?.interpolate==="linear"?Vn:jr).transform(hi(p,F?.duration,F?.ease,()=>B(!0)),k)}):Promise.resolve(!1)}function y({noWheelClassName:k,noPanClassName:F,onPaneContextMenu:B,userSelectionActive:_,panOnScroll:j,panOnDrag:T,panOnScrollMode:H,panOnScrollSpeed:L,preventScrolling:I,zoomOnPinch:G,zoomOnScroll:U,zoomOnDoubleClick:P,zoomActivationKeyPressed:Y,lib:X,onTransformChange:$,connectionInProgress:D,paneClickDistance:K,selectionOnDrag:Z}){_&&!c.isZoomingOrPanning&&w();const ee=j&&!Y&&!_;f.clickDistance(Z?1/0:!We(K)||K<0?0:K);const ae=ee?Bv({zoomPanValues:c,noWheelClassName:k,d3Selection:p,d3Zoom:f,panOnScrollMode:H,panOnScrollSpeed:L,zoomOnPinch:G,onPanZoomStart:a,onPanZoom:i,onPanZoomEnd:s}):Wv({noWheelClassName:k,preventScrolling:I,d3ZoomHandler:h});if(p.on("wheel.zoom",ae,{passive:!1}),!_){const re=Gv({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:a});f.on("start",re);const oe=Yv({zoomPanValues:c,panOnDrag:T,onPaneContextMenu:!!B,onPanZoom:i,onTransformChange:$});f.on("zoom",oe);const he=Xv({zoomPanValues:c,panOnDrag:T,panOnScroll:j,onPaneContextMenu:B,onPanZoomEnd:s,onDraggingChange:u});f.on("end",he)}const le=Uv({zoomActivationKeyPressed:Y,panOnDrag:T,zoomOnScroll:U,panOnScroll:j,zoomOnDoubleClick:P,zoomOnPinch:G,userSelectionActive:_,noPanClassName:F,noWheelClassName:k,lib:X,connectionInProgress:D});f.filter(le),P?p.on("dblclick.zoom",g):p.on("dblclick.zoom",null)}function w(){f.on("zoom",null)}async function E(k,F,B){const _=pi(k),j=f?.constrain()(_,F,B);return j&&await x(j),new Promise(T=>T(j))}async function v(k,F){const B=pi(k);return await x(B,F),new Promise(_=>_(B))}function b(k){if(p){const F=pi(k),B=p.property("__zoom");(B.k!==k.zoom||B.x!==k.x||B.y!==k.y)&&f?.transform(p,F,null,{sync:!0})}}function N(){const k=p?Ru(p.node()):{x:0,y:0,k:1};return{x:k.x,y:k.y,zoom:k.k}}function S(k,F){return p?new Promise(B=>{f?.interpolate(F?.interpolate==="linear"?Vn:jr).scaleTo(hi(p,F?.duration,F?.ease,()=>B(!0)),k)}):Promise.resolve(!1)}function R(k,F){return p?new Promise(B=>{f?.interpolate(F?.interpolate==="linear"?Vn:jr).scaleBy(hi(p,F?.duration,F?.ease,()=>B(!0)),k)}):Promise.resolve(!1)}function O(k){f?.scaleExtent(k)}function M(k){f?.translateExtent(k)}function z(k){const F=!We(k)||k<0?0:k;f?.clickDistance(F)}return{update:y,destroy:w,setViewport:v,setViewportConstrained:E,getViewport:N,scaleTo:S,scaleBy:R,setScaleExtent:O,setTranslateExtent:M,syncViewport:b,setClickDistance:z}}var Ot;(function(e){e.Line="line",e.Handle="handle"})(Ot||(Ot={}));const Kv=["top-left","top-right","bottom-left","bottom-right"],qv=["top","right","bottom","left"];function Qv({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const a=e-t,s=n-r,u=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&o&&(u[0]=u[0]*-1),s&&i&&(u[1]=u[1]*-1),u}function Bs(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function ut(e,t){return Math.max(0,t-e)}function dt(e,t){return Math.max(0,e-t)}function Tr(e,t,n){return Math.max(0,t-e,e-n)}function Ws(e,t){return e?!t:t}function Jv(e,t,n,r,o,i,a,s){let{affectsX:u,affectsY:c}=t;const{isHorizontal:d,isVertical:f}=t,p=d&&f,{xSnapped:h,ySnapped:g}=n,{minWidth:x,maxWidth:y,minHeight:w,maxHeight:E}=r,{x:v,y:b,width:N,height:S,aspectRatio:R}=e;let O=Math.floor(d?h-e.pointerX:0),M=Math.floor(f?g-e.pointerY:0);const z=N+(u?-O:O),k=S+(c?-M:M),F=-i[0]*N,B=-i[1]*S;let _=Tr(z,x,y),j=Tr(k,w,E);if(a){let L=0,I=0;u&&O<0?L=ut(v+O+F,a[0][0]):!u&&O>0&&(L=dt(v+z+F,a[1][0])),c&&M<0?I=ut(b+M+B,a[0][1]):!c&&M>0&&(I=dt(b+k+B,a[1][1])),_=Math.max(_,L),j=Math.max(j,I)}if(s){let L=0,I=0;u&&O>0?L=dt(v+O,s[0][0]):!u&&O<0&&(L=ut(v+z,s[1][0])),c&&M>0?I=dt(b+M,s[0][1]):!c&&M<0&&(I=ut(b+k,s[1][1])),_=Math.max(_,L),j=Math.max(j,I)}if(o){if(d){const L=Tr(z/R,w,E)*R;if(_=Math.max(_,L),a){let I=0;!u&&!c||u&&!c&&p?I=dt(b+B+z/R,a[1][1])*R:I=ut(b+B+(u?O:-O)/R,a[0][1])*R,_=Math.max(_,I)}if(s){let I=0;!u&&!c||u&&!c&&p?I=ut(b+z/R,s[1][1])*R:I=dt(b+(u?O:-O)/R,s[0][1])*R,_=Math.max(_,I)}}if(f){const L=Tr(k*R,x,y)/R;if(j=Math.max(j,L),a){let I=0;!u&&!c||c&&!u&&p?I=dt(v+k*R+F,a[1][0])/R:I=ut(v+(c?M:-M)*R+F,a[0][0])/R,j=Math.max(j,I)}if(s){let I=0;!u&&!c||c&&!u&&p?I=ut(v+k*R,s[1][0])/R:I=dt(v+(c?M:-M)*R,s[0][0])/R,j=Math.max(j,I)}}}M=M+(M<0?j:-j),O=O+(O<0?_:-_),o&&(p?z>k*R?M=(Ws(u,c)?-O:O)/R:O=(Ws(u,c)?-M:M)*R:d?(M=O/R,c=u):(O=M*R,u=c));const T=u?v+O:v,H=c?b+M:b;return{width:N+(u?-O:O),height:S+(c?-M:M),x:i[0]*O*(u?-1:1)+T,y:i[1]*M*(c?-1:1)+H}}const rd={width:0,height:0,x:0,y:0},ex={...rd,pointerX:0,pointerY:0,aspectRatio:1};function tx(e){return[[0,0],[e.measured.width,e.measured.height]]}function nx(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,a=e.measured.height??0,s=n[0]*i,u=n[1]*a;return[[r-s,o-u],[r+i-s,o+a-u]]}function rx({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=Ie(e);let a={controlDirection:Bs("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function s({controlPosition:c,boundaries:d,keepAspectRatio:f,resizeDirection:p,onResizeStart:h,onResize:g,onResizeEnd:x,shouldResize:y}){let w={...rd},E={...ex};a={boundaries:d,resizeDirection:p,keepAspectRatio:f,controlDirection:Bs(c)};let v,b=null,N=[],S,R,O,M=!1;const z=pu().on("start",k=>{const{nodeLookup:F,transform:B,snapGrid:_,snapToGrid:j,nodeOrigin:T,paneDomNode:H}=n();if(v=F.get(t),!v)return;b=H?.getBoundingClientRect()??null;const{xSnapped:L,ySnapped:I}=Bn(k.sourceEvent,{transform:B,snapGrid:_,snapToGrid:j,containerBounds:b});w={width:v.measured.width??0,height:v.measured.height??0,x:v.position.x??0,y:v.position.y??0},E={...w,pointerX:L,pointerY:I,aspectRatio:w.width/w.height},S=void 0,v.parentId&&(v.extent==="parent"||v.expandParent)&&(S=F.get(v.parentId),R=S&&v.extent==="parent"?tx(S):void 0),N=[],O=void 0;for(const[G,U]of F)if(U.parentId===t&&(N.push({id:G,position:{...U.position},extent:U.extent}),U.extent==="parent"||U.expandParent)){const P=nx(U,v,U.origin??T);O?O=[[Math.min(P[0][0],O[0][0]),Math.min(P[0][1],O[0][1])],[Math.max(P[1][0],O[1][0]),Math.max(P[1][1],O[1][1])]]:O=P}h?.(k,{...w})}).on("drag",k=>{const{transform:F,snapGrid:B,snapToGrid:_,nodeOrigin:j}=n(),T=Bn(k.sourceEvent,{transform:F,snapGrid:B,snapToGrid:_,containerBounds:b}),H=[];if(!v)return;const{x:L,y:I,width:G,height:U}=w,P={},Y=v.origin??j,{width:X,height:$,x:D,y:K}=Jv(E,a.controlDirection,T,a.boundaries,a.keepAspectRatio,Y,R,O),Z=X!==G,ee=$!==U,ae=D!==L&&Z,le=K!==I&&ee;if(!ae&&!le&&!Z&&!ee)return;if((ae||le||Y[0]===1||Y[1]===1)&&(P.x=ae?D:w.x,P.y=le?K:w.y,w.x=P.x,w.y=P.y,N.length>0)){const ge=D-L,me=K-I;for(const _e of N)_e.position={x:_e.position.x-ge+Y[0]*(X-G),y:_e.position.y-me+Y[1]*($-U)},H.push(_e)}if((Z||ee)&&(P.width=Z&&(!a.resizeDirection||a.resizeDirection==="horizontal")?X:w.width,P.height=ee&&(!a.resizeDirection||a.resizeDirection==="vertical")?$:w.height,w.width=P.width,w.height=P.height),S&&v.expandParent){const ge=Y[0]*(P.width??0);P.x&&P.x<ge&&(w.x=ge,E.x=E.x-(P.x-ge));const me=Y[1]*(P.height??0);P.y&&P.y<me&&(w.y=me,E.y=E.y-(P.y-me))}const re=Qv({width:w.width,prevWidth:G,height:w.height,prevHeight:U,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),oe={...w,direction:re};y?.(k,oe)!==!1&&(M=!0,g?.(k,oe),r(P,H))}).on("end",k=>{M&&(x?.(k,{...w}),o?.({...w}),M=!1)});i.call(z)}function u(){i.on(".drag",null)}return{update:s,destroy:u}}var mi={exports:{}},gi={},yi={exports:{}},vi={};var Gs;function ox(){if(Gs)return vi;Gs=1;var e=Ki();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function s(f,p){var h=p(),g=r({inst:{value:h,getSnapshot:p}}),x=g[0].inst,y=g[1];return i(function(){x.value=h,x.getSnapshot=p,u(x)&&y({inst:x})},[f,h,p]),o(function(){return u(x)&&y({inst:x}),f(function(){u(x)&&y({inst:x})})},[f]),a(h),h}function u(f){var p=f.getSnapshot;f=f.value;try{var h=p();return!n(f,h)}catch{return!0}}function c(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return vi.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,vi}var Ys;function ix(){return Ys||(Ys=1,yi.exports=ox()),yi.exports}var Xs;function ax(){if(Xs)return gi;Xs=1;var e=Ki(),t=ix();function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,u=e.useDebugValue;return gi.useSyncExternalStoreWithSelector=function(c,d,f,p,h){var g=i(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=s(function(){function w(S){if(!E){if(E=!0,v=S,S=p(S),h!==void 0&&x.hasValue){var R=x.value;if(h(R,S))return b=R}return b=S}if(R=b,r(v,S))return R;var O=p(S);return h!==void 0&&h(R,O)?(v=S,R):(v=S,b=O)}var E=!1,v,b,N=f===void 0?null:f;return[function(){return w(d())},N===null?void 0:function(){return w(N())}]},[d,f,p,h]);var y=o(c,g[0],g[1]);return a(function(){x.hasValue=!0,x.value=y},[y]),u(y),y},gi}var Us;function sx(){return Us||(Us=1,mi.exports=ax()),mi.exports}var cx=sx();const lx=mp(cx),ux={},Zs=e=>{let t;const n=new Set,r=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const h=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(g=>g(t,h))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(ux?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,o,u);return u},dx=e=>e?Zs(e):Zs,{useDebugValue:fx}=ce,{useSyncExternalStoreWithSelector:px}=lx,hx=e=>e;function od(e,t=hx,n){const r=px(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return fx(r),r}const Ks=(e,t)=>{const n=dx(e),r=(o,i=t)=>od(n,o,i);return Object.assign(r,n),r},mx=(e,t)=>e?Ks(e,t):Ks;function Ce(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Eo=l.createContext(null),gx=Eo.Provider,id=Je.error001();function de(e,t){const n=l.useContext(Eo);if(n===null)throw new Error(id);return od(n,e,t)}function be(){const e=l.useContext(Eo);if(e===null)throw new Error(id);return l.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const qs={display:"none"},yx={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ad="react-flow__node-desc",sd="react-flow__edge-desc",vx="react-flow__aria-live",xx=e=>e.ariaLiveMessage,wx=e=>e.ariaLabelConfig;function bx({rfId:e}){const t=de(xx);return m.jsx("div",{id:`${vx}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:yx,children:t})}function Cx({rfId:e,disableKeyboardA11y:t}){const n=de(wx);return m.jsxs(m.Fragment,{children:[m.jsx("div",{id:`${ad}-${e}`,style:qs,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),m.jsx("div",{id:`${sd}-${e}`,style:qs,children:n["edge.a11yDescription.default"]}),!t&&m.jsx(bx,{rfId:e})]})}const _o=l.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const a=`${e}`.split("-");return m.jsx("div",{className:Se(["react-flow__panel",n,...a]),style:r,ref:i,...o,children:t})});_o.displayName="Panel";function Sx({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:m.jsx(_o,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Ex=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Pr=e=>e.id;function _x(e,t){return Ce(e.selectedNodes.map(Pr),t.selectedNodes.map(Pr))&&Ce(e.selectedEdges.map(Pr),t.selectedEdges.map(Pr))}function Nx({onSelectionChange:e}){const t=be(),{selectedNodes:n,selectedEdges:r}=de(Ex,_x);return l.useEffect(()=>{const o={nodes:n,edges:r};e?.(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const Rx=e=>!!e.onSelectionChangeHandlers;function Dx({onSelectionChange:e}){const t=de(Rx);return e||t?m.jsx(Nx,{onSelectionChange:e}):null}const cd=[0,0],Mx={x:0,y:0,zoom:1},Tx=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Qs=[...Tx,"rfId"],Px=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Js={translateExtent:Zn,nodeOrigin:cd,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Ax(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:u}=de(Px,Ce),c=be();l.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{d.current=Js,s()}),[]);const d=l.useRef(Js);return l.useEffect(()=>{for(const f of Qs){const p=e[f],h=d.current[f];p!==h&&(typeof e[f]>"u"||(f==="nodes"?t(p):f==="edges"?n(p):f==="minZoom"?r(p):f==="maxZoom"?o(p):f==="translateExtent"?i(p):f==="nodeExtent"?a(p):f==="ariaLabelConfig"?c.setState({ariaLabelConfig:pv(p)}):f==="fitView"?c.setState({fitViewQueued:p}):f==="fitViewOptions"?c.setState({fitViewOptions:p}):c.setState({[f]:p})))}d.current=e},Qs.map(f=>e[f])),null}function ec(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Ix(e){const[t,n]=l.useState(e==="system"?null:e);return l.useEffect(()=>{if(e!=="system"){n(e);return}const r=ec(),o=()=>n(r?.matches?"dark":"light");return o(),r?.addEventListener("change",o),()=>{r?.removeEventListener("change",o)}},[e]),t!==null?t:ec()?.matches?"dark":"light"}const tc=typeof document<"u"?document:null;function Jn(e=null,t={target:tc,actInsideInputWithModifier:!0}){const[n,r]=l.useState(!1),o=l.useRef(!1),i=l.useRef(new Set([])),[a,s]=l.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((f,p)=>f.concat(...p),[]);return[c,d]}return[[],[]]},[e]);return l.useEffect(()=>{const u=t?.target??tc,c=t?.actInsideInputWithModifier??!0;if(e!==null){const d=h=>{if(o.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!o.current||o.current&&!c)&&zu(h))return!1;const x=rc(h.code,s);if(i.current.add(h[x]),nc(a,i.current,!1)){const y=h.composedPath?.()?.[0]||h.target,w=y?.nodeName==="BUTTON"||y?.nodeName==="A";t.preventDefault!==!1&&(o.current||!w)&&h.preventDefault(),r(!0)}},f=h=>{const g=rc(h.code,s);nc(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(h[g]),h.key==="Meta"&&i.current.clear(),o.current=!1},p=()=>{i.current.clear(),r(!1)};return u?.addEventListener("keydown",d),u?.addEventListener("keyup",f),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{u?.removeEventListener("keydown",d),u?.removeEventListener("keyup",f),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,r]),n}function nc(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function rc(e,t){return t.includes(e)?"code":"key"}const kx=()=>{const e=be();return l.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:a,panZoom:s}=e.getState(),u=Ea(t,r,o,i,a,n?.padding??.1);return s?(await s.setViewport(u,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:a}=e.getState();if(!a)return t;const{x:s,y:u}=a.getBoundingClientRect(),c={x:t.x-s,y:t.y-u},d=n.snapGrid??o,f=n.snapToGrid??i;return lr(c,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),a=Jr(t,n);return{x:a.x+o,y:a.y+i}}}),[])};function ld(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const a=r.get(i.id);a?a.push(i):r.set(i.id,[i])}for(const i of t){const a=r.get(i.id);if(!a){n.push(i);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const s={...i};for(const u of a)Ox(u,s);n.push(s)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function Ox(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function ud(e,t){return ld(e,t)}function dd(e,t){return ld(e,t)}function Et(e,t){return{id:e,type:"select",selected:t}}function qt(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const a=t.has(o);!(i.selected===void 0&&!a)&&i.selected!==a&&(n&&(i.selected=a),r.push(Et(i.id,a)))}return r}function oc({items:e=[],lookup:t}){const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,i]of e.entries()){const a=t.get(i.id),s=a?.internals?.userNode??a;s!==void 0&&s!==i&&n.push({id:i.id,item:i,type:"replace"}),s===void 0&&n.push({item:i,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function ic(e){return{id:e.id,type:"remove"}}const ac=e=>rv(e),$x=e=>Iu(e);function fd(e){return l.forwardRef(e)}const jx=typeof window<"u"?l.useLayoutEffect:l.useEffect;function sc(e){const[t,n]=l.useState(BigInt(0)),[r]=l.useState(()=>Lx(()=>n(o=>o+BigInt(1))));return jx(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function Lx(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const pd=l.createContext(null);function Fx({children:e}){const t=be(),n=l.useCallback(s=>{const{nodes:u=[],setNodes:c,hasDefaultNodes:d,onNodesChange:f,nodeLookup:p,fitViewQueued:h,onNodesChangeMiddlewareMap:g}=t.getState();let x=u;for(const w of s)x=typeof w=="function"?w(x):w;let y=oc({items:x,lookup:p});for(const w of g.values())y=w(y);d&&c(x),y.length>0?f?.(y):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:E,setNodes:v}=t.getState();w&&v(E)})},[]),r=sc(n),o=l.useCallback(s=>{const{edges:u=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:p}=t.getState();let h=u;for(const g of s)h=typeof g=="function"?g(h):g;d?c(h):f&&f(oc({items:h,lookup:p}))},[]),i=sc(o),a=l.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return m.jsx(pd.Provider,{value:a,children:e})}function Hx(){const e=l.useContext(pd);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const zx=e=>!!e.panZoom;function No(){const e=kx(),t=be(),n=Hx(),r=de(zx),o=l.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),a=f=>{n.nodeQueue.push(f)},s=f=>{n.edgeQueue.push(f)},u=f=>{const{nodeLookup:p,nodeOrigin:h}=t.getState(),g=ac(f)?f:p.get(f.id),x=g.parentId?Fu(g.position,g.measured,g.parentId,p,h):g.position,y={...g,position:x,width:g.measured?.width??g.width,height:g.measured?.height??g.height};return ln(y)},c=(f,p,h={replace:!1})=>{a(g=>g.map(x=>{if(x.id===f){const y=typeof p=="function"?p(x):p;return h.replace&&ac(y)?y:{...x,...y}}return x}))},d=(f,p,h={replace:!1})=>{s(g=>g.map(x=>{if(x.id===f){const y=typeof p=="function"?p(x):p;return h.replace&&$x(y)?y:{...x,...y}}return x}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>i(f)?.internals.userNode,getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(p=>({...p}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:a,setEdges:s,addNodes:f=>{const p=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...p])},addEdges:f=>{const p=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...p])},toObject:()=>{const{nodes:f=[],edges:p=[],transform:h}=t.getState(),[g,x,y]=h;return{nodes:f.map(w=>({...w})),edges:p.map(w=>({...w})),viewport:{x:g,y:x,zoom:y}}},deleteElements:async({nodes:f=[],edges:p=[]})=>{const{nodes:h,edges:g,onNodesDelete:x,onEdgesDelete:y,triggerNodeChanges:w,triggerEdgeChanges:E,onDelete:v,onBeforeDelete:b}=t.getState(),{nodes:N,edges:S}=await cv({nodesToRemove:f,edgesToRemove:p,nodes:h,edges:g,onBeforeDelete:b}),R=S.length>0,O=N.length>0;if(R){const M=S.map(ic);y?.(S),E(M)}if(O){const M=N.map(ic);x?.(N),w(M)}return(O||R)&&v?.({nodes:N,edges:S}),{deletedNodes:N,deletedEdges:S}},getIntersectingNodes:(f,p=!0,h)=>{const g=As(f),x=g?f:u(f),y=h!==void 0;return x?(h||t.getState().nodes).filter(w=>{const E=t.getState().nodeLookup.get(w.id);if(E&&!g&&(w.id===f.id||!E.internals.positionAbsolute))return!1;const v=ln(y?w:E),b=qn(v,x);return p&&b>0||b>=v.width*v.height||b>=x.width*x.height}):[]},isNodeIntersecting:(f,p,h=!0)=>{const x=As(f)?f:u(f);if(!x)return!1;const y=qn(x,p);return h&&y>0||y>=p.width*p.height||y>=x.width*x.height},updateNode:c,updateNodeData:(f,p,h={replace:!1})=>{c(f,g=>{const x=typeof p=="function"?p(g):p;return h.replace?{...g,data:x}:{...g,data:{...g.data,...x}}},h)},updateEdge:d,updateEdgeData:(f,p,h={replace:!1})=>{d(f,g=>{const x=typeof p=="function"?p(g):p;return h.replace?{...g,data:x}:{...g,data:{...g.data,...x}}},h)},getNodesBounds:f=>{const{nodeLookup:p,nodeOrigin:h}=t.getState();return ov(f,{nodeLookup:p,nodeOrigin:h})},getHandleConnections:({type:f,id:p,nodeId:h})=>Array.from(t.getState().connectionLookup.get(`${h}-${f}${p?`-${p}`:""}`)?.values()??[]),getNodeConnections:({type:f,handleId:p,nodeId:h})=>Array.from(t.getState().connectionLookup.get(`${h}${f?p?`-${f}-${p}`:`-${f}`:""}`)?.values()??[]),fitView:async f=>{const p=t.getState().fitViewResolver??fv();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:p}),n.nodeQueue.push(h=>[...h]),p.promise}}},[]);return l.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const cc=e=>e.selected,Vx=typeof window<"u"?window:void 0;function Bx({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=be(),{deleteElements:r}=No(),o=Jn(e,{actInsideInputWithModifier:!1}),i=Jn(t,{target:Vx});l.useEffect(()=>{if(o){const{edges:a,nodes:s}=n.getState();r({nodes:s.filter(cc),edges:a.filter(cc)}),n.setState({nodesSelectionActive:!1})}},[o]),l.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function Wx(e){const t=be();l.useEffect(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const r=_a(e.current);(r.height===0||r.width===0)&&t.getState().onError?.("004",Je.error004()),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Ro={position:"absolute",width:"100%",height:"100%",top:0,left:0},Gx=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Yx({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=Mt.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:u,translateExtent:c,minZoom:d,maxZoom:f,zoomActivationKeyCode:p,preventScrolling:h=!0,children:g,noWheelClassName:x,noPanClassName:y,onViewportChange:w,isControlledViewport:E,paneClickDistance:v,selectionOnDrag:b}){const N=be(),S=l.useRef(null),{userSelectionActive:R,lib:O,connectionInProgress:M}=de(Gx,Ce),z=Jn(p),k=l.useRef();Wx(S);const F=l.useCallback(B=>{w?.({x:B[0],y:B[1],zoom:B[2]}),E||N.setState({transform:B})},[w,E]);return l.useEffect(()=>{if(S.current){k.current=Zv({domNode:S.current,minZoom:d,maxZoom:f,translateExtent:c,viewport:u,onDraggingChange:T=>N.setState({paneDragging:T}),onPanZoomStart:(T,H)=>{const{onViewportChangeStart:L,onMoveStart:I}=N.getState();I?.(T,H),L?.(H)},onPanZoom:(T,H)=>{const{onViewportChange:L,onMove:I}=N.getState();I?.(T,H),L?.(H)},onPanZoomEnd:(T,H)=>{const{onViewportChangeEnd:L,onMoveEnd:I}=N.getState();I?.(T,H),L?.(H)}});const{x:B,y:_,zoom:j}=k.current.getViewport();return N.setState({panZoom:k.current,transform:[B,_,j],domNode:S.current.closest(".react-flow")}),()=>{k.current?.destroy()}}},[]),l.useEffect(()=>{k.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:z,preventScrolling:h,noPanClassName:y,userSelectionActive:R,noWheelClassName:x,lib:O,onTransformChange:F,connectionInProgress:M,selectionOnDrag:b,paneClickDistance:v})},[e,t,n,r,o,i,a,s,z,h,y,R,x,O,F,M,b,v]),m.jsx("div",{className:"react-flow__renderer",ref:S,style:Ro,children:g})}const Xx=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Ux(){const{userSelectionActive:e,userSelectionRect:t}=de(Xx,Ce);return e&&t?m.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const xi=(e,t)=>n=>{n.target===t.current&&e?.(n)},Zx=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Kx({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Kn.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:a,onSelectionEnd:s,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:p,onPaneMouseLeave:h,children:g}){const x=be(),{userSelectionActive:y,elementsSelectable:w,dragging:E,connectionInProgress:v}=de(Zx,Ce),b=w&&(e||y),N=l.useRef(null),S=l.useRef(),R=l.useRef(new Set),O=l.useRef(new Set),M=l.useRef(!1),z=L=>{if(M.current||v){M.current=!1;return}u?.(L),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},k=L=>{if(Array.isArray(r)&&r?.includes(2)){L.preventDefault();return}c?.(L)},F=d?L=>d(L):void 0,B=L=>{M.current&&(L.stopPropagation(),M.current=!1)},_=L=>{const{domNode:I}=x.getState();if(S.current=I?.getBoundingClientRect(),!S.current)return;const G=L.target===N.current;if(!G&&!!L.target.closest(".nokey")||!e||!(i&&G||t)||L.button!==0||!L.isPrimary)return;L.target?.setPointerCapture?.(L.pointerId),M.current=!1;const{x:Y,y:X}=Ge(L.nativeEvent,S.current);x.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:X,x:Y,y:X}}),G||(L.stopPropagation(),L.preventDefault())},j=L=>{const{userSelectionRect:I,transform:G,nodeLookup:U,edgeLookup:P,connectionLookup:Y,triggerNodeChanges:X,triggerEdgeChanges:$,defaultEdgeOptions:D,resetSelectedElements:K}=x.getState();if(!S.current||!I)return;const{x:Z,y:ee}=Ge(L.nativeEvent,S.current),{startX:ae,startY:le}=I;if(!M.current){const me=t?0:o;if(Math.hypot(Z-ae,ee-le)<=me)return;K(),a?.(L)}M.current=!0;const re={startX:ae,startY:le,x:Z<ae?Z:ae,y:ee<le?ee:le,width:Math.abs(Z-ae),height:Math.abs(ee-le)},oe=R.current,he=O.current;R.current=new Set(Sa(U,re,G,n===Kn.Partial,!0).map(me=>me.id)),O.current=new Set;const ge=D?.selectable??!0;for(const me of R.current){const _e=Y.get(me);if(_e)for(const{edgeId:fe}of _e.values()){const Ae=P.get(fe);Ae&&(Ae.selectable??ge)&&O.current.add(fe)}}if(!Is(oe,R.current)){const me=qt(U,R.current,!0);X(me)}if(!Is(he,O.current)){const me=qt(P,O.current);$(me)}x.setState({userSelectionRect:re,userSelectionActive:!0,nodesSelectionActive:!1})},T=L=>{L.button===0&&(L.target?.releasePointerCapture?.(L.pointerId),!y&&L.target===N.current&&x.getState().userSelectionRect&&z?.(L),x.setState({userSelectionActive:!1,userSelectionRect:null}),M.current&&(s?.(L),x.setState({nodesSelectionActive:R.current.size>0})))},H=r===!0||Array.isArray(r)&&r.includes(0);return m.jsxs("div",{className:Se(["react-flow__pane",{draggable:H,dragging:E,selection:e}]),onClick:b?void 0:xi(z,N),onContextMenu:xi(k,N),onWheel:xi(F,N),onPointerEnter:b?void 0:f,onPointerMove:b?j:p,onPointerUp:b?T:void 0,onPointerDownCapture:b?_:void 0,onClickCapture:b?B:void 0,onPointerLeave:h,ref:N,style:Ro,children:[g,m.jsx(Ux,{})]})}function Gi({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:a,nodeLookup:s,onError:u}=t.getState(),c=s.get(e);if(!c){u?.("012",Je.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&a)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):o([e])}function hd({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:a}){const s=be(),[u,c]=l.useState(!1),d=l.useRef();return l.useEffect(()=>{d.current=Ov({getStoreItems:()=>s.getState(),onNodeMouseDown:f=>{Gi({id:f,store:s,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),l.useEffect(()=>{if(t)d.current?.destroy();else if(e.current)return d.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:a}),()=>{d.current?.destroy()}},[n,r,t,i,e,o]),u}const qx=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function md(){const e=be();return l.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:a,onError:s,updateNodePositions:u,nodeLookup:c,nodeOrigin:d}=e.getState(),f=new Map,p=qx(a),h=o?i[0]:5,g=o?i[1]:5,x=n.direction.x*h*n.factor,y=n.direction.y*g*n.factor;for(const[,w]of c){if(!p(w))continue;let E={x:w.internals.positionAbsolute.x+x,y:w.internals.positionAbsolute.y+y};o&&(E=cr(E,i));const{position:v,positionAbsolute:b}=ku({nodeId:w.id,nextPosition:E,nodeLookup:c,nodeExtent:r,nodeOrigin:d,onError:s});w.position=v,w.internals.positionAbsolute=b,f.set(w.id,w)}u(f)},[])}const Pa=l.createContext(null),Qx=Pa.Provider;Pa.Consumer;const gd=()=>l.useContext(Pa),Jx=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),ew=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:a}=r,{fromHandle:s,toHandle:u,isValid:c}=a,d=u?.nodeId===e&&u?.id===t&&u?.type===n;return{connectingFrom:s?.nodeId===e&&s?.id===t&&s?.type===n,connectingTo:d,clickConnecting:o?.nodeId===e&&o?.id===t&&o?.type===n,isPossibleEndHandle:i===sn.Strict?s?.type!==n:e!==s?.nodeId||t!==s?.id,connectionInProcess:!!s,clickConnectionInProcess:!!o,valid:d&&c}};function tw({type:e="source",position:t=ne.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:a,onConnect:s,children:u,className:c,onMouseDown:d,onTouchStart:f,...p},h){const g=a||null,x=e==="target",y=be(),w=gd(),{connectOnClick:E,noPanClassName:v,rfId:b}=de(Jx,Ce),{connectingFrom:N,connectingTo:S,clickConnecting:R,isPossibleEndHandle:O,connectionInProcess:M,clickConnectionInProcess:z,valid:k}=de(ew(w,g,e),Ce);w||y.getState().onError?.("010",Je.error010());const F=j=>{const{defaultEdgeOptions:T,onConnect:H,hasDefaultEdges:L}=y.getState(),I={...T,...j};if(L){const{edges:G,setEdges:U}=y.getState();U(xv(I,G))}H?.(I),s?.(I)},B=j=>{if(!w)return;const T=Vu(j.nativeEvent);if(o&&(T&&j.button===0||!T)){const H=y.getState();Wi.onPointerDown(j.nativeEvent,{handleDomNode:j.currentTarget,autoPanOnConnect:H.autoPanOnConnect,connectionMode:H.connectionMode,connectionRadius:H.connectionRadius,domNode:H.domNode,nodeLookup:H.nodeLookup,lib:H.lib,isTarget:x,handleId:g,nodeId:w,flowId:H.rfId,panBy:H.panBy,cancelConnection:H.cancelConnection,onConnectStart:H.onConnectStart,onConnectEnd:H.onConnectEnd,updateConnection:H.updateConnection,onConnect:F,isValidConnection:n||H.isValidConnection,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,autoPanSpeed:H.autoPanSpeed,dragThreshold:H.connectionDragThreshold})}T?d?.(j):f?.(j)},_=j=>{const{onClickConnectStart:T,onClickConnectEnd:H,connectionClickStartHandle:L,connectionMode:I,isValidConnection:G,lib:U,rfId:P,nodeLookup:Y,connection:X}=y.getState();if(!w||!L&&!o)return;if(!L){T?.(j.nativeEvent,{nodeId:w,handleId:g,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:w,type:e,id:g}});return}const $=Hu(j.target),D=n||G,{connection:K,isValid:Z}=Wi.isValid(j.nativeEvent,{handle:{nodeId:w,id:g,type:e},connectionMode:I,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:D,flowId:P,doc:$,lib:U,nodeLookup:Y});Z&&K&&F(K);const ee=structuredClone(X);delete ee.inProgress,ee.toPosition=ee.toHandle?ee.toHandle.position:null,H?.(j,ee),y.setState({connectionClickStartHandle:null})};return m.jsx("div",{"data-handleid":g,"data-nodeid":w,"data-handlepos":t,"data-id":`${b}-${w}-${g}-${e}`,className:Se(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",v,c,{source:!x,target:x,connectable:r,connectablestart:o,connectableend:i,clickconnecting:R,connectingfrom:N,connectingto:S,valid:k,connectionindicator:r&&(!M||O)&&(M||z?i:o)}]),onMouseDown:B,onTouchStart:B,onClick:E?_:void 0,ref:h,...p,children:u})}const eo=l.memo(fd(tw));function nw({data:e,isConnectable:t,sourcePosition:n=ne.Bottom}){return m.jsxs(m.Fragment,{children:[e?.label,m.jsx(eo,{type:"source",position:n,isConnectable:t})]})}function rw({data:e,isConnectable:t,targetPosition:n=ne.Top,sourcePosition:r=ne.Bottom}){return m.jsxs(m.Fragment,{children:[m.jsx(eo,{type:"target",position:n,isConnectable:t}),e?.label,m.jsx(eo,{type:"source",position:r,isConnectable:t})]})}function ow(){return null}function iw({data:e,isConnectable:t,targetPosition:n=ne.Top}){return m.jsxs(m.Fragment,{children:[m.jsx(eo,{type:"target",position:n,isConnectable:t}),e?.label]})}const to={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},lc={input:nw,default:rw,output:iw,group:ow};function aw(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const sw=e=>{const{width:t,height:n,x:r,y:o}=sr(e.nodeLookup,{filter:i=>!!i.selected});return{width:We(t)?t:null,height:We(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function cw({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=be(),{width:o,height:i,transformString:a,userSelectionActive:s}=de(sw,Ce),u=md(),c=l.useRef(null);if(l.useEffect(()=>{n||c.current?.focus({preventScroll:!0})},[n]),hd({nodeRef:c}),s||!o||!i)return null;const d=e?p=>{const h=r.getState().nodes.filter(g=>g.selected);e(p,h)}:void 0,f=p=>{Object.prototype.hasOwnProperty.call(to,p.key)&&(p.preventDefault(),u({direction:to[p.key],factor:p.shiftKey?4:1}))};return m.jsx("div",{className:Se(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:m.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:o,height:i}})})}const uc=typeof window<"u"?window:void 0,lw=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function yd({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:u,selectionKeyCode:c,selectionOnDrag:d,selectionMode:f,onSelectionStart:p,onSelectionEnd:h,multiSelectionKeyCode:g,panActivationKeyCode:x,zoomActivationKeyCode:y,elementsSelectable:w,zoomOnScroll:E,zoomOnPinch:v,panOnScroll:b,panOnScrollSpeed:N,panOnScrollMode:S,zoomOnDoubleClick:R,panOnDrag:O,defaultViewport:M,translateExtent:z,minZoom:k,maxZoom:F,preventScrolling:B,onSelectionContextMenu:_,noWheelClassName:j,noPanClassName:T,disableKeyboardA11y:H,onViewportChange:L,isControlledViewport:I}){const{nodesSelectionActive:G,userSelectionActive:U}=de(lw,Ce),P=Jn(c,{target:uc}),Y=Jn(x,{target:uc}),X=Y||O,$=Y||b,D=d&&X!==!0,K=P||U||D;return Bx({deleteKeyCode:u,multiSelectionKeyCode:g}),m.jsx(Yx,{onPaneContextMenu:i,elementsSelectable:w,zoomOnScroll:E,zoomOnPinch:v,panOnScroll:$,panOnScrollSpeed:N,panOnScrollMode:S,zoomOnDoubleClick:R,panOnDrag:!P&&X,defaultViewport:M,translateExtent:z,minZoom:k,maxZoom:F,zoomActivationKeyCode:y,preventScrolling:B,noWheelClassName:j,noPanClassName:T,onViewportChange:L,isControlledViewport:I,paneClickDistance:s,selectionOnDrag:D,children:m.jsxs(Kx,{onSelectionStart:p,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:X,isSelecting:!!K,selectionMode:f,selectionKeyPressed:P,paneClickDistance:s,selectionOnDrag:D,children:[e,G&&m.jsx(cw,{onSelectionContextMenu:_,noPanClassName:T,disableKeyboardA11y:H})]})})}yd.displayName="FlowRenderer";const uw=l.memo(yd),dw=e=>t=>e?Sa(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function fw(e){return de(l.useCallback(dw(e),[e]),Ce)}const pw=e=>e.updateNodeInternals;function hw(){const e=de(pw),[t]=l.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return l.useEffect(()=>()=>{t?.disconnect()},[t]),t}function mw({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=be(),i=l.useRef(null),a=l.useRef(null),s=l.useRef(e.sourcePosition),u=l.useRef(e.targetPosition),c=l.useRef(t),d=n&&!!e.internals.handleBounds;return l.useEffect(()=>{i.current&&!e.hidden&&(!d||a.current!==i.current)&&(a.current&&r?.unobserve(a.current),r?.observe(i.current),a.current=i.current)},[d,e.hidden]),l.useEffect(()=>()=>{a.current&&(r?.unobserve(a.current),a.current=null)},[]),l.useEffect(()=>{if(i.current){const f=c.current!==t,p=s.current!==e.sourcePosition,h=u.current!==e.targetPosition;(f||p||h)&&(c.current=t,s.current=e.sourcePosition,u.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function gw({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:a,nodesDraggable:s,elementsSelectable:u,nodesConnectable:c,nodesFocusable:d,resizeObserver:f,noDragClassName:p,noPanClassName:h,disableKeyboardA11y:g,rfId:x,nodeTypes:y,nodeClickDistance:w,onError:E}){const{node:v,internals:b,isParent:N}=de(Z=>{const ee=Z.nodeLookup.get(e),ae=Z.parentLookup.has(e);return{node:ee,internals:ee.internals,isParent:ae}},Ce);let S=v.type||"default",R=y?.[S]||lc[S];R===void 0&&(E?.("003",Je.error003(S)),S="default",R=y?.default||lc.default);const O=!!(v.draggable||s&&typeof v.draggable>"u"),M=!!(v.selectable||u&&typeof v.selectable>"u"),z=!!(v.connectable||c&&typeof v.connectable>"u"),k=!!(v.focusable||d&&typeof v.focusable>"u"),F=be(),B=Lu(v),_=mw({node:v,nodeType:S,hasDimensions:B,resizeObserver:f}),j=hd({nodeRef:_,disabled:v.hidden||!O,noDragClassName:p,handleSelector:v.dragHandle,nodeId:e,isSelectable:M,nodeClickDistance:w}),T=md();if(v.hidden)return null;const H=st(v),L=aw(v),I=M||O||t||n||r||o,G=n?Z=>n(Z,{...b.userNode}):void 0,U=r?Z=>r(Z,{...b.userNode}):void 0,P=o?Z=>o(Z,{...b.userNode}):void 0,Y=i?Z=>i(Z,{...b.userNode}):void 0,X=a?Z=>a(Z,{...b.userNode}):void 0,$=Z=>{const{selectNodesOnDrag:ee,nodeDragThreshold:ae}=F.getState();M&&(!ee||!O||ae>0)&&Gi({id:e,store:F,nodeRef:_}),t&&t(Z,{...b.userNode})},D=Z=>{if(!(zu(Z.nativeEvent)||g)){if(Mu.includes(Z.key)&&M){const ee=Z.key==="Escape";Gi({id:e,store:F,unselect:ee,nodeRef:_})}else if(O&&v.selected&&Object.prototype.hasOwnProperty.call(to,Z.key)){Z.preventDefault();const{ariaLabelConfig:ee}=F.getState();F.setState({ariaLiveMessage:ee["node.a11yDescription.ariaLiveMessage"]({direction:Z.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),T({direction:to[Z.key],factor:Z.shiftKey?4:1})}}},K=()=>{if(g||!_.current?.matches(":focus-visible"))return;const{transform:Z,width:ee,height:ae,autoPanOnNodeFocus:le,setCenter:re}=F.getState();if(!le)return;Sa(new Map([[e,v]]),{x:0,y:0,width:ee,height:ae},Z,!0).length>0||re(v.position.x+H.width/2,v.position.y+H.height/2,{zoom:Z[2]})};return m.jsx("div",{className:Se(["react-flow__node",`react-flow__node-${S}`,{[h]:O},v.className,{selected:v.selected,selectable:M,parent:N,draggable:O,dragging:j}]),ref:_,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:I?"all":"none",visibility:B?"visible":"hidden",...v.style,...L},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:G,onMouseMove:U,onMouseLeave:P,onContextMenu:Y,onClick:$,onDoubleClick:X,onKeyDown:k?D:void 0,tabIndex:k?0:void 0,onFocus:k?K:void 0,role:v.ariaRole??(k?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${ad}-${x}`,"aria-label":v.ariaLabel,...v.domAttributes,children:m.jsx(Qx,{value:e,children:m.jsx(R,{id:e,data:v.data,type:S,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:v.selected??!1,selectable:M,draggable:O,deletable:v.deletable??!0,isConnectable:z,sourcePosition:v.sourcePosition,targetPosition:v.targetPosition,dragging:j,dragHandle:v.dragHandle,zIndex:b.z,parentId:v.parentId,...H})})})}var yw=l.memo(gw);const vw=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function vd(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=de(vw,Ce),a=fw(e.onlyRenderVisibleElements),s=hw();return m.jsx("div",{className:"react-flow__nodes",style:Ro,children:a.map(u=>m.jsx(yw,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},u))})}vd.displayName="NodeRenderer";const xw=l.memo(vd);function ww(e){return de(l.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),a=n.nodeLookup.get(o.target);i&&a&&gv({sourceNode:i,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),Ce)}const bw=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return m.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Cw=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return m.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},dc={[qr.Arrow]:bw,[qr.ArrowClosed]:Cw};function Sw(e){const t=be();return l.useMemo(()=>Object.prototype.hasOwnProperty.call(dc,e)?dc[e]:(t.getState().onError?.("009",Je.error009(e)),null),[e])}const Ew=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const u=Sw(t);return u?m.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0",children:m.jsx(u,{color:n,strokeWidth:a})}):null},xd=({defaultColor:e,rfId:t})=>{const n=de(i=>i.edges),r=de(i=>i.defaultEdgeOptions),o=l.useMemo(()=>Ev(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return o.length?m.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:m.jsx("defs",{children:o.map(i=>m.jsx(Ew,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};xd.displayName="MarkerDefinitions";var _w=l.memo(xd);function wd({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:u,className:c,...d}){const[f,p]=l.useState({x:1,y:0,width:0,height:0}),h=Se(["react-flow__edge-textwrapper",c]),g=l.useRef(null);return l.useEffect(()=>{if(g.current){const x=g.current.getBBox();p({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),n?m.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...d,children:[o&&m.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),m.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:g,style:r,children:n}),u]}):null}wd.displayName="EdgeText";const Nw=l.memo(wd);function Do({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:u,interactionWidth:c=20,...d}){return m.jsxs(m.Fragment,{children:[m.jsx("path",{...d,d:e,fill:"none",className:Se(["react-flow__edge-path",d.className])}),c?m.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&We(t)&&We(n)?m.jsx(Nw,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:u}):null]})}function fc({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===ne.Left||e===ne.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function bd({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:r,targetY:o,targetPosition:i=ne.Top}){const[a,s]=fc({pos:n,x1:e,y1:t,x2:r,y2:o}),[u,c]=fc({pos:i,x1:r,y1:o,x2:e,y2:t}),[d,f,p,h]=Bu({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:s,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${s} ${u},${c} ${r},${o}`,d,f,p,h]}function Cd(e){return l.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a,targetPosition:s,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:g,markerEnd:x,markerStart:y,interactionWidth:w})=>{const[E,v,b]=bd({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s}),N=e.isInternal?void 0:t;return m.jsx(Do,{id:N,path:E,labelX:v,labelY:b,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:g,markerEnd:x,markerStart:y,interactionWidth:w})})}const Rw=Cd({isInternal:!1}),Sd=Cd({isInternal:!0});Rw.displayName="SimpleBezierEdge";Sd.displayName="SimpleBezierEdgeInternal";function Ed(e){return l.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,sourcePosition:h=ne.Bottom,targetPosition:g=ne.Top,markerEnd:x,markerStart:y,pathOptions:w,interactionWidth:E})=>{const[v,b,N]=zi({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:g,borderRadius:w?.borderRadius,offset:w?.offset,stepPosition:w?.stepPosition}),S=e.isInternal?void 0:t;return m.jsx(Do,{id:S,path:v,labelX:b,labelY:N,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:x,markerStart:y,interactionWidth:E})})}const _d=Ed({isInternal:!1}),Nd=Ed({isInternal:!0});_d.displayName="SmoothStepEdge";Nd.displayName="SmoothStepEdgeInternal";function Rd(e){return l.memo(({id:t,...n})=>{const r=e.isInternal?void 0:t;return m.jsx(_d,{...n,id:r,pathOptions:l.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const Dw=Rd({isInternal:!1}),Dd=Rd({isInternal:!0});Dw.displayName="StepEdge";Dd.displayName="StepEdgeInternal";function Md(e){return l.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:h,markerStart:g,interactionWidth:x})=>{const[y,w,E]=Yu({sourceX:n,sourceY:r,targetX:o,targetY:i}),v=e.isInternal?void 0:t;return m.jsx(Do,{id:v,path:y,labelX:w,labelY:E,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:h,markerStart:g,interactionWidth:x})})}const Mw=Md({isInternal:!1}),Td=Md({isInternal:!0});Mw.displayName="StraightEdge";Td.displayName="StraightEdgeInternal";function Pd(e){return l.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=ne.Bottom,targetPosition:s=ne.Top,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:g,markerEnd:x,markerStart:y,pathOptions:w,interactionWidth:E})=>{const[v,b,N]=Wu({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s,curvature:w?.curvature}),S=e.isInternal?void 0:t;return m.jsx(Do,{id:S,path:v,labelX:b,labelY:N,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:g,markerEnd:x,markerStart:y,interactionWidth:E})})}const Tw=Pd({isInternal:!1}),Ad=Pd({isInternal:!0});Tw.displayName="BezierEdge";Ad.displayName="BezierEdgeInternal";const pc={default:Ad,straight:Td,step:Dd,smoothstep:Nd,simplebezier:Sd},hc={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Pw=(e,t,n)=>n===ne.Left?e-t:n===ne.Right?e+t:e,Aw=(e,t,n)=>n===ne.Top?e-t:n===ne.Bottom?e+t:e,mc="react-flow__edgeupdater";function gc({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:a,type:s}){return m.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:a,className:Se([mc,`${mc}-${s}`]),cx:Pw(t,r,e),cy:Aw(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Iw({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s,targetPosition:u,onReconnect:c,onReconnectStart:d,onReconnectEnd:f,setReconnecting:p,setUpdateHover:h}){const g=be(),x=(b,N)=>{if(b.button!==0)return;const{autoPanOnConnect:S,domNode:R,isValidConnection:O,connectionMode:M,connectionRadius:z,lib:k,onConnectStart:F,onConnectEnd:B,cancelConnection:_,nodeLookup:j,rfId:T,panBy:H,updateConnection:L}=g.getState(),I=N.type==="target",G=(Y,X)=>{p(!1),f?.(Y,n,N.type,X)},U=Y=>c?.(n,Y),P=(Y,X)=>{p(!0),d?.(b,n,N.type),F?.(Y,X)};Wi.onPointerDown(b.nativeEvent,{autoPanOnConnect:S,connectionMode:M,connectionRadius:z,domNode:R,handleId:N.id,nodeId:N.nodeId,nodeLookup:j,isTarget:I,edgeUpdaterType:N.type,lib:k,flowId:T,cancelConnection:_,panBy:H,isValidConnection:O,onConnect:U,onConnectStart:P,onConnectEnd:B,onReconnectEnd:G,updateConnection:L,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold,handleDomNode:b.currentTarget})},y=b=>x(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),w=b=>x(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>h(!0),v=()=>h(!1);return m.jsxs(m.Fragment,{children:[(e===!0||e==="source")&&m.jsx(gc,{position:s,centerX:r,centerY:o,radius:t,onMouseDown:y,onMouseEnter:E,onMouseOut:v,type:"source"}),(e===!0||e==="target")&&m.jsx(gc,{position:u,centerX:i,centerY:a,radius:t,onMouseDown:w,onMouseEnter:E,onMouseOut:v,type:"target"})]})}function kw({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:a,onMouseEnter:s,onMouseMove:u,onMouseLeave:c,reconnectRadius:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:h,rfId:g,edgeTypes:x,noPanClassName:y,onError:w,disableKeyboardA11y:E}){let v=de(re=>re.edgeLookup.get(e));const b=de(re=>re.defaultEdgeOptions);v=b?{...b,...v}:v;let N=v.type||"default",S=x?.[N]||pc[N];S===void 0&&(w?.("011",Je.error011(N)),N="default",S=x?.default||pc.default);const R=!!(v.focusable||t&&typeof v.focusable>"u"),O=typeof f<"u"&&(v.reconnectable||n&&typeof v.reconnectable>"u"),M=!!(v.selectable||r&&typeof v.selectable>"u"),z=l.useRef(null),[k,F]=l.useState(!1),[B,_]=l.useState(!1),j=be(),{zIndex:T,sourceX:H,sourceY:L,targetX:I,targetY:G,sourcePosition:U,targetPosition:P}=de(l.useCallback(re=>{const oe=re.nodeLookup.get(v.source),he=re.nodeLookup.get(v.target);if(!oe||!he)return{zIndex:v.zIndex,...hc};const ge=Sv({id:e,sourceNode:oe,targetNode:he,sourceHandle:v.sourceHandle||null,targetHandle:v.targetHandle||null,connectionMode:re.connectionMode,onError:w});return{zIndex:mv({selected:v.selected,zIndex:v.zIndex,sourceNode:oe,targetNode:he,elevateOnSelect:re.elevateEdgesOnSelect,zIndexMode:re.zIndexMode}),...ge||hc}},[v.source,v.target,v.sourceHandle,v.targetHandle,v.selected,v.zIndex]),Ce),Y=l.useMemo(()=>v.markerStart?`url('#${Vi(v.markerStart,g)}')`:void 0,[v.markerStart,g]),X=l.useMemo(()=>v.markerEnd?`url('#${Vi(v.markerEnd,g)}')`:void 0,[v.markerEnd,g]);if(v.hidden||H===null||L===null||I===null||G===null)return null;const $=re=>{const{addSelectedEdges:oe,unselectNodesAndEdges:he,multiSelectionActive:ge}=j.getState();M&&(j.setState({nodesSelectionActive:!1}),v.selected&&ge?(he({nodes:[],edges:[v]}),z.current?.blur()):oe([e])),o&&o(re,v)},D=i?re=>{i(re,{...v})}:void 0,K=a?re=>{a(re,{...v})}:void 0,Z=s?re=>{s(re,{...v})}:void 0,ee=u?re=>{u(re,{...v})}:void 0,ae=c?re=>{c(re,{...v})}:void 0,le=re=>{if(!E&&Mu.includes(re.key)&&M){const{unselectNodesAndEdges:oe,addSelectedEdges:he}=j.getState();re.key==="Escape"?(z.current?.blur(),oe({edges:[v]})):he([e])}};return m.jsx("svg",{style:{zIndex:T},children:m.jsxs("g",{className:Se(["react-flow__edge",`react-flow__edge-${N}`,v.className,y,{selected:v.selected,animated:v.animated,inactive:!M&&!o,updating:k,selectable:M}]),onClick:$,onDoubleClick:D,onContextMenu:K,onMouseEnter:Z,onMouseMove:ee,onMouseLeave:ae,onKeyDown:R?le:void 0,tabIndex:R?0:void 0,role:v.ariaRole??(R?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":v.ariaLabel===null?void 0:v.ariaLabel||`Edge from ${v.source} to ${v.target}`,"aria-describedby":R?`${sd}-${g}`:void 0,ref:z,...v.domAttributes,children:[!B&&m.jsx(S,{id:e,source:v.source,target:v.target,type:v.type,selected:v.selected,animated:v.animated,selectable:M,deletable:v.deletable??!0,label:v.label,labelStyle:v.labelStyle,labelShowBg:v.labelShowBg,labelBgStyle:v.labelBgStyle,labelBgPadding:v.labelBgPadding,labelBgBorderRadius:v.labelBgBorderRadius,sourceX:H,sourceY:L,targetX:I,targetY:G,sourcePosition:U,targetPosition:P,data:v.data,style:v.style,sourceHandleId:v.sourceHandle,targetHandleId:v.targetHandle,markerStart:Y,markerEnd:X,pathOptions:"pathOptions"in v?v.pathOptions:void 0,interactionWidth:v.interactionWidth}),O&&m.jsx(Iw,{edge:v,isReconnectable:O,reconnectRadius:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:h,sourceX:H,sourceY:L,targetX:I,targetY:G,sourcePosition:U,targetPosition:P,setUpdateHover:F,setReconnecting:_})]})})}var Ow=l.memo(kw);const $w=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Id({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:u,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:p,onReconnectStart:h,onReconnectEnd:g,disableKeyboardA11y:x}){const{edgesFocusable:y,edgesReconnectable:w,elementsSelectable:E,onError:v}=de($w,Ce),b=ww(t);return m.jsxs("div",{className:"react-flow__edges",children:[m.jsx(_w,{defaultColor:e,rfId:n}),b.map(N=>m.jsx(Ow,{id:N,edgesFocusable:y,edgesReconnectable:w,elementsSelectable:E,noPanClassName:o,onReconnect:i,onContextMenu:a,onMouseEnter:s,onMouseMove:u,onMouseLeave:c,onClick:d,reconnectRadius:f,onDoubleClick:p,onReconnectStart:h,onReconnectEnd:g,rfId:n,onError:v,edgeTypes:r,disableKeyboardA11y:x},N))]})}Id.displayName="EdgeRenderer";const jw=l.memo(Id),Lw=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Fw({children:e}){const t=de(Lw);return m.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Hw(e){const t=No(),n=l.useRef(!1);l.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const zw=e=>e.panZoom?.syncViewport;function Vw(e){const t=de(zw),n=be();return l.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Bw(e){return e.connection.inProgress?{...e.connection,to:lr(e.connection.to,e.transform)}:{...e.connection}}function Ww(e){return Bw}function Gw(e){const t=Ww();return de(t,Ce)}const Yw=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Xw({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:a,isValid:s,inProgress:u}=de(Yw,Ce);return!(i&&o&&u)?null:m.jsx("svg",{style:e,width:i,height:a,className:"react-flow__connectionline react-flow__container",children:m.jsx("g",{className:Se(["react-flow__connection",Au(s)]),children:m.jsx(kd,{style:t,type:n,CustomComponent:r,isValid:s})})})}const kd=({style:e,type:t=ht.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:a,fromHandle:s,fromPosition:u,to:c,toNode:d,toHandle:f,toPosition:p,pointer:h}=Gw();if(!o)return;if(n)return m.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:s,fromX:i.x,fromY:i.y,toX:c.x,toY:c.y,fromPosition:u,toPosition:p,connectionStatus:Au(r),toNode:d,toHandle:f,pointer:h});let g="";const x={sourceX:i.x,sourceY:i.y,sourcePosition:u,targetX:c.x,targetY:c.y,targetPosition:p};switch(t){case ht.Bezier:[g]=Wu(x);break;case ht.SimpleBezier:[g]=bd(x);break;case ht.Step:[g]=zi({...x,borderRadius:0});break;case ht.SmoothStep:[g]=zi(x);break;default:[g]=Yu(x)}return m.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};kd.displayName="ConnectionLine";const Uw={};function yc(e=Uw){l.useRef(e),be(),l.useEffect(()=>{},[e])}function Zw(){be(),l.useRef(!1),l.useEffect(()=>{},[])}function Od({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:p,onSelectionEnd:h,connectionLineType:g,connectionLineStyle:x,connectionLineComponent:y,connectionLineContainerStyle:w,selectionKeyCode:E,selectionOnDrag:v,selectionMode:b,multiSelectionKeyCode:N,panActivationKeyCode:S,zoomActivationKeyCode:R,deleteKeyCode:O,onlyRenderVisibleElements:M,elementsSelectable:z,defaultViewport:k,translateExtent:F,minZoom:B,maxZoom:_,preventScrolling:j,defaultMarkerColor:T,zoomOnScroll:H,zoomOnPinch:L,panOnScroll:I,panOnScrollSpeed:G,panOnScrollMode:U,zoomOnDoubleClick:P,panOnDrag:Y,onPaneClick:X,onPaneMouseEnter:$,onPaneMouseMove:D,onPaneMouseLeave:K,onPaneScroll:Z,onPaneContextMenu:ee,paneClickDistance:ae,nodeClickDistance:le,onEdgeContextMenu:re,onEdgeMouseEnter:oe,onEdgeMouseMove:he,onEdgeMouseLeave:ge,reconnectRadius:me,onReconnect:_e,onReconnectStart:fe,onReconnectEnd:Ae,noDragClassName:nt,noWheelClassName:wt,noPanClassName:bt,disableKeyboardA11y:ze,nodeExtent:mn,rfId:Ft,viewport:Ue,onViewportChange:Ct}){return yc(e),yc(t),Zw(),Hw(n),Vw(Ue),m.jsx(uw,{onPaneClick:X,onPaneMouseEnter:$,onPaneMouseMove:D,onPaneMouseLeave:K,onPaneContextMenu:ee,onPaneScroll:Z,paneClickDistance:ae,deleteKeyCode:O,selectionKeyCode:E,selectionOnDrag:v,selectionMode:b,onSelectionStart:p,onSelectionEnd:h,multiSelectionKeyCode:N,panActivationKeyCode:S,zoomActivationKeyCode:R,elementsSelectable:z,zoomOnScroll:H,zoomOnPinch:L,zoomOnDoubleClick:P,panOnScroll:I,panOnScrollSpeed:G,panOnScrollMode:U,panOnDrag:Y,defaultViewport:k,translateExtent:F,minZoom:B,maxZoom:_,onSelectionContextMenu:f,preventScrolling:j,noDragClassName:nt,noWheelClassName:wt,noPanClassName:bt,disableKeyboardA11y:ze,onViewportChange:Ct,isControlledViewport:!!Ue,children:m.jsxs(Fw,{children:[m.jsx(jw,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:a,onReconnect:_e,onReconnectStart:fe,onReconnectEnd:Ae,onlyRenderVisibleElements:M,onEdgeContextMenu:re,onEdgeMouseEnter:oe,onEdgeMouseMove:he,onEdgeMouseLeave:ge,reconnectRadius:me,defaultMarkerColor:T,noPanClassName:bt,disableKeyboardA11y:ze,rfId:Ft}),m.jsx(Xw,{style:x,type:g,component:y,containerStyle:w}),m.jsx("div",{className:"react-flow__edgelabel-renderer"}),m.jsx(xw,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:s,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:le,onlyRenderVisibleElements:M,noPanClassName:bt,noDragClassName:nt,disableKeyboardA11y:ze,nodeExtent:mn,rfId:Ft}),m.jsx("div",{className:"react-flow__viewport-portal"})]})})}Od.displayName="GraphView";const Kw=l.memo(Od),vc=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,fitViewOptions:s,minZoom:u=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:f,zIndexMode:p="basic"}={})=>{const h=new Map,g=new Map,x=new Map,y=new Map,w=r??t??[],E=n??e??[],v=d??[0,0],b=f??Zn;Zu(x,y,w);const N=Bi(E,h,g,{nodeOrigin:v,nodeExtent:b,zIndexMode:p});let S=[0,0,1];if(a&&o&&i){const R=sr(h,{filter:k=>!!((k.width||k.initialWidth)&&(k.height||k.initialHeight))}),{x:O,y:M,zoom:z}=Ea(R,o,i,u,c,s?.padding??.1);S=[O,M,z]}return{rfId:"1",width:o??0,height:i??0,transform:S,nodes:E,nodesInitialized:N,nodeLookup:h,parentLookup:g,edges:w,edgeLookup:y,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:c,translateExtent:Zn,nodeExtent:b,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:sn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:v,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:s,fitViewResolver:null,connection:{...Pu},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:lv,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Tu,zIndexMode:p,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},qw=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,fitViewOptions:s,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,zIndexMode:p})=>mx((h,g)=>{async function x(){const{nodeLookup:y,panZoom:w,fitViewOptions:E,fitViewResolver:v,width:b,height:N,minZoom:S,maxZoom:R}=g();w&&(await sv({nodes:y,width:b,height:N,panZoom:w,minZoom:S,maxZoom:R},E),v?.resolve(!0),h({fitViewResolver:null}))}return{...vc({nodes:e,edges:t,width:o,height:i,fitView:a,fitViewOptions:s,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:p}),setNodes:y=>{const{nodeLookup:w,parentLookup:E,nodeOrigin:v,elevateNodesOnSelect:b,fitViewQueued:N,zIndexMode:S}=g(),R=Bi(y,w,E,{nodeOrigin:v,nodeExtent:f,elevateNodesOnSelect:b,checkEquality:!0,zIndexMode:S});N&&R?(x(),h({nodes:y,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:y,nodesInitialized:R})},setEdges:y=>{const{connectionLookup:w,edgeLookup:E}=g();Zu(w,E,y),h({edges:y})},setDefaultNodesAndEdges:(y,w)=>{if(y){const{setNodes:E}=g();E(y),h({hasDefaultNodes:!0})}if(w){const{setEdges:E}=g();E(w),h({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:w,nodeLookup:E,parentLookup:v,domNode:b,nodeOrigin:N,nodeExtent:S,debug:R,fitViewQueued:O,zIndexMode:M}=g(),{changes:z,updatedInternals:k}=Pv(y,E,v,b,N,S,M);k&&(Rv(E,v,{nodeOrigin:N,nodeExtent:S,zIndexMode:M}),O?(x(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),z?.length>0&&(R&&console.log("React Flow: trigger node changes",z),w?.(z)))},updateNodePositions:(y,w=!1)=>{const E=[];let v=[];const{nodeLookup:b,triggerNodeChanges:N,connection:S,updateConnection:R,onNodesChangeMiddlewareMap:O}=g();for(const[M,z]of y){const k=b.get(M),F=!!(k?.expandParent&&k?.parentId&&z?.position),B={id:M,type:"position",position:F?{x:Math.max(0,z.position.x),y:Math.max(0,z.position.y)}:z.position,dragging:w};if(k&&S.inProgress&&S.fromNode.id===k.id){const _=kt(k,S.fromHandle,ne.Left,!0);R({...S,from:_})}F&&k.parentId&&E.push({id:M,parentId:k.parentId,rect:{...z.internals.positionAbsolute,width:z.measured.width??0,height:z.measured.height??0}}),v.push(B)}if(E.length>0){const{parentLookup:M,nodeOrigin:z}=g(),k=Ta(E,b,M,z);v.push(...k)}for(const M of O.values())v=M(v);N(v)},triggerNodeChanges:y=>{const{onNodesChange:w,setNodes:E,nodes:v,hasDefaultNodes:b,debug:N}=g();if(y?.length){if(b){const S=ud(y,v);E(S)}N&&console.log("React Flow: trigger node changes",y),w?.(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:w,setEdges:E,edges:v,hasDefaultEdges:b,debug:N}=g();if(y?.length){if(b){const S=dd(y,v);E(S)}N&&console.log("React Flow: trigger edge changes",y),w?.(y)}},addSelectedNodes:y=>{const{multiSelectionActive:w,edgeLookup:E,nodeLookup:v,triggerNodeChanges:b,triggerEdgeChanges:N}=g();if(w){const S=y.map(R=>Et(R,!0));b(S);return}b(qt(v,new Set([...y]),!0)),N(qt(E))},addSelectedEdges:y=>{const{multiSelectionActive:w,edgeLookup:E,nodeLookup:v,triggerNodeChanges:b,triggerEdgeChanges:N}=g();if(w){const S=y.map(R=>Et(R,!0));N(S);return}N(qt(E,new Set([...y]))),b(qt(v,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:w}={})=>{const{edges:E,nodes:v,nodeLookup:b,triggerNodeChanges:N,triggerEdgeChanges:S}=g(),R=y||v,O=w||E,M=R.map(k=>{const F=b.get(k.id);return F&&(F.selected=!1),Et(k.id,!1)}),z=O.map(k=>Et(k.id,!1));N(M),S(z)},setMinZoom:y=>{const{panZoom:w,maxZoom:E}=g();w?.setScaleExtent([y,E]),h({minZoom:y})},setMaxZoom:y=>{const{panZoom:w,minZoom:E}=g();w?.setScaleExtent([E,y]),h({maxZoom:y})},setTranslateExtent:y=>{g().panZoom?.setTranslateExtent(y),h({translateExtent:y})},resetSelectedElements:()=>{const{edges:y,nodes:w,triggerNodeChanges:E,triggerEdgeChanges:v,elementsSelectable:b}=g();if(!b)return;const N=w.reduce((R,O)=>O.selected?[...R,Et(O.id,!1)]:R,[]),S=y.reduce((R,O)=>O.selected?[...R,Et(O.id,!1)]:R,[]);E(N),v(S)},setNodeExtent:y=>{const{nodes:w,nodeLookup:E,parentLookup:v,nodeOrigin:b,elevateNodesOnSelect:N,nodeExtent:S,zIndexMode:R}=g();y[0][0]===S[0][0]&&y[0][1]===S[0][1]&&y[1][0]===S[1][0]&&y[1][1]===S[1][1]||(Bi(w,E,v,{nodeOrigin:b,nodeExtent:y,elevateNodesOnSelect:N,checkEquality:!1,zIndexMode:R}),h({nodeExtent:y}))},panBy:y=>{const{transform:w,width:E,height:v,panZoom:b,translateExtent:N}=g();return Av({delta:y,panZoom:b,transform:w,translateExtent:N,width:E,height:v})},setCenter:async(y,w,E)=>{const{width:v,height:b,maxZoom:N,panZoom:S}=g();if(!S)return Promise.resolve(!1);const R=typeof E?.zoom<"u"?E.zoom:N;return await S.setViewport({x:v/2-y*R,y:b/2-w*R,zoom:R},{duration:E?.duration,ease:E?.ease,interpolate:E?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...Pu}})},updateConnection:y=>{h({connection:y})},reset:()=>h({...vc()})}},Object.is);function Qw({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:a,initialMaxZoom:s,initialFitViewOptions:u,fitView:c,nodeOrigin:d,nodeExtent:f,zIndexMode:p,children:h}){const[g]=l.useState(()=>qw({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:c,minZoom:a,maxZoom:s,fitViewOptions:u,nodeOrigin:d,nodeExtent:f,zIndexMode:p}));return m.jsx(gx,{value:g,children:m.jsx(Fx,{children:h})})}function Jw({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:s,fitViewOptions:u,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:p,zIndexMode:h}){return l.useContext(Eo)?m.jsx(m.Fragment,{children:e}):m.jsx(Qw,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:a,fitView:s,initialFitViewOptions:u,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:f,nodeExtent:p,zIndexMode:h,children:e})}const eb={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function tb({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:a,onNodeClick:s,onEdgeClick:u,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:p,onConnect:h,onConnectStart:g,onConnectEnd:x,onClickConnectStart:y,onClickConnectEnd:w,onNodeMouseEnter:E,onNodeMouseMove:v,onNodeMouseLeave:b,onNodeContextMenu:N,onNodeDoubleClick:S,onNodeDragStart:R,onNodeDrag:O,onNodeDragStop:M,onNodesDelete:z,onEdgesDelete:k,onDelete:F,onSelectionChange:B,onSelectionDragStart:_,onSelectionDrag:j,onSelectionDragStop:T,onSelectionContextMenu:H,onSelectionStart:L,onSelectionEnd:I,onBeforeDelete:G,connectionMode:U,connectionLineType:P=ht.Bezier,connectionLineStyle:Y,connectionLineComponent:X,connectionLineContainerStyle:$,deleteKeyCode:D="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:Z=!1,selectionMode:ee=Kn.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:le=Qn()?"Meta":"Control",zoomActivationKeyCode:re=Qn()?"Meta":"Control",snapToGrid:oe,snapGrid:he,onlyRenderVisibleElements:ge=!1,selectNodesOnDrag:me,nodesDraggable:_e,autoPanOnNodeFocus:fe,nodesConnectable:Ae,nodesFocusable:nt,nodeOrigin:wt=cd,edgesFocusable:bt,edgesReconnectable:ze,elementsSelectable:mn=!0,defaultViewport:Ft=Mx,minZoom:Ue=.5,maxZoom:Ct=2,translateExtent:ct=Zn,preventScrolling:gn=!0,nodeExtent:yn,defaultMarkerColor:Io="#b1b1b7",zoomOnScroll:ko=!0,zoomOnPinch:vn=!0,panOnScroll:xn=!1,panOnScrollSpeed:Oo=.5,panOnScrollMode:wn=Mt.Free,zoomOnDoubleClick:bn=!0,panOnDrag:$o=!0,onPaneClick:jo,onPaneMouseEnter:Cn,onPaneMouseMove:Sn,onPaneMouseLeave:Lo,onPaneScroll:En,onPaneContextMenu:_n,paneClickDistance:Fo=1,nodeClickDistance:Ho=0,children:Nn,onReconnect:Rn,onReconnectStart:zo,onReconnectEnd:Dn,onEdgeContextMenu:Mn,onEdgeDoubleClick:Vo,onEdgeMouseEnter:Bo,onEdgeMouseMove:Tn,onEdgeMouseLeave:Pn,reconnectRadius:Wo=10,onNodesChange:An,onEdgesChange:In,noDragClassName:Go="nodrag",noWheelClassName:Yo="nowheel",noPanClassName:gr="nopan",fitView:yr,fitViewOptions:lt,connectOnClick:Xo,attributionPosition:Uo,proOptions:St,defaultEdgeOptions:kn,elevateNodesOnSelect:On=!0,elevateEdgesOnSelect:Zo=!1,disableKeyboardA11y:Ht=!1,autoPanOnConnect:Ko,autoPanOnNodeDrag:qo,autoPanSpeed:C,connectionRadius:A,isValidConnection:q,onError:W,style:Q,id:te,nodeDragThreshold:J,connectionDragThreshold:se,viewport:pe,onViewportChange:xe,width:ie,height:we,colorMode:Re="light",debug:zt,onScroll:vr,ariaLabelConfig:rp,zIndexMode:Ga="basic",...op},ip){const Qo=te||"1",ap=Ix(Re),sp=l.useCallback(Ya=>{Ya.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),vr?.(Ya)},[vr]);return m.jsx("div",{"data-testid":"rf__wrapper",...op,onScroll:sp,style:{...Q,...eb},ref:ip,className:Se(["react-flow",o,ap]),id:te,role:"application",children:m.jsxs(Jw,{nodes:e,edges:t,width:ie,height:we,fitView:yr,fitViewOptions:lt,minZoom:Ue,maxZoom:Ct,nodeOrigin:wt,nodeExtent:yn,zIndexMode:Ga,children:[m.jsx(Kw,{onInit:c,onNodeClick:s,onEdgeClick:u,onNodeMouseEnter:E,onNodeMouseMove:v,onNodeMouseLeave:b,onNodeContextMenu:N,onNodeDoubleClick:S,nodeTypes:i,edgeTypes:a,connectionLineType:P,connectionLineStyle:Y,connectionLineComponent:X,connectionLineContainerStyle:$,selectionKeyCode:K,selectionOnDrag:Z,selectionMode:ee,deleteKeyCode:D,multiSelectionKeyCode:le,panActivationKeyCode:ae,zoomActivationKeyCode:re,onlyRenderVisibleElements:ge,defaultViewport:Ft,translateExtent:ct,minZoom:Ue,maxZoom:Ct,preventScrolling:gn,zoomOnScroll:ko,zoomOnPinch:vn,zoomOnDoubleClick:bn,panOnScroll:xn,panOnScrollSpeed:Oo,panOnScrollMode:wn,panOnDrag:$o,onPaneClick:jo,onPaneMouseEnter:Cn,onPaneMouseMove:Sn,onPaneMouseLeave:Lo,onPaneScroll:En,onPaneContextMenu:_n,paneClickDistance:Fo,nodeClickDistance:Ho,onSelectionContextMenu:H,onSelectionStart:L,onSelectionEnd:I,onReconnect:Rn,onReconnectStart:zo,onReconnectEnd:Dn,onEdgeContextMenu:Mn,onEdgeDoubleClick:Vo,onEdgeMouseEnter:Bo,onEdgeMouseMove:Tn,onEdgeMouseLeave:Pn,reconnectRadius:Wo,defaultMarkerColor:Io,noDragClassName:Go,noWheelClassName:Yo,noPanClassName:gr,rfId:Qo,disableKeyboardA11y:Ht,nodeExtent:yn,viewport:pe,onViewportChange:xe}),m.jsx(Ax,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:g,onConnectEnd:x,onClickConnectStart:y,onClickConnectEnd:w,nodesDraggable:_e,autoPanOnNodeFocus:fe,nodesConnectable:Ae,nodesFocusable:nt,edgesFocusable:bt,edgesReconnectable:ze,elementsSelectable:mn,elevateNodesOnSelect:On,elevateEdgesOnSelect:Zo,minZoom:Ue,maxZoom:Ct,nodeExtent:yn,onNodesChange:An,onEdgesChange:In,snapToGrid:oe,snapGrid:he,connectionMode:U,translateExtent:ct,connectOnClick:Xo,defaultEdgeOptions:kn,fitView:yr,fitViewOptions:lt,onNodesDelete:z,onEdgesDelete:k,onDelete:F,onNodeDragStart:R,onNodeDrag:O,onNodeDragStop:M,onSelectionDrag:j,onSelectionDragStart:_,onSelectionDragStop:T,onMove:d,onMoveStart:f,onMoveEnd:p,noPanClassName:gr,nodeOrigin:wt,rfId:Qo,autoPanOnConnect:Ko,autoPanOnNodeDrag:qo,autoPanSpeed:C,onError:W,connectionRadius:A,isValidConnection:q,selectNodesOnDrag:me,nodeDragThreshold:J,connectionDragThreshold:se,onBeforeDelete:G,debug:zt,ariaLabelConfig:rp,zIndexMode:Ga}),m.jsx(Dx,{onSelectionChange:B}),Nn,m.jsx(Sx,{proOptions:St,position:Uo}),m.jsx(Cx,{rfId:Qo,disableKeyboardA11y:Ht})]})})}var ES=fd(tb);function _S(){const e=be();return l.useCallback(t=>{const{domNode:n,updateNodeInternals:r}=e.getState(),o=Array.isArray(t)?t:[t],i=new Map;o.forEach(a=>{const s=n?.querySelector(`.react-flow__node[data-id="${a}"]`);s&&i.set(a,{id:a,nodeElement:s,force:!0})}),requestAnimationFrame(()=>r(i,{triggerFitView:!1}))},[])}const nb=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function NS(){return de(nb,Ce)}function RS(e){const[t,n]=l.useState(e),r=l.useCallback(o=>n(i=>ud(o,i)),[]);return[t,n,r]}function DS(e){const[t,n]=l.useState(e),r=l.useCallback(o=>n(i=>dd(o,i)),[]);return[t,n,r]}function MS({onStart:e,onChange:t,onEnd:n}){const r=be();l.useEffect(()=>{r.setState({onViewportChangeStart:e})},[e]),l.useEffect(()=>{r.setState({onViewportChange:t})},[t]),l.useEffect(()=>{r.setState({onViewportChangeEnd:n})},[n])}function rb({dimensions:e,lineWidth:t,variant:n,className:r}){return m.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Se(["react-flow__background-pattern",n,r])})}function ob({radius:e,className:t}){return m.jsx("circle",{cx:e,cy:e,r:e,className:Se(["react-flow__background-pattern","dots",t])})}var mt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(mt||(mt={}));const ib={[mt.Dots]:1,[mt.Lines]:1,[mt.Cross]:6},ab=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function $d({id:e,variant:t=mt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:a,bgColor:s,style:u,className:c,patternClassName:d}){const f=l.useRef(null),{transform:p,patternId:h}=de(ab,Ce),g=r||ib[t],x=t===mt.Dots,y=t===mt.Cross,w=Array.isArray(n)?n:[n,n],E=[w[0]*p[2]||1,w[1]*p[2]||1],v=g*p[2],b=Array.isArray(i)?i:[i,i],N=y?[v,v]:E,S=[b[0]*p[2]||1+N[0]/2,b[1]*p[2]||1+N[1]/2],R=`${h}${e||""}`;return m.jsxs("svg",{className:Se(["react-flow__background",c]),style:{...u,...Ro,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[m.jsx("pattern",{id:R,x:p[0]%E[0],y:p[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`,children:x?m.jsx(ob,{radius:v/2,className:d}):m.jsx(rb,{dimensions:N,lineWidth:o,variant:t,className:d})}),m.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}$d.displayName="Background";const TS=l.memo($d);function sb(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function cb(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m.jsx("path",{d:"M0 0h32v4.2H0z"})})}function lb(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function ub(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function db(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ar({children:e,className:t,...n}){return m.jsx("button",{type:"button",className:Se(["react-flow__controls-button",t]),...n,children:e})}const fb=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function jd({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:a,onFitView:s,onInteractiveChange:u,className:c,children:d,position:f="bottom-left",orientation:p="vertical","aria-label":h}){const g=be(),{isInteractive:x,minZoomReached:y,maxZoomReached:w,ariaLabelConfig:E}=de(fb,Ce),{zoomIn:v,zoomOut:b,fitView:N}=No(),S=()=>{v(),i?.()},R=()=>{b(),a?.()},O=()=>{N(o),s?.()},M=()=>{g.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),u?.(!x)},z=p==="horizontal"?"horizontal":"vertical";return m.jsxs(_o,{className:Se(["react-flow__controls",z,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??E["controls.ariaLabel"],children:[t&&m.jsxs(m.Fragment,{children:[m.jsx(Ar,{onClick:S,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:w,children:m.jsx(sb,{})}),m.jsx(Ar,{onClick:R,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:y,children:m.jsx(cb,{})})]}),n&&m.jsx(Ar,{className:"react-flow__controls-fitview",onClick:O,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:m.jsx(lb,{})}),r&&m.jsx(Ar,{className:"react-flow__controls-interactive",onClick:M,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:x?m.jsx(db,{}):m.jsx(ub,{})}),d]})}jd.displayName="Controls";const PS=l.memo(jd);function pb({id:e,x:t,y:n,width:r,height:o,style:i,color:a,strokeColor:s,strokeWidth:u,className:c,borderRadius:d,shapeRendering:f,selected:p,onClick:h}){const{background:g,backgroundColor:x}=i||{},y=a||g||x;return m.jsx("rect",{className:Se(["react-flow__minimap-node",{selected:p},c]),x:t,y:n,rx:d,ry:d,width:r,height:o,style:{fill:y,stroke:s,strokeWidth:u},shapeRendering:f,onClick:h?w=>h(w,e):void 0})}const hb=l.memo(pb),mb=e=>e.nodes.map(t=>t.id),wi=e=>e instanceof Function?e:()=>e;function gb({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=hb,onClick:a}){const s=de(mb,Ce),u=wi(t),c=wi(e),d=wi(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return m.jsx(m.Fragment,{children:s.map(p=>m.jsx(vb,{id:p,nodeColorFunc:u,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:a,shapeRendering:f},p))})}function yb({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:a,NodeComponent:s,onClick:u}){const{node:c,x:d,y:f,width:p,height:h}=de(g=>{const{internals:x}=g.nodeLookup.get(e),y=x.userNode,{x:w,y:E}=x.positionAbsolute,{width:v,height:b}=st(y);return{node:y,x:w,y:E,width:v,height:b}},Ce);return!c||c.hidden||!Lu(c)?null:m.jsx(s,{x:d,y:f,width:p,height:h,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:o,strokeColor:n(c),strokeWidth:i,shapeRendering:a,onClick:u,id:c.id})}const vb=l.memo(yb);var xb=l.memo(gb);const wb=200,bb=150,Cb=e=>!e.hidden,Sb=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?ju(sr(e.nodeLookup,{filter:Cb}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},Eb="react-flow__minimap-desc";function Ld({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:u,maskColor:c,maskStrokeColor:d,maskStrokeWidth:f,position:p="bottom-right",onClick:h,onNodeClick:g,pannable:x=!1,zoomable:y=!1,ariaLabel:w,inversePan:E,zoomStep:v=1,offsetScale:b=5}){const N=be(),S=l.useRef(null),{boundingRect:R,viewBB:O,rfId:M,panZoom:z,translateExtent:k,flowWidth:F,flowHeight:B,ariaLabelConfig:_}=de(Sb,Ce),j=e?.width??wb,T=e?.height??bb,H=R.width/j,L=R.height/T,I=Math.max(H,L),G=I*j,U=I*T,P=b*I,Y=R.x-(G-R.width)/2-P,X=R.y-(U-R.height)/2-P,$=G+P*2,D=U+P*2,K=`${Eb}-${M}`,Z=l.useRef(0),ee=l.useRef();Z.current=I,l.useEffect(()=>{if(S.current&&z)return ee.current=zv({domNode:S.current,panZoom:z,getTransform:()=>N.getState().transform,getViewScale:()=>Z.current}),()=>{ee.current?.destroy()}},[z]),l.useEffect(()=>{ee.current?.update({translateExtent:k,width:F,height:B,inversePan:E,pannable:x,zoomStep:v,zoomable:y})},[x,y,E,v,k,F,B]);const ae=h?oe=>{const[he,ge]=ee.current?.pointer(oe)||[0,0];h(oe,{x:he,y:ge})}:void 0,le=g?l.useCallback((oe,he)=>{const ge=N.getState().nodeLookup.get(he).internals.userNode;g(oe,ge)},[]):void 0,re=w??_["minimap.ariaLabel"];return m.jsx(_o,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*I:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:Se(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:m.jsxs("svg",{width:j,height:T,viewBox:`${Y} ${X} ${$} ${D}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:S,onClick:ae,children:[re&&m.jsx("title",{id:K,children:re}),m.jsx(xb,{onClick:le,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:a,nodeComponent:s}),m.jsx("path",{className:"react-flow__minimap-mask",d:`M${Y-P},${X-P}h${$+P*2}v${D+P*2}h${-$-P*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Ld.displayName="MiniMap";const AS=l.memo(Ld),_b=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,Nb={[Ot.Line]:"right",[Ot.Handle]:"bottom-right"};function Rb({nodeId:e,position:t,variant:n=Ot.Handle,className:r,style:o=void 0,children:i,color:a,minWidth:s=10,minHeight:u=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:p,autoScale:h=!0,shouldResize:g,onResizeStart:x,onResize:y,onResizeEnd:w}){const E=gd(),v=typeof e=="string"?e:E,b=be(),N=l.useRef(null),S=n===Ot.Handle,R=de(l.useCallback(_b(S&&h),[S,h]),Ce),O=l.useRef(null),M=t??Nb[n];l.useEffect(()=>{if(!(!N.current||!v))return O.current||(O.current=rx({domNode:N.current,nodeId:v,getStoreItems:()=>{const{nodeLookup:k,transform:F,snapGrid:B,snapToGrid:_,nodeOrigin:j,domNode:T}=b.getState();return{nodeLookup:k,transform:F,snapGrid:B,snapToGrid:_,nodeOrigin:j,paneDomNode:T}},onChange:(k,F)=>{const{triggerNodeChanges:B,nodeLookup:_,parentLookup:j,nodeOrigin:T}=b.getState(),H=[],L={x:k.x,y:k.y},I=_.get(v);if(I&&I.expandParent&&I.parentId){const G=I.origin??T,U=k.width??I.measured.width??0,P=k.height??I.measured.height??0,Y={id:I.id,parentId:I.parentId,rect:{width:U,height:P,...Fu({x:k.x??I.position.x,y:k.y??I.position.y},{width:U,height:P},I.parentId,_,G)}},X=Ta([Y],_,j,T);H.push(...X),L.x=k.x?Math.max(G[0]*U,k.x):void 0,L.y=k.y?Math.max(G[1]*P,k.y):void 0}if(L.x!==void 0&&L.y!==void 0){const G={id:v,type:"position",position:{...L}};H.push(G)}if(k.width!==void 0&&k.height!==void 0){const U={id:v,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:k.width,height:k.height}};H.push(U)}for(const G of F){const U={...G,type:"position"};H.push(U)}B(H)},onEnd:({width:k,height:F})=>{const B={id:v,type:"dimensions",resizing:!1,dimensions:{width:k,height:F}};b.getState().triggerNodeChanges([B])}})),O.current.update({controlPosition:M,boundaries:{minWidth:s,minHeight:u,maxWidth:c,maxHeight:d},keepAspectRatio:f,resizeDirection:p,onResizeStart:x,onResize:y,onResizeEnd:w,shouldResize:g}),()=>{O.current?.destroy()}},[M,s,u,c,d,f,x,y,w,g]);const z=M.split("-");return m.jsx("div",{className:Se(["react-flow__resize-control","nodrag",...z,n,r]),ref:N,style:{...o,scale:R,...a&&{[S?"backgroundColor":"borderColor"]:a}},children:i})}const xc=l.memo(Rb);function IS({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:o,lineStyle:i,color:a,minWidth:s=10,minHeight:u=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,autoScale:p=!0,shouldResize:h,onResizeStart:g,onResize:x,onResizeEnd:y}){return t?m.jsxs(m.Fragment,{children:[qv.map(w=>m.jsx(xc,{className:o,style:i,nodeId:e,position:w,variant:Ot.Line,color:a,minWidth:s,minHeight:u,maxWidth:c,maxHeight:d,onResizeStart:g,keepAspectRatio:f,autoScale:p,shouldResize:h,onResize:x,onResizeEnd:y},w)),Kv.map(w=>m.jsx(xc,{className:n,style:r,nodeId:e,position:w,color:a,minWidth:s,minHeight:u,maxWidth:c,maxHeight:d,onResizeStart:g,keepAspectRatio:f,autoScale:p,shouldResize:h,onResize:x,onResizeEnd:y},w))]}):null}const Db=hn({id:Ee(),name:Ee(),x:je(),y:je(),width:je(),height:je(),color:Ee(),order:je().optional()});var Mb=(e=>(e.POSTGRESQL_PSQL="psql",e.SQLITE_WRANGLER="wrangler",e))(Mb||{});const kS={psql:"PSQL",wrangler:"Wrangler"},OS={[De.POSTGRESQL]:["psql"],[De.MYSQL]:[],[De.SQLITE]:[],[De.GENERIC]:[],[De.SQL_SERVER]:[],[De.MARIADB]:[],[De.CLICKHOUSE]:[],[De.COCKROACHDB]:[],[De.ORACLE]:[]},$S={[Yt.POSTGRESQL_SUPABASE]:[],[Yt.POSTGRESQL_TIMESCALE]:[],[Yt.MYSQL_5_7]:[],[Yt.SQL_SERVER_2016_AND_BELOW]:[],[Yt.SQLITE_CLOUDFLARE_D1]:["wrangler"]},Tb=hn({id:Ee(),schema:Ee().or(Zt()).optional(),tableId:Ee(),dependentSchema:Ee().or(Zt()).optional(),dependentTableId:Ee(),createdAt:je()}),Pb=hn({id:Ee(),content:Ee(),x:je(),y:je(),width:je(),height:je(),color:Ee(),order:je().optional()}),jS=hn({id:Ee(),name:Ee(),databaseType:Ni(De),databaseEdition:Ni(Yt).optional(),tables:pt(gp).optional(),relationships:pt(Dp).optional(),dependencies:pt(Tb).optional(),areas:pt(Db).optional(),customTypes:pt(Cg).optional(),notes:pt(Pb).optional(),createdAt:Za(),updatedAt:Za()});var Ab=l.createContext(void 0);function Aa(e){const t=l.useContext(Ab);return e||t||"ltr"}var bi="rovingFocusGroup.onEntryFocus",Ib={bubbles:!1,cancelable:!0},ur="RovingFocusGroup",[Yi,Fd,kb]=al(ur),[Ob,Mo]=fn(ur,[kb]),[$b,jb]=Ob(ur),Hd=l.forwardRef((e,t)=>m.jsx(Yi.Provider,{scope:e.__scopeRovingFocusGroup,children:m.jsx(Yi.Slot,{scope:e.__scopeRovingFocusGroup,children:m.jsx(Lb,{...e,ref:t})})}));Hd.displayName=ur;var Lb=l.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,p=l.useRef(null),h=Te(t,p),g=Aa(i),[x,y]=pn({prop:a,defaultProp:s??null,onChange:u,caller:ur}),[w,E]=l.useState(!1),v=tn(c),b=Fd(n),N=l.useRef(!1),[S,R]=l.useState(0);return l.useEffect(()=>{const O=p.current;if(O)return O.addEventListener(bi,v),()=>O.removeEventListener(bi,v)},[v]),m.jsx($b,{scope:n,orientation:r,dir:g,loop:o,currentTabStopId:x,onItemFocus:l.useCallback(O=>y(O),[y]),onItemShiftTab:l.useCallback(()=>E(!0),[]),onFocusableItemAdd:l.useCallback(()=>R(O=>O+1),[]),onFocusableItemRemove:l.useCallback(()=>R(O=>O-1),[]),children:m.jsx(ve.div,{tabIndex:w||S===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:ue(e.onMouseDown,()=>{N.current=!0}),onFocus:ue(e.onFocus,O=>{const M=!N.current;if(O.target===O.currentTarget&&M&&!w){const z=new CustomEvent(bi,Ib);if(O.currentTarget.dispatchEvent(z),!z.defaultPrevented){const k=b().filter(T=>T.focusable),F=k.find(T=>T.active),B=k.find(T=>T.id===x),j=[F,B,...k].filter(Boolean).map(T=>T.ref.current);Bd(j,d)}}N.current=!1}),onBlur:ue(e.onBlur,()=>E(!1))})})}),zd="RovingFocusGroupItem",Vd=l.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:a,...s}=e,u=ke(),c=i||u,d=jb(zd,n),f=d.currentTabStopId===c,p=Fd(n),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:x}=d;return l.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),m.jsx(Yi.ItemSlot,{scope:n,id:c,focusable:r,active:o,children:m.jsx(ve.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:t,onMouseDown:ue(e.onMouseDown,y=>{r?d.onItemFocus(c):y.preventDefault()}),onFocus:ue(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ue(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=zb(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=p().filter(b=>b.focusable).map(b=>b.ref.current);if(w==="last")v.reverse();else if(w==="prev"||w==="next"){w==="prev"&&v.reverse();const b=v.indexOf(y.currentTarget);v=d.loop?Vb(v,b+1):v.slice(b+1)}setTimeout(()=>Bd(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});Vd.displayName=zd;var Fb={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hb(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zb(e,t,n){const r=Hb(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Fb[r]}function Bd(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Vb(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Wd=Hd,Gd=Vd,Yd="Toggle",Ia=l.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...i}=e,[a,s]=pn({prop:n,onChange:o,defaultProp:r??!1,caller:Yd});return m.jsx(ve.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:ue(e.onClick,()=>{e.disabled||s(!a)})})});Ia.displayName=Yd;var LS=Ia,yt="ToggleGroup",[Xd]=fn(yt,[Mo]),Ud=Mo(),ka=ce.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return m.jsx(Bb,{...o,ref:t})}if(n==="multiple"){const o=r;return m.jsx(Wb,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${yt}\``)});ka.displayName=yt;var[Zd,Kd]=Xd(yt),Bb=ce.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[a,s]=pn({prop:n,defaultProp:r??"",onChange:o,caller:yt});return m.jsx(Zd,{scope:e.__scopeToggleGroup,type:"single",value:ce.useMemo(()=>a?[a]:[],[a]),onItemActivate:s,onItemDeactivate:ce.useCallback(()=>s(""),[s]),children:m.jsx(qd,{...i,ref:t})})}),Wb=ce.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[a,s]=pn({prop:n,defaultProp:r??[],onChange:o,caller:yt}),u=ce.useCallback(d=>s((f=[])=>[...f,d]),[s]),c=ce.useCallback(d=>s((f=[])=>f.filter(p=>p!==d)),[s]);return m.jsx(Zd,{scope:e.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:u,onItemDeactivate:c,children:m.jsx(qd,{...i,ref:t})})});ka.displayName=yt;var[Gb,Yb]=Xd(yt),qd=ce.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:i,dir:a,loop:s=!0,...u}=e,c=Ud(n),d=Aa(a),f={role:"group",dir:d,...u};return m.jsx(Gb,{scope:n,rovingFocus:o,disabled:r,children:o?m.jsx(Wd,{asChild:!0,...c,orientation:i,dir:d,loop:s,children:m.jsx(ve.div,{...f,ref:t})}):m.jsx(ve.div,{...f,ref:t})})}),no="ToggleGroupItem",Qd=ce.forwardRef((e,t)=>{const n=Kd(no,e.__scopeToggleGroup),r=Yb(no,e.__scopeToggleGroup),o=Ud(e.__scopeToggleGroup),i=n.value.includes(e.value),a=r.disabled||e.disabled,s={...e,pressed:i,disabled:a},u=ce.useRef(null);return r.rovingFocus?m.jsx(Gd,{asChild:!0,...o,focusable:!a,active:i,ref:u,children:m.jsx(wc,{...s,ref:t})}):m.jsx(wc,{...s,ref:t})});Qd.displayName=no;var wc=ce.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,i=Kd(no,n),a={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s=i.type==="single"?a:void 0;return m.jsx(Ia,{...s,...o,ref:t,onPressedChange:u=>{u?i.onItemActivate(r):i.onItemDeactivate(r)}})}),Jd=ka,ef=Qd;const Xb=bp("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),tf=ce.createContext({size:"default",variant:"default"}),Ub=ce.forwardRef(({className:e,variant:t,size:n,children:r,...o},i)=>m.jsx(Jd,{ref:i,className:ye("flex items-center justify-center gap-1",e),...o,children:m.jsx(tf.Provider,{value:{variant:t,size:n},children:r})}));Ub.displayName=Jd.displayName;const Zb=ce.forwardRef(({className:e,children:t,variant:n,size:r,...o},i)=>{const a=ce.useContext(tf);return m.jsx(ef,{ref:i,className:ye(Xb({variant:a.variant||n,size:a.size||r}),e),...o,children:t})});Zb.displayName=ef.displayName;function FS(e,t){const n=l.useRef();return l.useEffect(()=>(n.current=yp(e,t),()=>{n.current?.cancel&&n.current.cancel()}),[e,t]),l.useCallback((...o)=>{n.current?.(...o)},[])}var Kb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qb=Kb.reduce((e,t)=>{const n=Mp(`Primitive.${t}`),r=l.forwardRef((o,i)=>{const{asChild:a,...s}=o,u=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(u,{...s,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Qb="Separator",bc="horizontal",Jb=["horizontal","vertical"],nf=l.forwardRef((e,t)=>{const{decorative:n,orientation:r=bc,...o}=e,i=eC(r)?r:bc,s=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return m.jsx(qb.div,{"data-orientation":i,...s,...o,ref:t})});nf.displayName=Qb;function eC(e){return Jb.includes(e)}var rf=nf;const tC=ce.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>m.jsx(rf,{ref:o,decorative:n,orientation:t,className:ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));tC.displayName=rf.displayName;function nC(e){const t=rC(e),n=l.forwardRef((r,o)=>{const{children:i,...a}=r,s=l.Children.toArray(i),u=s.find(iC);if(u){const c=u.props.children,d=s.map(f=>f===u?l.Children.count(c)>1?l.Children.only(null):l.isValidElement(c)?c.props.children:null:f);return m.jsx(t,{...a,ref:o,children:l.isValidElement(c)?l.cloneElement(c,void 0,d):null})}return m.jsx(t,{...a,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function rC(e){const t=l.forwardRef((n,r)=>{const{children:o,...i}=n;if(l.isValidElement(o)){const a=sC(o),s=aC(i,o.props);return o.type!==l.Fragment&&(s.ref=r?Qe(r,a):a),l.cloneElement(o,s)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oC=Symbol("radix.slottable");function iC(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oC}function aC(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...s)=>{const u=i(...s);return o(...s),u}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function sC(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Xi=["Enter"," "],cC=["ArrowDown","PageUp","Home"],of=["ArrowUp","PageDown","End"],lC=[...cC,...of],uC={ltr:[...Xi,"ArrowRight"],rtl:[...Xi,"ArrowLeft"]},dC={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dr="Menu",[er,fC,pC]=al(dr),[Lt,HS]=fn(dr,[pC,io,Mo]),fr=io(),af=Mo(),[sf,vt]=Lt(dr),[hC,pr]=Lt(dr),cf=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:i,modal:a=!0}=e,s=fr(t),[u,c]=l.useState(null),d=l.useRef(!1),f=tn(i),p=Aa(o);return l.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),m.jsx(Qi,{...s,children:m.jsx(sf,{scope:t,open:n,onOpenChange:f,content:u,onContentChange:c,children:m.jsx(hC,{scope:t,onClose:l.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};cf.displayName=dr;var mC="MenuAnchor",Oa=l.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=fr(n);return m.jsx(Ji,{...o,...r,ref:t})});Oa.displayName=mC;var $a="MenuPortal",[gC,lf]=Lt($a,{forceMount:void 0}),uf=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,i=vt($a,t);return m.jsx(gC,{scope:t,forceMount:n,children:m.jsx(at,{present:n||i.open,children:m.jsx(ao,{asChild:!0,container:o,children:r})})})};uf.displayName=$a;var Fe="MenuContent",[yC,ja]=Lt(Fe),df=l.forwardRef((e,t)=>{const n=lf(Fe,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=vt(Fe,e.__scopeMenu),a=pr(Fe,e.__scopeMenu);return m.jsx(er.Provider,{scope:e.__scopeMenu,children:m.jsx(at,{present:r||i.open,children:m.jsx(er.Slot,{scope:e.__scopeMenu,children:a.modal?m.jsx(vC,{...o,ref:t}):m.jsx(xC,{...o,ref:t})})})})}),vC=l.forwardRef((e,t)=>{const n=vt(Fe,e.__scopeMenu),r=l.useRef(null),o=Te(t,r);return l.useEffect(()=>{const i=r.current;if(i)return ra(i)},[]),m.jsx(La,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),xC=l.forwardRef((e,t)=>{const n=vt(Fe,e.__scopeMenu);return m.jsx(La,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wC=nC("MenuContent.ScrollLock"),La=l.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:u,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,disableOutsideScroll:g,...x}=e,y=vt(Fe,n),w=pr(Fe,n),E=fr(n),v=af(n),b=fC(n),[N,S]=l.useState(null),R=l.useRef(null),O=Te(t,R,y.onContentChange),M=l.useRef(0),z=l.useRef(""),k=l.useRef(0),F=l.useRef(null),B=l.useRef("right"),_=l.useRef(0),j=g?fo:l.Fragment,T=g?{as:wC,allowPinchZoom:!0}:void 0,H=I=>{const G=z.current+I,U=b().filter(K=>!K.disabled),P=document.activeElement,Y=U.find(K=>K.ref.current===P)?.textValue,X=U.map(K=>K.textValue),$=AC(X,G,Y),D=U.find(K=>K.textValue===$)?.ref.current;(function K(Z){z.current=Z,window.clearTimeout(M.current),Z!==""&&(M.current=window.setTimeout(()=>K(""),1e3))})(G),D&&setTimeout(()=>D.focus())};l.useEffect(()=>()=>window.clearTimeout(M.current),[]),na();const L=l.useCallback(I=>B.current===F.current?.side&&kC(I,F.current?.area),[]);return m.jsx(yC,{scope:n,searchRef:z,onItemEnter:l.useCallback(I=>{L(I)&&I.preventDefault()},[L]),onItemLeave:l.useCallback(I=>{L(I)||(R.current?.focus(),S(null))},[L]),onTriggerLeave:l.useCallback(I=>{L(I)&&I.preventDefault()},[L]),pointerGraceTimerRef:k,onPointerGraceIntentChange:l.useCallback(I=>{F.current=I},[]),children:m.jsx(j,{...T,children:m.jsx(lo,{asChild:!0,trapped:o,onMountAutoFocus:ue(i,I=>{I.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:m.jsx(qi,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,children:m.jsx(Wd,{asChild:!0,...v,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:ue(u,I=>{w.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(Pc,{role:"menu","aria-orientation":"vertical","data-state":Df(y.open),"data-radix-menu-content":"",dir:w.dir,...E,...x,ref:O,style:{outline:"none",...x.style},onKeyDown:ue(x.onKeyDown,I=>{const U=I.target.closest("[data-radix-menu-content]")===I.currentTarget,P=I.ctrlKey||I.altKey||I.metaKey,Y=I.key.length===1;U&&(I.key==="Tab"&&I.preventDefault(),!P&&Y&&H(I.key));const X=R.current;if(I.target!==X||!lC.includes(I.key))return;I.preventDefault();const D=b().filter(K=>!K.disabled).map(K=>K.ref.current);of.includes(I.key)&&D.reverse(),TC(D)}),onBlur:ue(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(M.current),z.current="")}),onPointerMove:ue(e.onPointerMove,tr(I=>{const G=I.target,U=_.current!==I.clientX;if(I.currentTarget.contains(G)&&U){const P=I.clientX>_.current?"right":"left";B.current=P,_.current=I.clientX}}))})})})})})})});df.displayName=Fe;var bC="MenuGroup",Fa=l.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(ve.div,{role:"group",...r,ref:t})});Fa.displayName=bC;var CC="MenuLabel",ff=l.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(ve.div,{...r,ref:t})});ff.displayName=CC;var ro="MenuItem",Cc="menu.itemSelect",To=l.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,i=l.useRef(null),a=pr(ro,e.__scopeMenu),s=ja(ro,e.__scopeMenu),u=Te(t,i),c=l.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(Cc,{bubbles:!0,cancelable:!0});f.addEventListener(Cc,h=>r?.(h),{once:!0}),vp(f,p),p.defaultPrevented?c.current=!1:a.onClose()}};return m.jsx(pf,{...o,ref:u,disabled:n,onClick:ue(e.onClick,d),onPointerDown:f=>{e.onPointerDown?.(f),c.current=!0},onPointerUp:ue(e.onPointerUp,f=>{c.current||f.currentTarget?.click()}),onKeyDown:ue(e.onKeyDown,f=>{const p=s.searchRef.current!=="";n||p&&f.key===" "||Xi.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});To.displayName=ro;var pf=l.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=e,a=ja(ro,n),s=af(n),u=l.useRef(null),c=Te(t,u),[d,f]=l.useState(!1),[p,h]=l.useState("");return l.useEffect(()=>{const g=u.current;g&&h((g.textContent??"").trim())},[i.children]),m.jsx(er.ItemSlot,{scope:n,disabled:r,textValue:o??p,children:m.jsx(Gd,{asChild:!0,...s,focusable:!r,children:m.jsx(ve.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ue(e.onPointerMove,tr(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(e.onPointerLeave,tr(g=>a.onItemLeave(g))),onFocus:ue(e.onFocus,()=>f(!0)),onBlur:ue(e.onBlur,()=>f(!1))})})})}),SC="MenuCheckboxItem",hf=l.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return m.jsx(xf,{scope:e.__scopeMenu,checked:n,children:m.jsx(To,{role:"menuitemcheckbox","aria-checked":oo(n)?"mixed":n,...o,ref:t,"data-state":Va(n),onSelect:ue(o.onSelect,()=>r?.(oo(n)?!0:!n),{checkForDefaultPrevented:!1})})})});hf.displayName=SC;var mf="MenuRadioGroup",[EC,_C]=Lt(mf,{value:void 0,onValueChange:()=>{}}),gf=l.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,i=tn(r);return m.jsx(EC,{scope:e.__scopeMenu,value:n,onValueChange:i,children:m.jsx(Fa,{...o,ref:t})})});gf.displayName=mf;var yf="MenuRadioItem",vf=l.forwardRef((e,t)=>{const{value:n,...r}=e,o=_C(yf,e.__scopeMenu),i=n===o.value;return m.jsx(xf,{scope:e.__scopeMenu,checked:i,children:m.jsx(To,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Va(i),onSelect:ue(r.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});vf.displayName=yf;var Ha="MenuItemIndicator",[xf,NC]=Lt(Ha,{checked:!1}),wf=l.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,i=NC(Ha,n);return m.jsx(at,{present:r||oo(i.checked)||i.checked===!0,children:m.jsx(ve.span,{...o,ref:t,"data-state":Va(i.checked)})})});wf.displayName=Ha;var RC="MenuSeparator",bf=l.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});bf.displayName=RC;var DC="MenuArrow",Cf=l.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=fr(n);return m.jsx(Ac,{...o,...r,ref:t})});Cf.displayName=DC;var za="MenuSub",[MC,Sf]=Lt(za),Ef=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:o}=e,i=vt(za,t),a=fr(t),[s,u]=l.useState(null),[c,d]=l.useState(null),f=tn(o);return l.useEffect(()=>(i.open===!1&&f(!1),()=>f(!1)),[i.open,f]),m.jsx(Qi,{...a,children:m.jsx(sf,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:m.jsx(MC,{scope:t,contentId:ke(),triggerId:ke(),trigger:s,onTriggerChange:u,children:n})})})};Ef.displayName=za;var zn="MenuSubTrigger",_f=l.forwardRef((e,t)=>{const n=vt(zn,e.__scopeMenu),r=pr(zn,e.__scopeMenu),o=Sf(zn,e.__scopeMenu),i=ja(zn,e.__scopeMenu),a=l.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:u}=i,c={__scopeMenu:e.__scopeMenu},d=l.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return l.useEffect(()=>d,[d]),l.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),u(null)}},[s,u]),m.jsx(Oa,{asChild:!0,...c,children:m.jsx(pf,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Df(n.open),...e,ref:Qe(t,o.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ue(e.onPointerMove,tr(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ue(e.onPointerLeave,tr(f=>{d();const p=n.content?.getBoundingClientRect();if(p){const h=n.content?.dataset.side,g=h==="right",x=g?-5:5,y=p[g?"left":"right"],w=p[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x:y,y:p.bottom}],side:h}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ue(e.onKeyDown,f=>{const p=i.searchRef.current!=="";e.disabled||p&&f.key===" "||uC[r.dir].includes(f.key)&&(n.onOpenChange(!0),n.content?.focus(),f.preventDefault())})})})});_f.displayName=zn;var Nf="MenuSubContent",Rf=l.forwardRef((e,t)=>{const n=lf(Fe,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=vt(Fe,e.__scopeMenu),a=pr(Fe,e.__scopeMenu),s=Sf(Nf,e.__scopeMenu),u=l.useRef(null),c=Te(t,u);return m.jsx(er.Provider,{scope:e.__scopeMenu,children:m.jsx(at,{present:r||i.open,children:m.jsx(er.Slot,{scope:e.__scopeMenu,children:m.jsx(La,{id:s.contentId,"aria-labelledby":s.triggerId,...o,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&u.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ue(e.onFocusOutside,d=>{d.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ue(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ue(e.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),p=dC[a.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),s.trigger?.focus(),d.preventDefault())})})})})})});Rf.displayName=Nf;function Df(e){return e?"open":"closed"}function oo(e){return e==="indeterminate"}function Va(e){return oo(e)?"indeterminate":e?"checked":"unchecked"}function TC(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function PC(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function AC(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=PC(e,Math.max(i,0));o.length===1&&(a=a.filter(c=>c!==n));const u=a.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return u!==n?u:void 0}function IC(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const s=t[i],u=t[a],c=s.x,d=s.y,f=u.x,p=u.y;d>r!=p>r&&n<(f-c)*(r-d)/(p-d)+c&&(o=!o)}return o}function kC(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return IC(n,t)}function tr(e){return t=>t.pointerType==="mouse"?e(t):void 0}var zS=cf,VS=Oa,BS=uf,WS=df,GS=Fa,YS=ff,XS=To,US=hf,ZS=gf,KS=vf,qS=wf,QS=bf,JS=Cf,eE=Ef,tE=_f,nE=Rf;const OC=l.createContext({hasActiveFilter:!1,clearSchemaIdsFilter:V,clearTableIdsFilter:V,setTableIdsFilterEmpty:V,resetFilter:V,toggleSchemaFilter:V,toggleTableFilter:V,addSchemaToFilter:V,schemasDisplayed:[],addTablesToFilter:V,removeTablesFromFilter:V,loading:!1}),rE=()=>l.useContext(OC),Sc=({table:e,filter:t,options:n={defaultSchema:void 0}})=>{if(!t||!t.tableIds&&!t.schemaIds||t.tableIds&&t.tableIds.includes(e.id))return!0;const r=e.schema??n.defaultSchema;return!!(r&&t.schemaIds&&t.schemaIds.includes(Tc(r)))},$C=({tableA:{id:e,schema:t},tableB:{id:n,schema:r},filter:o,options:i={defaultSchema:void 0}})=>{if(!o)return!0;const a=Sc({table:{id:e,schema:t},filter:o,options:i}),s=Sc({table:{id:n,schema:r},filter:o,options:i});return a&&s},oE=$C;var Ec=1,jC=.9,LC=.8,FC=.17,Ci=.1,Si=.999,HC=.9999,zC=.99,VC=/[\\\/_+.#"@\[\(\{&]/,BC=/[\\\/_+.#"@\[\(\{&]/g,WC=/[\s-]/,Mf=/[\s-]/g;function Ui(e,t,n,r,o,i,a){if(i===t.length)return o===e.length?Ec:zC;var s=`${o},${i}`;if(a[s]!==void 0)return a[s];for(var u=r.charAt(i),c=n.indexOf(u,o),d=0,f,p,h,g;c>=0;)f=Ui(e,t,n,r,c+1,i+1,a),f>d&&(c===o?f*=Ec:VC.test(e.charAt(c-1))?(f*=LC,h=e.slice(o,c-1).match(BC),h&&o>0&&(f*=Math.pow(Si,h.length))):WC.test(e.charAt(c-1))?(f*=jC,g=e.slice(o,c-1).match(Mf),g&&o>0&&(f*=Math.pow(Si,g.length))):(f*=FC,o>0&&(f*=Math.pow(Si,c-o))),e.charAt(c)!==t.charAt(i)&&(f*=HC)),(f<Ci&&n.charAt(c-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(c-1)!==r.charAt(i))&&(p=Ui(e,t,n,r,c+1,i+2,a),p*Ci>f&&(f=p*Ci)),f>d&&(d=f),c=n.indexOf(u,c+1);return a[s]=d,d}function _c(e){return e.toLowerCase().replace(Mf," ")}function GC(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Ui(e,t,_c(e),_c(t),0,0,{})}var Ln='[cmdk-group=""]',Ei='[cmdk-group-items=""]',YC='[cmdk-group-heading=""]',Tf='[cmdk-item=""]',Nc=`${Tf}:not([aria-disabled="true"])`,Zi="cmdk-item-select",Xt="data-value",XC=(e,t,n)=>GC(e,t,n),Pf=l.createContext(void 0),hr=()=>l.useContext(Pf),Af=l.createContext(void 0),Ba=()=>l.useContext(Af),If=l.createContext(void 0),kf=l.forwardRef((e,t)=>{let n=Ut(()=>{var P,Y;return{search:"",value:(Y=(P=e.value)!=null?P:e.defaultValue)!=null?Y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Ut(()=>new Set),o=Ut(()=>new Map),i=Ut(()=>new Map),a=Ut(()=>new Set),s=Of(e),{label:u,children:c,value:d,onValueChange:f,filter:p,shouldFilter:h,loop:g,disablePointerSelection:x=!1,vimBindings:y=!0,...w}=e,E=ke(),v=ke(),b=ke(),N=l.useRef(null),S=o2();$t(()=>{if(d!==void 0){let P=d.trim();n.current.value=P,R.emit()}},[d]),$t(()=>{S(6,B)},[]);let R=l.useMemo(()=>({subscribe:P=>(a.current.add(P),()=>a.current.delete(P)),snapshot:()=>n.current,setState:(P,Y,X)=>{var $,D,K,Z;if(!Object.is(n.current[P],Y)){if(n.current[P]=Y,P==="search")F(),z(),S(1,k);else if(P==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ee=document.getElementById(b);ee?ee.focus():($=document.getElementById(E))==null||$.focus()}if(S(7,()=>{var ee;n.current.selectedItemId=(ee=_())==null?void 0:ee.id,R.emit()}),X||S(5,B),((D=s.current)==null?void 0:D.value)!==void 0){let ee=Y??"";(Z=(K=s.current).onValueChange)==null||Z.call(K,ee);return}}R.emit()}},emit:()=>{a.current.forEach(P=>P())}}),[]),O=l.useMemo(()=>({value:(P,Y,X)=>{var $;Y!==(($=i.current.get(P))==null?void 0:$.value)&&(i.current.set(P,{value:Y,keywords:X}),n.current.filtered.items.set(P,M(Y,X)),S(2,()=>{z(),R.emit()}))},item:(P,Y)=>(r.current.add(P),Y&&(o.current.has(Y)?o.current.get(Y).add(P):o.current.set(Y,new Set([P]))),S(3,()=>{F(),z(),n.current.value||k(),R.emit()}),()=>{i.current.delete(P),r.current.delete(P),n.current.filtered.items.delete(P);let X=_();S(4,()=>{F(),X?.getAttribute("id")===P&&k(),R.emit()})}),group:P=>(o.current.has(P)||o.current.set(P,new Set),()=>{i.current.delete(P),o.current.delete(P)}),filter:()=>s.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:E,inputId:b,labelId:v,listInnerRef:N}),[]);function M(P,Y){var X,$;let D=($=(X=s.current)==null?void 0:X.filter)!=null?$:XC;return P?D(P,n.current.search,Y):0}function z(){if(!n.current.search||s.current.shouldFilter===!1)return;let P=n.current.filtered.items,Y=[];n.current.filtered.groups.forEach($=>{let D=o.current.get($),K=0;D.forEach(Z=>{let ee=P.get(Z);K=Math.max(ee,K)}),Y.push([$,K])});let X=N.current;j().sort(($,D)=>{var K,Z;let ee=$.getAttribute("id"),ae=D.getAttribute("id");return((K=P.get(ae))!=null?K:0)-((Z=P.get(ee))!=null?Z:0)}).forEach($=>{let D=$.closest(Ei);D?D.appendChild($.parentElement===D?$:$.closest(`${Ei} > *`)):X.appendChild($.parentElement===X?$:$.closest(`${Ei} > *`))}),Y.sort(($,D)=>D[1]-$[1]).forEach($=>{var D;let K=(D=N.current)==null?void 0:D.querySelector(`${Ln}[${Xt}="${encodeURIComponent($[0])}"]`);K?.parentElement.appendChild(K)})}function k(){let P=j().find(X=>X.getAttribute("aria-disabled")!=="true"),Y=P?.getAttribute(Xt);R.setState("value",Y||void 0)}function F(){var P,Y,X,$;if(!n.current.search||s.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let D=0;for(let K of r.current){let Z=(Y=(P=i.current.get(K))==null?void 0:P.value)!=null?Y:"",ee=($=(X=i.current.get(K))==null?void 0:X.keywords)!=null?$:[],ae=M(Z,ee);n.current.filtered.items.set(K,ae),ae>0&&D++}for(let[K,Z]of o.current)for(let ee of Z)if(n.current.filtered.items.get(ee)>0){n.current.filtered.groups.add(K);break}n.current.filtered.count=D}function B(){var P,Y,X;let $=_();$&&(((P=$.parentElement)==null?void 0:P.firstChild)===$&&((X=(Y=$.closest(Ln))==null?void 0:Y.querySelector(YC))==null||X.scrollIntoView({block:"nearest"})),$.scrollIntoView({block:"nearest"}))}function _(){var P;return(P=N.current)==null?void 0:P.querySelector(`${Tf}[aria-selected="true"]`)}function j(){var P;return Array.from(((P=N.current)==null?void 0:P.querySelectorAll(Nc))||[])}function T(P){let Y=j()[P];Y&&R.setState("value",Y.getAttribute(Xt))}function H(P){var Y;let X=_(),$=j(),D=$.findIndex(Z=>Z===X),K=$[D+P];(Y=s.current)!=null&&Y.loop&&(K=D+P<0?$[$.length-1]:D+P===$.length?$[0]:$[D+P]),K&&R.setState("value",K.getAttribute(Xt))}function L(P){let Y=_(),X=Y?.closest(Ln),$;for(;X&&!$;)X=P>0?n2(X,Ln):r2(X,Ln),$=X?.querySelector(Nc);$?R.setState("value",$.getAttribute(Xt)):H(P)}let I=()=>T(j().length-1),G=P=>{P.preventDefault(),P.metaKey?I():P.altKey?L(1):H(1)},U=P=>{P.preventDefault(),P.metaKey?T(0):P.altKey?L(-1):H(-1)};return l.createElement(ve.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:P=>{var Y;(Y=w.onKeyDown)==null||Y.call(w,P);let X=P.nativeEvent.isComposing||P.keyCode===229;if(!(P.defaultPrevented||X))switch(P.key){case"n":case"j":{y&&P.ctrlKey&&G(P);break}case"ArrowDown":{G(P);break}case"p":case"k":{y&&P.ctrlKey&&U(P);break}case"ArrowUp":{U(P);break}case"Home":{P.preventDefault(),T(0);break}case"End":{P.preventDefault(),I();break}case"Enter":{P.preventDefault();let $=_();if($){let D=new Event(Zi);$.dispatchEvent(D)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:a2},u),Po(e,P=>l.createElement(Af.Provider,{value:R},l.createElement(Pf.Provider,{value:O},P))))}),UC=l.forwardRef((e,t)=>{var n,r;let o=ke(),i=l.useRef(null),a=l.useContext(If),s=hr(),u=Of(e),c=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:a?.forceMount;$t(()=>{if(!c)return s.item(o,a?.id)},[c]);let d=$f(o,i,[e.value,e.children,i],e.keywords),f=Ba(),p=gt(S=>S.value&&S.value===d.current),h=gt(S=>c||s.filter()===!1?!0:S.search?S.filtered.items.get(o)>0:!0);l.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(Zi,g),()=>S.removeEventListener(Zi,g)},[h,e.onSelect,e.disabled]);function g(){var S,R;x(),(R=(S=u.current).onSelect)==null||R.call(S,d.current)}function x(){f.setState("value",d.current,!0)}if(!h)return null;let{disabled:y,value:w,onSelect:E,forceMount:v,keywords:b,...N}=e;return l.createElement(ve.div,{ref:Qe(i,t),...N,id:o,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!p,"data-disabled":!!y,"data-selected":!!p,onPointerMove:y||s.getDisablePointerSelection()?void 0:x,onClick:y?void 0:g},e.children)}),ZC=l.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:o,...i}=e,a=ke(),s=l.useRef(null),u=l.useRef(null),c=ke(),d=hr(),f=gt(h=>o||d.filter()===!1?!0:h.search?h.filtered.groups.has(a):!0);$t(()=>d.group(a),[]),$f(a,s,[e.value,e.heading,u]);let p=l.useMemo(()=>({id:a,forceMount:o}),[o]);return l.createElement(ve.div,{ref:Qe(s,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&l.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),Po(e,h=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},l.createElement(If.Provider,{value:p},h))))}),KC=l.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,o=l.useRef(null),i=gt(a=>!a.search);return!n&&!i?null:l.createElement(ve.div,{ref:Qe(o,t),...r,"cmdk-separator":"",role:"separator"})}),qC=l.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,o=e.value!=null,i=Ba(),a=gt(c=>c.search),s=gt(c=>c.selectedItemId),u=hr();return l.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),l.createElement(ve.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":s,id:u.inputId,type:"text",value:o?e.value:a,onChange:c=>{o||i.setState("search",c.target.value),n?.(c.target.value)}})}),QC=l.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...o}=e,i=l.useRef(null),a=l.useRef(null),s=gt(c=>c.selectedItemId),u=hr();return l.useEffect(()=>{if(a.current&&i.current){let c=a.current,d=i.current,f,p=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let h=c.offsetHeight;d.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return p.observe(c),()=>{cancelAnimationFrame(f),p.unobserve(c)}}},[]),l.createElement(ve.div,{ref:Qe(i,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":r,id:u.listId},Po(e,c=>l.createElement("div",{ref:Qe(a,u.listInnerRef),"cmdk-list-sizer":""},c)))}),JC=l.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:o,contentClassName:i,container:a,...s}=e;return l.createElement(Pl,{open:n,onOpenChange:r},l.createElement(Al,{container:a},l.createElement(sa,{"cmdk-overlay":"",className:o}),l.createElement(ca,{"aria-label":e.label,"cmdk-dialog":"",className:i},l.createElement(kf,{ref:t,...s}))))}),e2=l.forwardRef((e,t)=>gt(n=>n.filtered.count===0)?l.createElement(ve.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),t2=l.forwardRef((e,t)=>{let{progress:n,children:r,label:o="Loading...",...i}=e;return l.createElement(ve.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Po(e,a=>l.createElement("div",{"aria-hidden":!0},a)))}),Pe=Object.assign(kf,{List:QC,Item:UC,Input:qC,Group:ZC,Separator:KC,Dialog:JC,Empty:e2,Loading:t2});function n2(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function r2(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Of(e){let t=l.useRef(e);return $t(()=>{t.current=e}),t}var $t=typeof window>"u"?l.useEffect:l.useLayoutEffect;function Ut(e){let t=l.useRef();return t.current===void 0&&(t.current=e()),t}function gt(e){let t=Ba(),n=()=>e(t.snapshot());return l.useSyncExternalStore(t.subscribe,n,n)}function $f(e,t,n,r=[]){let o=l.useRef(),i=hr();return $t(()=>{var a;let s=(()=>{var c;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():o.current}})(),u=r.map(c=>c.trim());i.value(e,s,u),(a=t.current)==null||a.setAttribute(Xt,s),o.current=s}),o}var o2=()=>{let[e,t]=l.useState(),n=Ut(()=>new Map);return $t(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,o)=>{n.current.set(r,o),t({})}};function i2(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Po({asChild:e,children:t},n){return e&&l.isValidElement(t)?l.cloneElement(i2(t),{ref:t.ref},n(t.props.children)):n(t)}var a2={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const jf=ce.forwardRef(({className:e,...t},n)=>m.jsx(Pe,{ref:n,className:ye("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));jf.displayName=Pe.displayName;const Lf=ce.forwardRef(({className:e,...t},n)=>m.jsxs("div",{className:"flex items-center border-b px-3","data-cmdk-input-wrapper":"",children:[m.jsx(xh,{className:"mr-2 size-4 shrink-0 opacity-50"}),m.jsx(Pe.Input,{ref:n,className:ye("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Lf.displayName=Pe.Input.displayName;const Ff=ce.forwardRef(({className:e,...t},n)=>m.jsx(Pe.List,{ref:n,className:ye("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Ff.displayName=Pe.List.displayName;const Hf=ce.forwardRef((e,t)=>m.jsx(Pe.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Hf.displayName=Pe.Empty.displayName;const zf=ce.forwardRef(({className:e,...t},n)=>m.jsx(Pe.Group,{ref:n,className:ye("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));zf.displayName=Pe.Group.displayName;const s2=ce.forwardRef(({className:e,...t},n)=>m.jsx(Pe.Separator,{ref:n,className:ye("-mx-1 h-px bg-border",e),...t}));s2.displayName=Pe.Separator.displayName;const Vf=ce.forwardRef(({className:e,...t},n)=>m.jsx(Pe.Item,{ref:n,className:ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Vf.displayName=Pe.Item.displayName;function c2(e){const t=l2(e),n=l.forwardRef((r,o)=>{const{children:i,...a}=r,s=l.Children.toArray(i),u=s.find(d2);if(u){const c=u.props.children,d=s.map(f=>f===u?l.Children.count(c)>1?l.Children.only(null):l.isValidElement(c)?c.props.children:null:f);return m.jsx(t,{...a,ref:o,children:l.isValidElement(c)?l.cloneElement(c,void 0,d):null})}return m.jsx(t,{...a,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function l2(e){const t=l.forwardRef((n,r)=>{const{children:o,...i}=n;if(l.isValidElement(o)){const a=p2(o),s=f2(i,o.props);return o.type!==l.Fragment&&(s.ref=r?Qe(r,a):a),l.cloneElement(o,s)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var u2=Symbol("radix.slottable");function d2(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===u2}function f2(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...s)=>{const u=i(...s);return o(...s),u}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function p2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ao="Popover",[Bf]=fn(Ao,[io]),mr=io(),[h2,xt]=Bf(Ao),Wf=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:a=!1}=e,s=mr(t),u=l.useRef(null),[c,d]=l.useState(!1),[f,p]=pn({prop:r,defaultProp:o??!1,onChange:i,caller:Ao});return m.jsx(Qi,{...s,children:m.jsx(h2,{scope:t,contentId:ke(),triggerRef:u,open:f,onOpenChange:p,onOpenToggle:l.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:c,onCustomAnchorAdd:l.useCallback(()=>d(!0),[]),onCustomAnchorRemove:l.useCallback(()=>d(!1),[]),modal:a,children:n})})};Wf.displayName=Ao;var Gf="PopoverAnchor",m2=l.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=xt(Gf,n),i=mr(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=o;return l.useEffect(()=>(a(),()=>s()),[a,s]),m.jsx(Ji,{...i,...r,ref:t})});m2.displayName=Gf;var Yf="PopoverTrigger",Xf=l.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=xt(Yf,n),i=mr(n),a=Te(t,o.triggerRef),s=m.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Qf(o.open),...r,ref:a,onClick:ue(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?s:m.jsx(Ji,{asChild:!0,...i,children:s})});Xf.displayName=Yf;var Wa="PopoverPortal",[g2,y2]=Bf(Wa,{forceMount:void 0}),Uf=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=xt(Wa,t);return m.jsx(g2,{scope:t,forceMount:n,children:m.jsx(at,{present:n||i.open,children:m.jsx(ao,{asChild:!0,container:o,children:r})})})};Uf.displayName=Wa;var dn="PopoverContent",Zf=l.forwardRef((e,t)=>{const n=y2(dn,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=xt(dn,e.__scopePopover);return m.jsx(at,{present:r||i.open,children:i.modal?m.jsx(x2,{...o,ref:t}):m.jsx(w2,{...o,ref:t})})});Zf.displayName=dn;var v2=c2("PopoverContent.RemoveScroll"),x2=l.forwardRef((e,t)=>{const n=xt(dn,e.__scopePopover),r=l.useRef(null),o=Te(t,r),i=l.useRef(!1);return l.useEffect(()=>{const a=r.current;if(a)return ra(a)},[]),m.jsx(fo,{as:v2,allowPinchZoom:!0,children:m.jsx(Kf,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,a=>{a.preventDefault(),i.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,u=s.button===0&&s.ctrlKey===!0,c=s.button===2||u;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ue(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),w2=l.forwardRef((e,t)=>{const n=xt(dn,e.__scopePopover),r=l.useRef(!1),o=l.useRef(!1);return m.jsx(Kf,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=i.target;n.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Kf=l.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,...f}=e,p=xt(dn,n),h=mr(n);return na(),m.jsx(lo,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:m.jsx(qi,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:m.jsx(Pc,{"data-state":Qf(p.open),role:"dialog",id:p.contentId,...h,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qf="PopoverClose",b2=l.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=xt(qf,n);return m.jsx(ve.button,{type:"button",...r,ref:t,onClick:ue(e.onClick,()=>o.onOpenChange(!1))})});b2.displayName=qf;var C2="PopoverArrow",S2=l.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=mr(n);return m.jsx(Ac,{...o,...r,ref:t})});S2.displayName=C2;function Qf(e){return e?"open":"closed"}var E2=Wf,_2=Xf,N2=Uf,Jf=Zf;const R2=E2,D2=_2,ep=ce.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>m.jsx(N2,{children:m.jsx(Jf,{ref:o,align:t,sideOffset:n,className:ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ep.displayName=Jf.displayName;const tp=l.forwardRef(({inputPlaceholder:e,emptyPlaceholder:t,placeholder:n,className:r,options:o,value:i,valueSuffix:a,onChange:s,multiple:u,oneLine:c,selectAll:d,optionSuffix:f,deselectAll:p,clearText:h,showClear:g,keepOrder:x,disabled:y,open:w,onOpenChange:E,popoverClassName:v,readonly:b,footerButtons:N,commandOnMouseDown:S,commandOnClick:R,onSearchChange:O},M)=>{const[z,k]=l.useState(""),[F,B]=l.useState(w??!1),{t:_}=Tp();l.useEffect(()=>{B(w??!1)},[w]);const j=l.useCallback($=>{E?.($),B($),$&&k(""),setTimeout(()=>document.body.style.pointerEvents="",500)},[E]),T=l.useCallback(($,D)=>{if(u){const K=i?.includes($)&&Array.isArray(i)?i.filter(Z=>Z!==$):[...i??[],$];s?.(K)}else s?.($,D),B(!1)},[u,s,i]),H=l.useCallback(()=>{u&&s?.(u?[]:"")},[u,s]),L=l.useCallback(()=>{if(!u)return;const $=o.map(D=>D.value);s?.($)},[u,s,o]),I=l.useMemo(()=>o.filter($=>Array.isArray(i)&&i.includes($.value)).sort(($,D)=>x&&Array.isArray(i)?i.indexOf($.value)-i.indexOf(D.value):0).map($=>m.jsxs("span",{className:`inline-flex min-w-0 shrink-0 items-center gap-1 rounded-md border py-0.5 pl-2 pr-1 text-xs font-medium text-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${c?"mx-0.5":""}`,children:[m.jsx("span",{children:$.label}),b?null:m.jsx("span",{onClick:D=>{D.preventDefault(),T($.value)},className:"flex items-center rounded-sm px-px text-muted-foreground/60 hover:bg-accent hover:text-muted-foreground",children:m.jsx(Ir,{})})]},$.value)),[o,i,T,c,x,b]),G=l.useMemo(()=>u&&Array.isArray(i)&&o.every($=>i.includes($.value)),[o,i,u]),U=l.useCallback($=>{!F&&$.code.toLowerCase()==="space"&&($.preventDefault(),j(!0))},[F,j]),P=l.useMemo(()=>o.reduce(($,D)=>(D.group?($[D.group]||($[D.group]=[]),$[D.group].push(D)):($.default||($.default=[]),$.default.push(D)),$),{}),[o]),Y=l.useMemo(()=>Object.keys(P).filter($=>$!=="default").length>0,[P]),X=l.useCallback($=>{const D=Array.isArray(i)&&i.includes($.value),K=$.regex&&new RegExp($.regex)?.test(z),Z=$.extractRegex?z.match($.extractRegex):void 0;return m.jsxs(Vf,{className:"flex items-center",value:$.label,keywords:$.regex?[$.regex]:void 0,onSelect:()=>T($.value,Z?.map(ee=>ee?.toString())),onMouseDown:S,onClick:R,children:[u&&m.jsx("div",{className:ye("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",D?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:m.jsx(Ja,{})}),m.jsxs("div",{className:"flex flex-1 items-center truncate",children:[$.icon?m.jsx("span",{className:"mr-2 shrink-0",children:$.icon}):null,m.jsxs("span",{children:[K?z:$.label,!K&&f?f($):""]}),$.description&&m.jsx("span",{className:"ml-1 w-0 flex-1 truncate text-xs text-muted-foreground",children:$.description})]}),(!u&&$.value===i||K)&&m.jsx(Ja,{className:ye("ml-auto",$.value===i?"opacity-100":"opacity-0")})]},$.value)},[i,u,z,T,f,R,S]);return m.jsxs(R2,{open:F,onOpenChange:j,modal:!0,children:[m.jsx(D2,{asChild:!0,tabIndex:0,onKeyDown:U,children:m.jsxs("div",{className:ye(`flex min-h-[36px] cursor-pointer items-center justify-between rounded-md border px-3 py-1 data-[state=open]:border-ring ${y?"bg-muted pointer-events-none":""} ${b?"pointer-events-none":""}`,r),children:[m.jsx("div",{className:ye("items-center gap-1 overflow-hidden text-sm",u?"flex flex-grow flex-wrap":"inline-flex whitespace-nowrap"),children:i&&i.length>0?u?c?m.jsx("div",{className:"block w-full min-w-0 shrink-0 truncate",children:I}):I:m.jsxs("div",{className:"block w-full min-w-0 shrink-0 truncate",children:[o.find($=>$.value===i)?.label,a||""]}):m.jsx("span",{className:"mr-auto text-muted-foreground",children:n})}),m.jsx("div",{className:"flex items-center self-stretch pl-1 text-muted-foreground/60 hover:text-foreground [&>div]:flex [&>div]:items-center [&>div]:self-stretch",children:i&&i.length>0&&u&&g?m.jsx("div",{onClick:$=>{$.preventDefault(),H()},children:h?m.jsx("span",{className:"text-xs",children:h}):m.jsx(Ir,{className:"size-3.5"})}):m.jsx("div",{children:m.jsx(ch,{className:"size-4"})})})]})}),m.jsxs(ep,{className:ye("w-fit min-w-[var(--radix-popover-trigger-width)] p-0",v),align:"center",onMouseDown:$=>$.stopPropagation(),onClick:$=>$.stopPropagation(),children:[m.jsxs(jf,{filter:($,D,K)=>K?.length&&K.some(Z=>new RegExp(Z).test(D))||$.toLowerCase().includes(D.toLowerCase())?1:0,children:[m.jsxs("div",{className:"relative",children:[m.jsx(Lf,{value:z,onValueChange:$=>{k($),O?.($)},ref:M,placeholder:e??"Search...",className:"h-9"}),z&&m.jsx("div",{className:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-3 text-muted-foreground hover:text-foreground",onClick:()=>k(""),children:m.jsx(Ir,{className:"size-4"})}),!z&&u&&d&&!G&&m.jsx("div",{className:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-3 text-xs text-muted-foreground hover:text-foreground",onClick:$=>{$.preventDefault(),L()},children:_("select_all")}),!z&&u&&p&&G&&m.jsx("div",{className:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-3 text-xs text-muted-foreground hover:text-foreground",onClick:$=>{$.preventDefault(),H()},children:_("deselect_all")})]}),m.jsx(Hf,{children:t??"No results found."}),m.jsx(pa,{children:m.jsx("div",{className:"max-h-64 w-full",children:m.jsx(Ff,{className:"max-h-fit w-full",children:Y?Object.entries(P).map(([$,D])=>m.jsx(zf,{heading:$,children:D.map(X)},$)):o.map(X)})})})]}),N?m.jsx("div",{className:"border-t",children:N}):null]})]})});tp.displayName="SelectBox";const M2=()=>l.useContext(mg),iE=()=>l.useContext(Sg),T2=l.createContext({closeAlert:V,showAlert:V}),aE=()=>l.useContext(T2),np=()=>({graph:new Map,lastUpdated:Date.now()}),Rc=(e,t)=>(e.graph.has(t)||e.graph.set(t,[]),{...e,lastUpdated:Date.now()}),P2=(e,t,n)=>(e.graph.has(t)||Rc(e,t),e.graph.has(n)||Rc(e,n),e.graph.get(t)?.includes(n)||e.graph.get(t)?.push(n),e.graph.get(n)?.includes(t)||e.graph.get(n)?.push(t),{...e,lastUpdated:Date.now()}),sE=(e,t)=>(e.graph.delete(t),e.graph.forEach(n=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}),{...e,lastUpdated:Date.now()}),A2=(e,t,n)=>{if(e.graph.has(t)){const r=e.graph.get(t)?.indexOf(n)??-1;r!==-1&&e.graph.get(t)?.splice(r,1)}if(e.graph.has(n)){const r=e.graph.get(n)?.indexOf(t)??-1;r!==-1&&e.graph.get(n)?.splice(r,1)}return{...e,lastUpdated:Date.now()}},I2=l.createContext({reorderTables:V,fitView:V,setOverlapGraph:V,overlapGraph:np(),setShowFilter:V,showFilter:!1,editTableModeTable:null,setEditTableModeTable:V,openRelationshipPopover:V,closeRelationshipPopover:V,editRelationshipPopover:null,tempFloatingEdge:null,setTempFloatingEdge:V,startFloatingEdgeCreation:V,endFloatingEdgeCreation:V,hoveringTableId:null,setHoveringTableId:V,showCreateRelationshipNode:V,hideCreateRelationshipNode:V,events:new ol.EventEmitter}),cE=({cardinality:e,selected:t,side:n})=>`cardinality_${t?"selected":"not_selected"}_${e}_${n}`,_i=({node:e,table:t})=>{const n=e?.id??t?.id??"",r=e?.position.x??t?.x??0,o=e?.position.y??t?.y??0,i=e?.measured?.width??e?.data.table.width??t?.width??xp,a=e?e?.measured?.height??Ka(e.data.table):Ka(t);return{id:n,left:r,right:r+i,top:o,bottom:o+a}},Dc=({node:e,table:t},{nodes:n,tables:r},o)=>{const i=e?.id??t?.id??"",a=_i(e?{node:e}:{table:t});for(const s of n??r??[]){if(i===s.id)continue;const c=_i(!!n?{node:s}:{table:s});a.left<c.right&&a.right>c.left&&a.top<c.bottom&&a.bottom>c.top?o=P2(o,i,s.id):o=A2(o,i,s.id)}return o},lE=({tables:e,nodes:t})=>{let n=np();if(e)for(const r of e)n=Dc({table:r},{tables:e},n);else for(const r of t)n=Dc({node:r},{nodes:t},n);return n},k2=()=>l.useContext(I2),uE="__create-relationship-node__",Mc="CREATE_NEW",O2=ce.memo(({data:e})=>{const{sourceTableId:t,targetTableId:n}=e,{getTable:r,createRelationship:o,databaseType:i,addField:a}=ih(),{hideCreateRelationshipNode:s}=k2(),{setEdges:u}=No(),{openRelationshipFromSidebar:c}=M2(),[d,f]=l.useState(),[p,h]=l.useState(""),[g,x]=l.useState(!1),[y,w]=l.useState(!1),[E,v]=l.useState(""),b=l.useMemo(()=>r(t),[t,r]),N=l.useMemo(()=>r(n),[n,r]),S=l.useMemo(()=>b?b.fields.find(M=>M.primaryKey)||b.fields[0]:null,[b]);l.useEffect(()=>{f(void 0),v(""),h(""),w(!0)},[t,n]);const R=l.useMemo(()=>{if(!N||!S)return[];const M=N.fields.filter(z=>wp(S.type,z.type,i)).map(z=>({label:z.name,value:z.id,description:`(${z.type.name})`}));return E&&!M.find(z=>z.label.toLowerCase()===E.toLowerCase())&&M.push({label:`Create "${E}"`,value:Mc,description:`(${S.type.name})`}),M},[N,S,i,E]);l.useEffect(()=>{if(R.length>0&&!d)f(R[0].value);else if(R.length===0&&!E&&b&&S){const M=S.name.toLowerCase()==="id"?`${b.name}_${S.name}`:S.name;v(M)}},[R.length,b,S,E,d,R]),l.useEffect(()=>{w(!0);const M=requestAnimationFrame(()=>{x(!0)});return()=>cancelAnimationFrame(M)},[]);const O=l.useCallback(async()=>{if(S)try{let M=d;if(d===Mc&&E){const k={id:Ze(),name:E,type:S.type,unique:!1,nullable:!0,primaryKey:!1,createdAt:Date.now()};try{await a(n,k),M=k.id}catch(F){console.error("Failed to create field:",F),h("Failed to create new field");return}}if(!M){h("Please select a target field");return}const z=await o({sourceTableId:t,sourceFieldId:S.id,targetTableId:n,targetFieldId:M});u(k=>k.map(F=>F.id===z.id?{...F,selected:!0}:{...F,selected:!1})),c(z.id),s()}catch(M){console.error(M),h("Failed to create relationship")}},[S,d,E,t,n,o,a,u,c,s]);return!b||!N||!S?null:m.jsxs("div",{className:ye("pointer-events-auto flex cursor-auto flex-col rounded-lg border border-slate-300 bg-white shadow-xl transition-all duration-150 ease-out dark:border-slate-600 dark:bg-slate-800",{"scale-100 opacity-100":g,"scale-95 opacity-0":!g}),style:{minWidth:"380px",maxWidth:"420px"},onClick:M=>M.stopPropagation(),children:[m.jsxs("div",{className:"flex cursor-move items-center justify-between gap-2 rounded-t-[7px] border-b bg-sky-600 px-3 py-1 dark:border-slate-600 dark:bg-sky-800",children:[m.jsx("div",{className:"text-xs font-semibold text-white",children:"Create Relationship"}),m.jsx(qa,{variant:"ghost",size:"sm",className:"size-6 p-0 text-white hover:bg-white/20 hover:text-white dark:hover:bg-white/10",onClick:s,children:m.jsx(Qp,{className:"size-4"})})]}),m.jsxs("div",{className:"nodrag flex flex-col gap-3 p-3",children:[m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsxs("div",{className:"flex flex-1 flex-col gap-1.5",children:[m.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"From (PK)"}),m.jsx("div",{className:"flex h-7 items-center rounded-md border border-slate-200 bg-slate-50 px-2.5 text-sm font-medium text-slate-700 dark:border-slate-600 dark:bg-slate-900 dark:text-slate-200",children:S.name}),m.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:b.name})]}),m.jsx("div",{className:"flex items-center",children:m.jsx(Ip,{className:"size-3.5 text-slate-400 dark:text-slate-500"})}),m.jsxs("div",{className:"flex flex-1 flex-col gap-1.5",children:[m.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"To (FK)"}),m.jsx(tp,{className:"flex h-7 min-h-0 w-full dark:border-slate-200",popoverClassName:"!z-[1001]",options:R,placeholder:"Select field...",inputPlaceholder:"Search or Create...",value:d,onChange:M=>{f(M)},emptyPlaceholder:"No compatible fields",onSearchChange:v,open:y,onOpenChange:w}),m.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:N.name})]})]}),p&&m.jsx("div",{className:"rounded-md bg-red-50 p-2 text-xs text-red-600 dark:bg-red-900/20 dark:text-red-400",children:p}),R.length===0&&m.jsx("div",{className:"rounded-md bg-yellow-50 p-2 text-xs text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",children:"No compatible fields found in target table"})]}),m.jsx("div",{className:"flex cursor-move items-center justify-end gap-2 rounded-b-lg border-t border-slate-200 bg-slate-50 px-3 py-2 dark:border-slate-600 dark:bg-slate-900",children:m.jsx(qa,{disabled:!d||R.length===0,type:"button",onClick:O,variant:"default",className:"h-7 bg-sky-600 px-3 text-xs text-white hover:bg-sky-700 dark:bg-sky-800 dark:text-white dark:hover:bg-sky-900",children:"Create"})})]})});O2.displayName="CreateRelationshipNode";export{Gd as $,$C as A,oE as B,lS as C,kl as D,U2 as E,Z2 as F,q2 as G,Ol as H,Ir as I,mS as J,dS as K,hS as L,HS as M,zS as N,sa as O,Al as P,eE as Q,Qw as R,tC as S,Il as T,Aa as U,iS as V,Mo as W,Qp as X,al as Y,Wd as Z,ta as _,SS as a,lE as a$,VS as a0,BS as a1,WS as a2,XS as a3,QS as a4,tE as a5,nE as a6,US as a7,qS as a8,GS as a9,bS as aA,xS as aB,pS as aC,ix as aD,Q2 as aE,OS as aF,$S as aG,kS as aH,oS as aI,FS as aJ,cS as aK,eS as aL,tS as aM,jS as aN,K2 as aO,ra as aP,na as aQ,fo as aR,lo as aS,ch as aT,uS as aU,ah as aV,yS as aW,vS as aX,T2 as aY,np as aZ,xg as a_,YS as aa,ZS as ab,KS as ac,JS as ad,Ja as ae,fS as af,aE as ag,iE as ah,ao as ai,wS as aj,lg as ak,El as al,pg as am,mg as an,gg as ao,yg as ap,Sg as aq,Zb as ar,J2 as as,Ub as at,Y2 as au,X2 as av,ug as aw,fg as ax,hg as ay,dg as az,Pl as b,uE as b0,I2 as b1,wg as b2,OC as b3,_S as b4,Gw as b5,eo as b6,ne as b7,k2 as b8,LS as b9,Xb as ba,de as bb,IS as bc,zi as bd,cE as be,MS as bf,RS as bg,DS as bh,Dc as bi,sE as bj,Jn as bk,ES as bl,Kn as bm,O2 as bn,PS as bo,AS as bp,TS as bq,mt as br,ca as c,Mb as d,ih as e,W2 as f,aS as g,ea as h,rE as i,rS as j,G2 as k,R2 as l,D2 as m,ep as n,tp as o,sS as p,NS as q,Sc as r,nS as s,pa as t,M2 as u,ha as v,CS as w,fs as x,No as y,gS as z};
